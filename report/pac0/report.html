<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title id="head-title">report.html</title>
      <style type="text/css">body {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 12px;
  /* do not increase min-width as some may use split screens */
  min-width: 800px;
  color: #999;
}

h1 {
  font-size: 24px;
  color: black;
}

h2 {
  font-size: 16px;
  color: black;
}

p {
  color: black;
}

a {
  color: #999;
}

table {
  border-collapse: collapse;
}

/******************************
 * SUMMARY INFORMATION
 ******************************/
#environment td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  vertical-align: top;
}
#environment tr:nth-child(odd) {
  background-color: #f6f6f6;
}
#environment ul {
  margin: 0;
  padding: 0 20px;
}

/******************************
 * TEST RESULT COLORS
 ******************************/
span.passed,
.passed .col-result {
  color: green;
}

span.skipped,
span.xfailed,
span.rerun,
.skipped .col-result,
.xfailed .col-result,
.rerun .col-result {
  color: orange;
}

span.error,
span.failed,
span.xpassed,
.error .col-result,
.failed .col-result,
.xpassed .col-result {
  color: red;
}

.col-links__extra {
  margin-right: 3px;
}

/******************************
 * RESULTS TABLE
 *
 * 1. Table Layout
 * 2. Extra
 * 3. Sorting items
 *
 ******************************/
/*------------------
 * 1. Table Layout
 *------------------*/
#results-table {
  border: 1px solid #e6e6e6;
  color: #999;
  font-size: 12px;
  width: 100%;
}
#results-table th,
#results-table td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  text-align: left;
}
#results-table th {
  font-weight: bold;
}

/*------------------
 * 2. Extra
 *------------------*/
.logwrapper {
  max-height: 230px;
  overflow-y: scroll;
  background-color: #e6e6e6;
}
.logwrapper.expanded {
  max-height: none;
}
.logwrapper.expanded .logexpander:after {
  content: "collapse [-]";
}
.logwrapper .logexpander {
  z-index: 1;
  position: sticky;
  top: 10px;
  width: max-content;
  border: 1px solid;
  border-radius: 3px;
  padding: 5px 7px;
  margin: 10px 0 10px calc(100% - 80px);
  cursor: pointer;
  background-color: #e6e6e6;
}
.logwrapper .logexpander:after {
  content: "expand [+]";
}
.logwrapper .logexpander:hover {
  color: #000;
  border-color: #000;
}
.logwrapper .log {
  min-height: 40px;
  position: relative;
  top: -50px;
  height: calc(100% + 50px);
  border: 1px solid #e6e6e6;
  color: black;
  display: block;
  font-family: "Courier New", Courier, monospace;
  padding: 5px;
  padding-right: 80px;
  white-space: pre-wrap;
}

div.media {
  border: 1px solid #e6e6e6;
  float: right;
  height: 240px;
  margin: 0 5px;
  overflow: hidden;
  width: 320px;
}

.media-container {
  display: grid;
  grid-template-columns: 25px auto 25px;
  align-items: center;
  flex: 1 1;
  overflow: hidden;
  height: 200px;
}

.media-container--fullscreen {
  grid-template-columns: 0px auto 0px;
}

.media-container__nav--right,
.media-container__nav--left {
  text-align: center;
  cursor: pointer;
}

.media-container__viewport {
  cursor: pointer;
  text-align: center;
  height: inherit;
}
.media-container__viewport img,
.media-container__viewport video {
  object-fit: cover;
  width: 100%;
  max-height: 100%;
}

.media__name,
.media__counter {
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  flex: 0 0 25px;
  align-items: center;
}

.collapsible td:not(.col-links) {
  cursor: pointer;
}
.collapsible td:not(.col-links):hover::after {
  color: #bbb;
  font-style: italic;
  cursor: pointer;
}

.col-result {
  width: 130px;
}
.col-result:hover::after {
  content: " (hide details)";
}

.col-result.collapsed:hover::after {
  content: " (show details)";
}

#environment-header h2:hover::after {
  content: " (hide details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

#environment-header.collapsed h2:hover::after {
  content: " (show details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

/*------------------
 * 3. Sorting items
 *------------------*/
.sortable {
  cursor: pointer;
}
.sortable.desc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: -12.5px;
  border: 10px solid #4caf50;
  border-bottom: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}
.sortable.asc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: 12.5px;
  border: 10px solid #4caf50;
  border-top: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}

.hidden, .summary__reload__button.hidden {
  display: none;
}

.summary__data {
  flex: 0 0 550px;
}
.summary__reload {
  flex: 1 1;
  display: flex;
  justify-content: center;
}
.summary__reload__button {
  flex: 0 0 300px;
  display: flex;
  color: white;
  font-weight: bold;
  background-color: #4caf50;
  text-align: center;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  cursor: pointer;
}
.summary__reload__button:hover {
  background-color: #46a049;
}
.summary__spacer {
  flex: 0 0 550px;
}

.controls {
  display: flex;
  justify-content: space-between;
}

.filters,
.collapse {
  display: flex;
  align-items: center;
}
.filters button,
.collapse button {
  color: #999;
  border: none;
  background: none;
  cursor: pointer;
  text-decoration: underline;
}
.filters button:hover,
.collapse button:hover {
  color: #ccc;
}

.filter__label {
  margin-right: 10px;
}

      </style>
    
  </head>
  <body>
    <h1 id="title">report.html</h1>
    <p>Report generated on 13-Jan-2026 at 17:53:06 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a>
        v4.1.1</p>
    <div id="environment-header">
      <h2>Environment</h2>
    </div>
    <table id="environment"></table>
    <!-- TEMPLATES -->
      <template id="template_environment_row">
      <tr>
        <td></td>
        <td></td>
      </tr>
    </template>
    <template id="template_results-table__body--empty">
      <tbody class="results-table-row">
        <tr id="not-found-message">
          <td colspan="4">No results found. Check the filters.</th>
        </tr>
    </template>
    <template id="template_results-table__tbody">
      <tbody class="results-table-row">
        <tr class="collapsible">
        </tr>
        <tr class="extras-row">
          <td class="extra" colspan="4">
            <div class="extraHTML"></div>
            <div class="media">
              <div class="media-container">
                  <div class="media-container__nav--left"><</div>
                  <div class="media-container__viewport">
                    <img src="" />
                    <video controls>
                      <source src="" type="video/mp4">
                    </video>
                  </div>
                  <div class="media-container__nav--right">></div>
                </div>
                <div class="media__name"></div>
                <div class="media__counter"></div>
            </div>
            <div class="logwrapper">
              <div class="logexpander"></div>
              <div class="log"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </template>
    <!-- END TEMPLATES -->
    <div class="summary">
      <div class="summary__data">
        <h2>Summary</h2>
        <div class="additional-summary prefix">
        </div>
        <p class="run-count">77 tests took 00:04:03.</p>
        <p class="filter">(Un)check the boxes to filter the results.</p>
        <div class="summary__reload">
          <div class="summary__reload__button hidden" onclick="location.reload()">
            <div>There are still tests running. <br />Reload this page to get the latest results!</div>
          </div>
        </div>
        <div class="summary__spacer"></div>
        <div class="controls">
          <div class="filters">
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="failed" />
            <span class="failed">20 Failed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="passed" />
            <span class="passed">57 Passed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="skipped" />
            <span class="skipped">4 Skipped,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xfailed" disabled/>
            <span class="xfailed">0 Expected failures,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xpassed" disabled/>
            <span class="xpassed">0 Unexpected passes,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="error" />
            <span class="error">5 Errors,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="rerun" disabled/>
            <span class="rerun">0 Reruns</span>
          </div>
          <div class="collapse">
            <button id="show_all_details">Show all details</button>&nbsp;/&nbsp;<button id="hide_all_details">Hide all details</button>
          </div>
        </div>
      </div>
      <div class="additional-summary summary">
      </div>
      <div class="additional-summary postfix">
      </div>
    </div>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable" data-column-type="result">Result</th>
          <th class="sortable" data-column-type="testId">Test</th>
          <th class="sortable" data-column-type="duration">Duration</th>
          <th>Links</th>
        </tr>
      </thead>
    </table>
  </body>
  <footer>
    <div id="data-container" data-jsonblob="{&#34;environment&#34;: {&#34;Python&#34;: &#34;3.13.2&#34;, &#34;Platform&#34;: &#34;Linux-6.8.0-90-generic-x86_64-with-glibc2.39&#34;, &#34;Packages&#34;: {&#34;pytest&#34;: &#34;8.4.2&#34;, &#34;pluggy&#34;: &#34;1.6.0&#34;}, &#34;Plugins&#34;: {&#34;html&#34;: &#34;4.1.1&#34;, &#34;bdd&#34;: &#34;8.1.0&#34;, &#34;metadata&#34;: &#34;3.1.1&#34;, &#34;asyncio&#34;: &#34;1.3.0&#34;, &#34;md-report&#34;: &#34;0.7.0&#34;, &#34;anyio&#34;: &#34;4.12.0&#34;}}, &#34;tests&#34;: {&#34;tests/test_asyncio.py::test_0010&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_asyncio.py::test_0010&#34;, &#34;duration&#34;: &#34;00:00:03&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_asyncio.py::test_0010&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:03&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n&amp;gt; a\n&amp;lt; a\n&amp;gt; b\n&amp;lt; b\n&amp;gt; c\n&amp;lt; c\n&#34;}], &#34;tests/test_asyncio.py::test_0020&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_asyncio.py::test_0020&#34;, &#34;duration&#34;: &#34;00:00:02&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_asyncio.py::test_0020&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:02&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n&amp;gt; group 0\n&amp;gt; group 1\n&amp;gt; group 2\n&amp;lt; group 0\n&amp;lt; group 1\n&amp;lt; group 2\n&#34;}], &#34;tests/test_asyncio.py::test_0030&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_asyncio.py::test_0030&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_asyncio.py::test_0030&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n&amp;gt; a\n&amp;gt; b\n&amp;gt; c\n&amp;lt; a\n&amp;lt; b\nFirst two results: [&amp;#x27;a&amp;#x27;, &amp;#x27;b&amp;#x27;]\n&#34;}], &#34;tests/test_fastapi.py::test_00100&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_fastapi.py::test_00100&#34;, &#34;duration&#34;: &#34;391 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fastapi.py::test_00100&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;391 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:42316 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8804 (Press CTRL+C to quit)\nINFO:httpx:HTTP Request: GET http://0.0.0.0:8804/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://0.0.0.0:8804/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n&#34;}], &#34;tests/test_fastapi.py::test_00110&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_fastapi.py::test_00110&#34;, &#34;duration&#34;: &#34;347 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fastapi.py::test_00110&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;347 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:54058 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8224 (Press CTRL+C to quit)\nINFO:httpx:HTTP Request: GET http://0.0.0.0:8224/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://0.0.0.0:8224/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n&#34;}], &#34;tests/test_fastapi.py::test_00120&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_fastapi.py::test_00120&#34;, &#34;duration&#34;: &#34;348 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fastapi.py::test_00120&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;348 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:37740 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8219 (Press CTRL+C to quit)\nINFO:httpx:HTTP Request: GET http://0.0.0.0:8219/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://0.0.0.0:8219/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n&#34;}], &#34;tests/test_fastapi.py::test_00130&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_fastapi.py::test_00130&#34;, &#34;duration&#34;: &#34;347 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fastapi.py::test_00130&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;347 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:39516 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8260 (Press CTRL+C to quit)\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8260/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8260/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n&#34;}], &#34;tests/test_fastapi.py::test_api_world_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_fastapi.py::test_api_world_fixture&#34;, &#34;duration&#34;: &#34;00:00:03&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fastapi.py::test_api_world_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:03&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:49:10,063 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:10,168 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:10,170 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:10,171 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:10,177 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:10,180 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:10,181 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:10,182 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:10,183 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,184 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,185 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,186 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,187 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:10,188 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:10,189 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,190 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,191 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,192 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,193 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:10,193 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:10,194 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:10,195 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:10,196 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:10,197 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:10,198 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:10,199 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:10,200 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,201 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,202 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,203 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,204 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:10,205 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:10,206 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,207 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,208 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,209 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:10,210 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8225 (Press CTRL+C to quit)\n2026-01-13 17:49:10,168 INFO     - FastStream app starting...\n2026-01-13 17:49:10,193 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:49:10,193 INFO     - FastStream app starting...\n2026-01-13 17:49:10,210 INFO     - FastStream app started successfully! To exit, press CTRL+C\n\n----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:37042 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\nINFO:     127.0.0.1:37042 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8225/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8225/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8225/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8225/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_fastapi.py::test_api_world4_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_fastapi.py::test_api_world4_fixture&#34;, &#34;duration&#34;: &#34;00:00:04&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fastapi.py::test_api_world4_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:04&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:49:13,430 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,536 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,538 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,539 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,540 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,541 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,542 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,543 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,544 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,546 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,547 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,548 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,549 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,550 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,551 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,552 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,553 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,556 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,557 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:13,558 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,559 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,560 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,561 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,562 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,563 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,564 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,565 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,566 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,567 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,568 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,569 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,570 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,570 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,571 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,572 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,573 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,574 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:13,578 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,684 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,686 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,687 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,688 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,689 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,690 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,691 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,692 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,694 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,695 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,696 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,696 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,697 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,697 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,698 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,699 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,699 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,700 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:13,700 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,700 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,701 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,702 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,702 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,703 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,703 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,704 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,704 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,705 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,706 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,706 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,707 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,707 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,708 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,708 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,709 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,710 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:13,713 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,820 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,822 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,823 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,824 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,825 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,826 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,828 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,829 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,830 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,830 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,831 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,832 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,833 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,834 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,835 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,836 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,837 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,838 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:13,838 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,839 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,840 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,841 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,842 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,843 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,844 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,845 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,846 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,847 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,848 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,849 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,850 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,850 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,851 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,852 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,853 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,854 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:13,857 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,962 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,964 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,965 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,966 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,967 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,968 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,969 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,970 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,971 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,972 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,973 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,974 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,975 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,976 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,977 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,978 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,979 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,980 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:49:13,980 INFO     - *    |            - `Subscriber` waiting for messages\n2026-01-13 17:49:13,981 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:49:13,982 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:49:13,983 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:49:13,984 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:49:13,985 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:49:13,986 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:49:13,987 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,988 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,989 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,990 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,991 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:49:13,992 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:49:13,993 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,994 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,995 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,995 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:49:13,996 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8308 (Press CTRL+C to quit)\n2026-01-13 17:49:13,536 INFO     - FastStream app starting...\n2026-01-13 17:49:13,558 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:49:13,558 INFO     - FastStream app starting...\n2026-01-13 17:49:13,574 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8369 (Press CTRL+C to quit)\n2026-01-13 17:49:13,684 INFO     - FastStream app starting...\n2026-01-13 17:49:13,700 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:49:13,700 INFO     - FastStream app starting...\n2026-01-13 17:49:13,710 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8376 (Press CTRL+C to quit)\n2026-01-13 17:49:13,819 INFO     - FastStream app starting...\n2026-01-13 17:49:13,838 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:49:13,838 INFO     - FastStream app starting...\n2026-01-13 17:49:13,854 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8216 (Press CTRL+C to quit)\n2026-01-13 17:49:13,962 INFO     - FastStream app starting...\n2026-01-13 17:49:13,980 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:49:13,980 INFO     - FastStream app starting...\n2026-01-13 17:49:13,997 INFO     - FastStream app started successfully! To exit, press CTRL+C\n\n----------------------------- Captured stdout call -----------------------------\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x7583624da490&amp;gt; ...\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x7583624da490&amp;gt; ...\n{&amp;#x27;nats_port&amp;#x27;: 33579, &amp;#x27;api_port&amp;#x27;: 8308}\nINFO:     127.0.0.1:35462 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\nINFO:     127.0.0.1:35462 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x7583624db890&amp;gt; ...\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x7583624db890&amp;gt; ...\n{&amp;#x27;nats_port&amp;#x27;: 41831, &amp;#x27;api_port&amp;#x27;: 8369}\nINFO:     127.0.0.1:54454 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\nINFO:     127.0.0.1:54454 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x758362226c40&amp;gt; ...\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x758362226c40&amp;gt; ...\n{&amp;#x27;nats_port&amp;#x27;: 34407, &amp;#x27;api_port&amp;#x27;: 8376}\nINFO:     127.0.0.1:43694 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\nINFO:     127.0.0.1:43694 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x758362227bb0&amp;gt; ...\ntesting pac &amp;lt;test_fastapi.PaContext object at 0x758362227bb0&amp;gt; ...\n{&amp;#x27;nats_port&amp;#x27;: 43415, &amp;#x27;api_port&amp;#x27;: 8216}\nINFO:     127.0.0.1:58042 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\nINFO:     127.0.0.1:58042 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8308/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8308/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8369/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8369/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8376/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8376/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8216/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8216/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8308/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8308/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8369/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8369/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8376/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8376/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8216/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8216/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n--------------------------- Captured stdout teardown ---------------------------\n2026-01-13 17:49:17,735 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_faststream.py::test_validation_str_ok&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_validation_str_ok&#34;, &#34;duration&#34;: &#34;26 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_validation_str_ok&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;26 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nprocess_test_subject ... hello\n&#34;}], &#34;tests/test_faststream.py::test_validation_str_err&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_validation_str_err&#34;, &#34;duration&#34;: &#34;82 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_validation_str_err&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;82 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stderr call -----------------------------\nERROR:asyncio:Future exception was never retrieved\nfuture: &amp;lt;Future finished exception=1 validation error for process_test_subject\nbody\n  Input should be a valid string [type=string_type, input_value={&amp;#x27;name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;user_id&amp;#x27;: 1}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type&amp;gt;\nTraceback (most recent call last):\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_faststream.py&amp;quot;, line 61, in test_validation_str_err\n    await br.publish({&amp;quot;name&amp;quot;: &amp;quot;John&amp;quot;, &amp;quot;user_id&amp;quot;: 1}, subject=&amp;quot;test-subject&amp;quot;)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 603, in publish\n    result = await super()._basic_publish(cmd, producer=self.config.producer)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/broker/pub_base.py&amp;quot;, line 51, in _basic_publish\n    return await publish(cmd)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/nats/testing.py&amp;quot;, line 129, in publish\n    await self._execute_handler(msg, cmd.destination, handler)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/nats/testing.py&amp;quot;, line 164, in _execute_handler\n    result = await handler.process_message(msg)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/subscriber/usecase.py&amp;quot;, line 328, in process_message\n    async with AsyncExitStack() as stack:\n               ~~~~~~~~~~~~~~^^\n  File &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/contextlib.py&amp;quot;, line 768, in __aexit__\n    raise exc\n  File &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/contextlib.py&amp;quot;, line 749, in __aexit__\n    cb_suppress = cb(*exc_details)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/utils/functions.py&amp;quot;, line 85, in __exit__\n    raise exc_val\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/subscriber/usecase.py&amp;quot;, line 364, in process_message\n    await h.call(\n    ^^^^^^^^^^^^^\n    ...&amp;lt;5 lines&amp;gt;...\n    ),\n    ^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/subscriber/call_item.py&amp;quot;, line 146, in call\n    result = await call(message)\n             ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/middlewares/acknowledgement/middleware.py&amp;quot;, line 77, in consume_scope\n    return await call_next(msg)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/middlewares/logging.py&amp;quot;, line 63, in consume_scope\n    return await call_next(msg)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/call_wrapper.py&amp;quot;, line 90, in call_wrapped\n    return await self._wrapped_call(message)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/di/config.py&amp;quot;, line 135, in decode_wrapper\n    return await func(msg)\n           ^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/use.py&amp;quot;, line 170, in injected_wrapper\n    return await real_model.asolve(  # type: ignore[no-any-return]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...&amp;lt;5 lines&amp;gt;...\n    )\n    ^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/core/model.py&amp;quot;, line 329, in asolve\n    final_args, final_kwargs = cast_gen.send(kwargs)\n                               ~~~~~~~~~~~~~^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/core/model.py&amp;quot;, line 167, in _solve\n    casted_options = self.serializer(solved_kw)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/pydantic/serializer.py&amp;quot;, line 117, in __call__\n    casted_model = self.model(**call_kwargs)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/pydantic/main.py&amp;quot;, line 250, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 1 validation error for process_test_subject\nbody\n  Input should be a valid string [type=string_type, input_value={&amp;#x27;name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;user_id&amp;#x27;: 1}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\n\n------------------------------ Captured log call -------------------------------\nERROR    asyncio:base_events.py:1871 Future exception was never retrieved\nfuture: &amp;lt;Future finished exception=1 validation error for process_test_subject\nbody\n  Input should be a valid string [type=string_type, input_value={&amp;#x27;name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;user_id&amp;#x27;: 1}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type&amp;gt;\nTraceback (most recent call last):\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_faststream.py&amp;quot;, line 61, in test_validation_str_err\n    await br.publish({&amp;quot;name&amp;quot;: &amp;quot;John&amp;quot;, &amp;quot;user_id&amp;quot;: 1}, subject=&amp;quot;test-subject&amp;quot;)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 603, in publish\n    result = await super()._basic_publish(cmd, producer=self.config.producer)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/broker/pub_base.py&amp;quot;, line 51, in _basic_publish\n    return await publish(cmd)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/nats/testing.py&amp;quot;, line 129, in publish\n    await self._execute_handler(msg, cmd.destination, handler)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/nats/testing.py&amp;quot;, line 164, in _execute_handler\n    result = await handler.process_message(msg)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/subscriber/usecase.py&amp;quot;, line 328, in process_message\n    async with AsyncExitStack() as stack:\n               ~~~~~~~~~~~~~~^^\n  File &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/contextlib.py&amp;quot;, line 768, in __aexit__\n    raise exc\n  File &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/python3.13/contextlib.py&amp;quot;, line 749, in __aexit__\n    cb_suppress = cb(*exc_details)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/utils/functions.py&amp;quot;, line 85, in __exit__\n    raise exc_val\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/subscriber/usecase.py&amp;quot;, line 364, in process_message\n    await h.call(\n    ^^^^^^^^^^^^^\n    ...&amp;lt;5 lines&amp;gt;...\n    ),\n    ^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/subscriber/call_item.py&amp;quot;, line 146, in call\n    result = await call(message)\n             ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/middlewares/acknowledgement/middleware.py&amp;quot;, line 77, in consume_scope\n    return await call_next(msg)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/middlewares/logging.py&amp;quot;, line 63, in consume_scope\n    return await call_next(msg)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/endpoint/call_wrapper.py&amp;quot;, line 90, in call_wrapped\n    return await self._wrapped_call(message)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/faststream/_internal/di/config.py&amp;quot;, line 135, in decode_wrapper\n    return await func(msg)\n           ^^^^^^^^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/use.py&amp;quot;, line 170, in injected_wrapper\n    return await real_model.asolve(  # type: ignore[no-any-return]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...&amp;lt;5 lines&amp;gt;...\n    )\n    ^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/core/model.py&amp;quot;, line 329, in asolve\n    final_args, final_kwargs = cast_gen.send(kwargs)\n                               ~~~~~~~~~~~~~^^^^^^^^\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/core/model.py&amp;quot;, line 167, in _solve\n    casted_options = self.serializer(solved_kw)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/fast_depends/pydantic/serializer.py&amp;quot;, line 117, in __call__\n    casted_model = self.model(**call_kwargs)\n  File &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site-packages/pydantic/main.py&amp;quot;, line 250, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\npydantic_core._pydantic_core.ValidationError: 1 validation error for process_test_subject\nbody\n  Input should be a valid string [type=string_type, input_value={&amp;#x27;name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;user_id&amp;#x27;: 1}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/string_type\n\n&#34;}], &#34;tests/test_faststream.py::test_connect_only&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_connect_only&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_connect_only&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nCalls in tests too!\nprocess_test_subject ... hello\n&#34;}], &#34;tests/test_faststream.py::test_sub_embed&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_sub_embed&#34;, &#34;duration&#34;: &#34;5 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_sub_embed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;5 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\nCalls in tests too!\n&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; test_process2 ...\n&#34;}], &#34;tests/test_faststream.py::test_sub_embed_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_sub_embed_fixture&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_sub_embed_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\nCalls in tests too!\n\n----------------------------- Captured stdout call -----------------------------\nprocess_test_subject ... hello2\n&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; test_process2 ...\n&#34;}], &#34;tests/test_faststream.py::test_pubsub_nats&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_pubsub_nats&#34;, &#34;duration&#34;: &#34;13 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_pubsub_nats&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;13 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:49:17,879 INFO     - *    |            - `Subscriber` waiting for messages\n&#34;}], &#34;tests/test_faststream.py::test_pubsub_nats_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_pubsub_nats_fixture&#34;, &#34;duration&#34;: &#34;13 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_pubsub_nats_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;13 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:49:17,893 INFO     - *    |            - `Subscriber` waiting for messages\n\n----------------------------- Captured stdout call -----------------------------\nq1\nq1\n&#34;}], &#34;tests/test_faststream.py::test_pubsub_nats_fixture_class&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_pubsub_nats_fixture_class::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_pubsub_nats_fixture_class::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_faststream.py&amp;#x27;, 284, &amp;#x27;Skipped: fail when running all tests&amp;#x27;)\n&#34;}], &#34;tests/test_faststream.py::test_pubsub_world_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_pubsub_world_fixture::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_pubsub_world_fixture::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_faststream.py&amp;#x27;, 474, &amp;#x27;Skipped: fail when running all tests&amp;#x27;)\n&#34;}], &#34;tests/test_faststream.py::test_api_world_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_faststream.py::test_api_world_fixture::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_faststream.py::test_api_world_fixture::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_faststream.py&amp;#x27;, 517, &amp;#x27;Skipped: fail when running all tests&amp;#x27;)\n&#34;}], &#34;tests/test_fixture.py::test_world1pac&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_fixture.py::test_world1pac&#34;, &#34;duration&#34;: &#34;00:00:40&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fixture.py::test_world1pac&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:40&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;world = WorldContext(peppol=&amp;lt;pac0.shared.test.service.dns.DNSServiceContext object at 0x758362379e80&amp;gt;, pas=[])\n\n    async def test_world1pac(\n        world,\n    ) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;\n        world1pac fixture\n        &amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       await world.pa_new()\n\ntests/test_fixture.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc/pac0/shared/test/world.py:71: in pa_new\n    await asyncio.gather(*tasks)\nsrc/pac0/shared/test/service/pac.py:58: in __aenter__\n    await asyncio.gather(*[s.__aenter__() for s in self._services()])\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = &amp;lt;pac0.shared.test.service.fastapi.FastApiServiceContext object at 0x7583622901a0&amp;gt;\n\n    async def __aenter__(self) -&amp;gt; Self:\n        &amp;quot;&amp;quot;&amp;quot;Start the service subprocess.&amp;quot;&amp;quot;&amp;quot;\n        if self.config.port == 0:\n            self.config.port = find_available_port(start_port=8000)\n        logger.info(\n            f&amp;quot;Starting service {self.config.name} on port {self.config.port} : {&amp;#x27; &amp;#x27;.join(self.config.command)}&amp;quot;\n        )\n        env = os.environ.copy()\n        env[&amp;quot;PORT&amp;quot;] = str(self.config.port)\n        if self.config.env_var_extra:\n            env.update(self.config.env_var_extra)\n        command = [c.format(**env) for c in self.config.command]\n    \n        self._process = subprocess.Popen(\n            command,\n            # stdout=subprocess.PIPE,  # self.config.stdout,\n            # stderr=subprocess.PIPE,  # self.config.stderr,\n            text=True,\n            env=env,\n            cwd=PACKAGE_BASE_FOLDER,\n        )\n    \n        # Wait for service to be ready\n        self.is_ready = await self.wait_for_ready(self.config.startup_timeout)\n        if not self.is_ready:\n            await self._terminate()\n&amp;gt;           raise TimeoutError(\n                f&amp;quot;Service {self.config.name} failed to start within {self.config.startup_timeout}s&amp;quot;\n            )\nE           TimeoutError: Service api_gateway failed to start within 30.0s\n\nsrc/pac0/shared/test/service/base.py:157: TimeoutError\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:pac0.shared.test.service.base:Starting service peppol on port 8156 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO:pac0.shared.test.service.base:Service  peppol started on localhost:8156\nINFO:pac0.shared.test.world:WorldContext: enter context ...\n\n------------------------------ Captured log setup ------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service peppol on port 8156 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO     pac0.shared.test.service.base:base.py:161 Service  peppol started on localhost:8156\nINFO     pac0.shared.test.world:world.py:84 WorldContext: enter context ...\n\n----------------------------- Captured stdout call -----------------------------\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8167\n    server   Documentation at http://0.0.0.0:8167/docs\n \n             Logs:\n \n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8167/healthcheck\ncccccc All connection attempts failed\n\n----------------------------- Captured stderr call -----------------------------\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8167 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8080 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8080\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8144 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8144\n[79451] 2026/01/13 17:49:17.937145 [INF] Starting nats-server\n[79451] 2026/01/13 17:49:17.937224 [INF]   Version:  2.12.3\n[79451] 2026/01/13 17:49:17.937229 [INF]   Git:      [450a519]\n[79451] 2026/01/13 17:49:17.937233 [INF]   Name:     NDMVAFB2RUEHLENZVUCD4RJAN6XQJC4HT4UL6CBVSXJEDNB75AAT3CZI\n[79451] 2026/01/13 17:49:17.937246 [INF]   ID:       NDMVAFB2RUEHLENZVUCD4RJAN6XQJC4HT4UL6CBVSXJEDNB75AAT3CZI\n[79451] 2026/01/13 17:49:17.937901 [INF] Listening for client connections on 0.0.0.0:8080\n[79451] 2026/01/13 17:49:17.938316 [INF] Server is ready\n2026-01-13 17:49:18,474 INFO     - FastStream app starting...\n      INFO   Started server process [79461]\n      INFO   Waiting for application startup.\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\n\n------------------------------ Captured log call -------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8167 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8080 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8080\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8144 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8144\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:pac0.shared.test.service.base:Stopping service...\nINFO:pac0.shared.test.world:WorldContext: exit context ...\n\n---------------------------- Captured log teardown -----------------------------\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nINFO     pac0.shared.test.world:world.py:92 WorldContext: exit context ...&#34;}], &#34;tests/test_fixture.py::test_world4pac&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_fixture.py::test_world4pac&#34;, &#34;duration&#34;: &#34;00:01:11&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_fixture.py::test_world4pac&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:01:11&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;world = WorldContext(peppol=&amp;lt;pac0.shared.test.service.dns.DNSServiceContext object at 0x7583622defd0&amp;gt;, pas=[])\n\n    @pytest.mark.asyncio\n    async def test_world4pac(\n        world,\n    ) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;\n        world with pas fixture\n        &amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       await world.pa_new(4)\n\ntests/test_fixture.py:34: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc/pac0/shared/test/world.py:71: in pa_new\n    await asyncio.gather(*tasks)\nsrc/pac0/shared/test/service/pac.py:58: in __aenter__\n    await asyncio.gather(*[s.__aenter__() for s in self._services()])\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = &amp;lt;pac0.shared.test.service.fastapi.FastApiServiceContext object at 0x7583622dc410&amp;gt;\n\n    async def __aenter__(self) -&amp;gt; Self:\n        &amp;quot;&amp;quot;&amp;quot;Start the service subprocess.&amp;quot;&amp;quot;&amp;quot;\n        if self.config.port == 0:\n            self.config.port = find_available_port(start_port=8000)\n        logger.info(\n            f&amp;quot;Starting service {self.config.name} on port {self.config.port} : {&amp;#x27; &amp;#x27;.join(self.config.command)}&amp;quot;\n        )\n        env = os.environ.copy()\n        env[&amp;quot;PORT&amp;quot;] = str(self.config.port)\n        if self.config.env_var_extra:\n            env.update(self.config.env_var_extra)\n        command = [c.format(**env) for c in self.config.command]\n    \n        self._process = subprocess.Popen(\n            command,\n            # stdout=subprocess.PIPE,  # self.config.stdout,\n            # stderr=subprocess.PIPE,  # self.config.stderr,\n            text=True,\n            env=env,\n            cwd=PACKAGE_BASE_FOLDER,\n        )\n    \n        # Wait for service to be ready\n        self.is_ready = await self.wait_for_ready(self.config.startup_timeout)\n        if not self.is_ready:\n            await self._terminate()\n&amp;gt;           raise TimeoutError(\n                f&amp;quot;Service {self.config.name} failed to start within {self.config.startup_timeout}s&amp;quot;\n            )\nE           TimeoutError: Service api_gateway failed to start within 30.0s\n\nsrc/pac0/shared/test/service/base.py:157: TimeoutError\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:pac0.shared.test.service.base:Starting service peppol on port 8090 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO:pac0.shared.test.service.base:Service  peppol started on localhost:8090\nINFO:pac0.shared.test.world:WorldContext: enter context ...\n\n------------------------------ Captured log setup ------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service peppol on port 8090 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO     pac0.shared.test.service.base:base.py:161 Service  peppol started on localhost:8090\nINFO     pac0.shared.test.world:world.py:84 WorldContext: enter context ...\n\n----------------------------- Captured stdout call -----------------------------\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8019\n    server   Documentation at http://0.0.0.0:8019/docs\n \n             Logs:\n \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8033\n    server   Documentation at http://0.0.0.0:8033/docs\n \n             Logs:\n \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8177\n    server   Documentation at http://0.0.0.0:8177/docs\n \n             Logs:\n \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8190\n    server   Documentation at http://0.0.0.0:8190/docs\n \n             Logs:\n \n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8177/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8190/healthcheck\n_check_http_health http://localhost:8177/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n_check_http_health http://localhost:8019/healthcheck\n_check_http_health http://localhost:8033/healthcheck\n_check_http_health http://localhost:8190/healthcheck\n_check_http_health http://localhost:8177/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n\n----------------------------- Captured stderr call -----------------------------\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8019 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8073 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8073\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8032 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8032\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8033 : uv run fastapi run src/pac0/service/api_gateway/main.py\n[79632] 2026/01/13 17:49:58.324765 [INF] Starting nats-server\n[79632] 2026/01/13 17:49:58.324845 [INF]   Version:  2.12.3\n[79632] 2026/01/13 17:49:58.324851 [INF]   Git:      [450a519]\n[79632] 2026/01/13 17:49:58.324857 [INF]   Name:     NDF5ASVRXKLFWFACEYUN2M3HZLWOOFTWFAILFIF5HGYT5HICQJ7A2EXD\n[79632] 2026/01/13 17:49:58.324861 [INF]   ID:       NDF5ASVRXKLFWFACEYUN2M3HZLWOOFTWFAILFIF5HGYT5HICQJ7A2EXD\n[79632] 2026/01/13 17:49:58.325772 [INF] Listening for client connections on 0.0.0.0:8073\n[79632] 2026/01/13 17:49:58.326298 [INF] Server is ready\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8062 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8062\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8189 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8189\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8177 : uv run fastapi run src/pac0/service/api_gateway/main.py\n[79650] 2026/01/13 17:49:58.355399 [INF] Starting nats-server\n[79650] 2026/01/13 17:49:58.355478 [INF]   Version:  2.12.3\n[79650] 2026/01/13 17:49:58.355485 [INF]   Git:      [450a519]\n[79650] 2026/01/13 17:49:58.355490 [INF]   Name:     NB5HLI63MRE2YFBLMGFO3GLVKGOHHZCQCRX3E5VEXDLAMPYBSJ4HU4ZG\n[79650] 2026/01/13 17:49:58.355496 [INF]   ID:       NB5HLI63MRE2YFBLMGFO3GLVKGOHHZCQCRX3E5VEXDLAMPYBSJ4HU4ZG\n[79650] 2026/01/13 17:49:58.356409 [INF] Listening for client connections on 0.0.0.0:8062\n[79650] 2026/01/13 17:49:58.356957 [INF] Server is ready\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8006 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8006\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8174 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8174\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8190 : uv run fastapi run src/pac0/service/api_gateway/main.py\n[79668] 2026/01/13 17:49:58.382582 [INF] Starting nats-server\n[79668] 2026/01/13 17:49:58.382704 [INF]   Version:  2.12.3\n[79668] 2026/01/13 17:49:58.382712 [INF]   Git:      [450a519]\n[79668] 2026/01/13 17:49:58.382718 [INF]   Name:     NB7WARMBEDF2ZDPPKLF4BCFY6WVHN242JKO5HJGP46MU4JXTD4URYM6T\n[79668] 2026/01/13 17:49:58.382734 [INF]   ID:       NB7WARMBEDF2ZDPPKLF4BCFY6WVHN242JKO5HJGP46MU4JXTD4URYM6T\n[79668] 2026/01/13 17:49:58.383636 [INF] Listening for client connections on 0.0.0.0:8006\n[79668] 2026/01/13 17:49:58.384080 [INF] Server is ready\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8115 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8115\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8090 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8090\n[79685] 2026/01/13 17:49:58.414870 [INF] Starting nats-server\n[79685] 2026/01/13 17:49:58.414977 [INF]   Version:  2.12.3\n[79685] 2026/01/13 17:49:58.414984 [INF]   Git:      [450a519]\n[79685] 2026/01/13 17:49:58.415008 [INF]   Name:     NBC2PZLK2OGFYWY56TTSJBVJR6KSOEPW5LAM3N3YHK5GCBDMRH4GZSBN\n[79685] 2026/01/13 17:49:58.415024 [INF]   ID:       NBC2PZLK2OGFYWY56TTSJBVJR6KSOEPW5LAM3N3YHK5GCBDMRH4GZSBN\n[79685] 2026/01/13 17:49:58.415991 [INF] Listening for client connections on 0.0.0.0:8115\n[79685] 2026/01/13 17:49:58.416412 [INF] Server is ready\n2026-01-13 17:49:58,813 INFO     - FastStream app starting...\n2026-01-13 17:49:58,831 INFO     - FastStream app starting...\n2026-01-13 17:49:58,849 INFO     - FastStream app starting...\n2026-01-13 17:49:58,883 INFO     - FastStream app starting...\n      INFO   Started server process [79633]\n      INFO   Waiting for application startup.\n      INFO   Started server process [79662]\n      INFO   Waiting for application startup.\n      INFO   Started server process [79681]\n      INFO   Waiting for application startup.\n      INFO   Started server process [79692]\n      INFO   Waiting for application startup.\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\n\n------------------------------ Captured log call -------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8019 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8073 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8073\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8032 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8032\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8033 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8062 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8062\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8189 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8189\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8177 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8006 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8006\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8174 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8174\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8190 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8115 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8115\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8090 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8090\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:pac0.shared.test.service.base:Stopping service...\nINFO:pac0.shared.test.world:WorldContext: exit context ...\n\n---------------------------- Captured log teardown -----------------------------\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nINFO     pac0.shared.test.world:world.py:92 WorldContext: exit context ...&#34;}], &#34;tests/test_nats.py::test_nats&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_nats.py::test_nats&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_nats.py::test_nats&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_nats.py::test_nats_context_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_nats.py::test_nats_context_manager&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_nats.py::test_nats_context_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_01_nats_server_manual_lifecycle&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_01_nats_server_manual_lifecycle&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_01_nats_server_manual_lifecycle&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_02_nats_server_context_manager&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_02_nats_server_context_manager&#34;, &#34;duration&#34;: &#34;9 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_02_nats_server_context_manager&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;9 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_02b_nats_server_context_wrapper&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_02b_nats_server_context_wrapper&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestNatsServerLifecycle::test_02b_nats_server_context_wrapper&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_03_broker_connection&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_03_broker_connection&#34;, &#34;duration&#34;: &#34;12 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestBrokerConnection::test_03_broker_connection&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;12 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_03b_broker_context_wrapper&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_03b_broker_context_wrapper&#34;, &#34;duration&#34;: &#34;12 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestBrokerConnection::test_03b_broker_context_wrapper&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;12 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:08,893 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n&#34;}], &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_04_broker_pubsub_basic&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_04_broker_pubsub_basic&#34;, &#34;duration&#34;: &#34;14 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestBrokerConnection::test_04_broker_pubsub_basic&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;14 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:08,907 INFO     - test-subject |            - `Subscriber` waiting for messages\n&#34;}], &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_04b_broker_pubsub_wildcard&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestBrokerConnection::test_04b_broker_pubsub_wildcard&#34;, &#34;duration&#34;: &#34;13 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestBrokerConnection::test_04b_broker_pubsub_wildcard&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;13 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:51:08,921 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_05_single_service_with_readiness&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_05_single_service_with_readiness&#34;, &#34;duration&#34;: &#34;519 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFastStreamServices::test_05_single_service_with_readiness&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;519 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:08,936 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:08,938 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:08,939 INFO     - test-in |            - `Handler` waiting for messages\n2026-01-13 17:51:08,939 INFO     - test-in | 3d9a6f83-0 - Received\n2026-01-13 17:51:08,939 INFO     - test-in | 3d9a6f83-0 - Processed\n\n----------------------------- Captured stderr call -----------------------------\n2026-01-13 17:51:08,938 INFO     - FastStream app starting...\n2026-01-13 17:51:08,939 INFO     - FastStream app started successfully! To exit, press CTRL+C\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_05b_service_readiness_timeout&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_05b_service_readiness_timeout&#34;, &#34;duration&#34;: &#34;115 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFastStreamServices::test_05b_service_readiness_timeout&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;115 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:09,457 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_06_multiple_services_pool&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_06_multiple_services_pool&#34;, &#34;duration&#34;: &#34;18 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFastStreamServices::test_06_multiple_services_pool&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;18 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:09,573 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:09,576 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:09,576 INFO     - service1-in |            - `Handler1` waiting for messages\n2026-01-13 17:51:09,577 INFO     - service2-in |            - `Handler2` waiting for messages\n2026-01-13 17:51:09,577 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:09,578 INFO     - service1-in |            - `Handler1` waiting for messages\n2026-01-13 17:51:09,578 INFO     - service2-in |            - `Handler2` waiting for messages\n\n----------------------------- Captured stderr call -----------------------------\n2026-01-13 17:51:09,575 INFO     - FastStream app starting...\n2026-01-13 17:51:09,577 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:09,577 INFO     - FastStream app starting...\n2026-01-13 17:51:09,579 INFO     - FastStream app started successfully! To exit, press CTRL+C\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_06b_real_services_pool&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFastStreamServices::test_06b_real_services_pool&#34;, &#34;duration&#34;: &#34;36 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFastStreamServices::test_06b_real_services_pool&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;36 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:09,592 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:09,595 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:09,596 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:09,597 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:09,597 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:09,598 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:09,598 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:09,599 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:09,600 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,600 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,601 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,601 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,602 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:09,602 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:09,603 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,604 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,604 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,605 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,606 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:09,606 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:09,607 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:09,607 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:09,608 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:09,608 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:09,609 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:09,609 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:09,610 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,610 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,611 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,612 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,612 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:09,613 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:09,613 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,614 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,614 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,615 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,616 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n\n----------------------------- Captured stderr call -----------------------------\n2026-01-13 17:51:09,595 INFO     - FastStream app starting...\n2026-01-13 17:51:09,606 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:09,606 INFO     - FastStream app starting...\n2026-01-13 17:51:09,616 INFO     - FastStream app started successfully! To exit, press CTRL+C\n--------------------------- Captured stdout teardown ---------------------------\n2026-01-13 17:51:09,617 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_07_fastapi_with_services&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_07_fastapi_with_services&#34;, &#34;duration&#34;: &#34;380 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFullIntegration::test_07_fastapi_with_services&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;380 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:51:09,738 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:09,740 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:09,741 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:09,742 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:09,743 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:09,744 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:09,745 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,746 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,747 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,748 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,749 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:09,750 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:09,751 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,752 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,753 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,754 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,755 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:09,756 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:51:09,757 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:09,758 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:09,759 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:09,760 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:09,761 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:09,762 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:09,763 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,764 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,765 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,766 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,767 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:09,768 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:09,769 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,771 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,772 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,773 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,774 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:09,775 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:51:09,776 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:09,777 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:09,778 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:09,779 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:09,780 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:09,781 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:09,782 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,783 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,784 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,785 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,786 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:09,787 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:09,788 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,789 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,790 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,791 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:09,792 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:09,793 INFO     - routage-IN |            - `Process` waiting for messages\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8200 (Press CTRL+C to quit)\n2026-01-13 17:51:09,737 INFO     - FastStream app starting...\n2026-01-13 17:51:09,756 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:09,756 INFO     - FastStream app starting...\n2026-01-13 17:51:09,775 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:09,775 INFO     - FastStream app starting...\n2026-01-13 17:51:09,793 INFO     - FastStream app started successfully! To exit, press CTRL+C\n\n----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:55126 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8200/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8200/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n--------------------------- Captured stdout teardown ---------------------------\n2026-01-13 17:51:09,996 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_07b_healthcheck_with_services&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_07b_healthcheck_with_services&#34;, &#34;duration&#34;: &#34;321 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFullIntegration::test_07b_healthcheck_with_services&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;321 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:51:10,119 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,120 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,123 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,123 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,124 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,125 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,125 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,126 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,127 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,128 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,129 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,129 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,130 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,130 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,131 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,132 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,132 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,133 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,133 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,134 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,135 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,135 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,136 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,137 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,137 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,138 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,139 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,139 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,140 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,140 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,141 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,142 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,142 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,143 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,143 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,144 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,145 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,145 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,146 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,147 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,147 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,148 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,149 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,149 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,150 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,150 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,151 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,152 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,152 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,153 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,154 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,154 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,155 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,155 INFO     - routage-IN |            - `Process` waiting for messages\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8288 (Press CTRL+C to quit)\n2026-01-13 17:51:10,119 INFO     - FastStream app starting...\n2026-01-13 17:51:10,133 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:10,133 INFO     - FastStream app starting...\n2026-01-13 17:51:10,144 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:10,144 INFO     - FastStream app starting...\n2026-01-13 17:51:10,155 INFO     - FastStream app started successfully! To exit, press CTRL+C\n\n----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:60724 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8288/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8288/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n--------------------------- Captured stdout teardown ---------------------------\n2026-01-13 17:51:10,320 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_08_full_pa_context&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_08_full_pa_context&#34;, &#34;duration&#34;: &#34;320 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFullIntegration::test_08_full_pa_context&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;320 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:51:10,441 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,443 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,444 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,445 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,446 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,447 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,448 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,448 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,449 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,450 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,450 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,451 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,451 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,452 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,452 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,455 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,456 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,456 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,457 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,458 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,458 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,459 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,460 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,460 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,461 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,462 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,462 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,463 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,463 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,464 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,464 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,465 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,465 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,466 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,467 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,467 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,468 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,469 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,469 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,470 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,470 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,471 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,472 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,472 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,473 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,473 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,474 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,474 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,475 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,475 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,476 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,477 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,477 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,478 INFO     - routage-IN |            - `Process` waiting for messages\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8358 (Press CTRL+C to quit)\n2026-01-13 17:51:10,440 INFO     - FastStream app starting...\n2026-01-13 17:51:10,456 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:10,456 INFO     - FastStream app starting...\n2026-01-13 17:51:10,467 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:10,467 INFO     - FastStream app starting...\n2026-01-13 17:51:10,478 INFO     - FastStream app started successfully! To exit, press CTRL+C\n--------------------------- Captured stdout teardown ---------------------------\n2026-01-13 17:51:10,641 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_08b_pa_context_isolation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestFullIntegration::test_08b_pa_context_isolation&#34;, &#34;duration&#34;: &#34;630 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestFullIntegration::test_08b_pa_context_isolation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;630 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:10,655 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:10,765 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:10,766 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,768 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,769 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,770 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,771 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,772 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,773 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,774 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,775 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,775 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,776 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,778 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,779 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,780 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,781 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,782 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,783 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,783 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:10,784 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,785 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,786 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,787 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,788 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,789 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,790 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,791 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,792 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,793 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,794 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,795 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,796 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,797 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,798 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,799 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,800 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,815 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:10,924 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:10,925 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,926 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,927 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,928 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,929 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,930 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,931 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,932 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,932 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,933 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,934 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,935 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,936 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,937 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,938 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,939 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,940 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:10,940 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:10,940 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:10,941 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:10,942 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:10,943 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:10,944 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:10,945 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:10,945 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,946 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,947 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,948 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,950 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:10,951 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:10,952 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,953 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,954 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,954 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:10,955 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:11,125 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8288 (Press CTRL+C to quit)\n2026-01-13 17:51:10,765 INFO     - FastStream app starting...\n2026-01-13 17:51:10,783 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:10,783 INFO     - FastStream app starting...\n2026-01-13 17:51:10,800 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8393 (Press CTRL+C to quit)\n2026-01-13 17:51:10,923 INFO     - FastStream app starting...\n2026-01-13 17:51:10,940 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:10,940 INFO     - FastStream app starting...\n2026-01-13 17:51:10,956 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_service_lifecycle.py::TestMultiPaPool::test_09_multi_pa_pool_2pa&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestMultiPaPool::test_09_multi_pa_pool_2pa::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestMultiPaPool::test_09_multi_pa_pool_2pa::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;file /home/philippe/src/PA_Communautaire/packages/pac0/tests/test_service_lifecycle.py, line 368\n      async def test_09_multi_pa_pool_2pa(self, world_service_2pa):\n          &amp;quot;&amp;quot;&amp;quot;\n          Level 9: World with 2 PA instances.\n          &amp;quot;&amp;quot;&amp;quot;\n          assert len(world_service_2pa.pacs) == 2\n          assert world_service_2pa.pac1 is not None\n          assert world_service_2pa.pac2 is not None\n\n          # Verify isolation\n          assert world_service_2pa.pac1.nats.port != world_service_2pa.pac2.nats.port\n\n          # Verify both are functional\n          for pac in world_service_2pa.pacs:\n              async with pac.http_client() as client:\n                  response = await client.get(&amp;quot;/healthcheck&amp;quot;)\n                  assert response.status_code == 200\nE       fixture &amp;#x27;world_service_2pa&amp;#x27; not found\n&amp;gt;       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _pytest_bdd_example, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, broker_context, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, nats_server, nats_service, pa_service, pa_service_legacy, peppol_service, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_trace, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, world\n&amp;gt;       use &amp;#x27;pytest --fixtures [testpath]&amp;#x27; for help on them.\n\n/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_service_lifecycle.py:368\n&#34;}], &#34;tests/test_service_lifecycle.py::TestMultiPaPool::test_09b_multi_pa_pool_4pa&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestMultiPaPool::test_09b_multi_pa_pool_4pa&#34;, &#34;duration&#34;: &#34;390 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestMultiPaPool::test_09b_multi_pa_pool_4pa&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;390 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:51:11,293 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,296 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,298 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,301 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,400 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,401 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:11,402 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:11,403 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:11,405 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:11,406 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:11,407 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:11,408 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,409 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,411 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,412 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,413 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:11,414 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:11,415 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,419 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,420 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,421 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,422 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:11,423 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,424 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:11,425 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:11,426 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:11,427 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:11,428 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:11,429 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:11,430 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,431 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,432 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,433 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,434 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:11,434 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:11,435 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,435 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,436 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,437 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,437 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:11,440 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,440 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:11,441 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:11,441 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:11,442 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:11,443 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:11,443 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:11,444 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,444 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,445 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,446 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,446 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:11,447 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:11,447 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,448 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,448 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,449 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,450 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:11,450 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,451 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:11,452 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:11,452 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:11,453 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:11,454 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:11,454 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:11,455 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,455 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,456 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,456 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,457 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:11,458 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:11,458 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,459 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,459 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,460 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,461 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:11,464 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,464 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,464 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,465 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:11,465 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:11,466 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:11,467 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:11,467 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:11,468 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:11,468 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,469 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,470 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,471 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,472 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:11,472 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:11,473 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,474 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,474 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,475 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,475 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:11,476 INFO     - &amp;gt;    |            - `Subscriber` waiting for messages\n2026-01-13 17:51:11,476 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:51:11,477 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:51:11,478 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:51:11,479 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:51:11,479 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:51:11,480 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:51:11,482 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,483 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,484 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,485 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,486 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:51:11,487 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:51:11,488 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,488 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,489 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,489 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:51:11,490 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:51:11,668 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8367 (Press CTRL+C to quit)\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8324 (Press CTRL+C to quit)\nINFO:     Uvicorn running on http://127.0.0.1:8277 (Press CTRL+C to quit)\nINFO:     Uvicorn running on http://127.0.0.1:8368 (Press CTRL+C to quit)\n2026-01-13 17:51:11,399 INFO     - FastStream app starting...\n2026-01-13 17:51:11,422 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:11,423 INFO     - FastStream app starting...\n2026-01-13 17:51:11,437 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:11,439 INFO     - FastStream app starting...\n2026-01-13 17:51:11,450 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:11,450 INFO     - FastStream app starting...\n2026-01-13 17:51:11,461 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:11,464 INFO     - FastStream app starting...\n2026-01-13 17:51:11,464 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:11,464 INFO     - FastStream app starting...\n2026-01-13 17:51:11,464 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:11,464 INFO     - FastStream app starting...\n2026-01-13 17:51:11,476 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:51:11,476 INFO     - FastStream app starting...\n2026-01-13 17:51:11,490 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Shutting down\nINFO:     Shutting down\nINFO:     Shutting down\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Waiting for application shutdown.\nINFO:     Waiting for application shutdown.\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_service_lifecycle.py::TestMultiPaPool::test_10_cross_pa_info&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_service_lifecycle.py::TestMultiPaPool::test_10_cross_pa_info::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_service_lifecycle.py::TestMultiPaPool::test_10_cross_pa_info::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;file /home/philippe/src/PA_Communautaire/packages/pac0/tests/test_service_lifecycle.py, line 398\n      async def test_10_cross_pa_info(self, world_service_2pa):\n          &amp;quot;&amp;quot;&amp;quot;\n          Level 10: Verify PA instances have independent info.\n\n          Note: Cross-PA message routing would require additional\n          infrastructure (central directory, federation) not yet implemented.\n          &amp;quot;&amp;quot;&amp;quot;\n          info1 = world_service_2pa.pac1.info()\n          info2 = world_service_2pa.pac2.info()\n\n          # Print for debugging\n          print(f&amp;quot;PA1: {info1}&amp;quot;)\n          print(f&amp;quot;PA2: {info2}&amp;quot;)\n\n          # Verify independence\n          assert info1[&amp;quot;nats_port&amp;quot;] != info2[&amp;quot;nats_port&amp;quot;]\n          assert info1[&amp;quot;api_port&amp;quot;] != info2[&amp;quot;api_port&amp;quot;]\n          assert info1[&amp;quot;nats_url&amp;quot;] != info2[&amp;quot;nats_url&amp;quot;]\nE       fixture &amp;#x27;world_service_2pa&amp;#x27; not found\n&amp;gt;       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _pytest_bdd_example, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, broker_context, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, nats_server, nats_service, pa_service, pa_service_legacy, peppol_service, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_trace, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, world\n&amp;gt;       use &amp;#x27;pytest --fixtures [testpath]&amp;#x27; for help on them.\n\n/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_service_lifecycle.py:398\n&#34;}], &#34;tests/test_test.py::test_dummy_async&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_test.py::test_dummy_async&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_test.py::test_dummy_async&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_test.py::test_dummy&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_test.py::test_dummy&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_test.py::test_dummy&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world.py::test_world_default_0pa&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world.py::test_world_default_0pa&#34;, &#34;duration&#34;: &#34;4 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world.py::test_world_default_0pa&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;4 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stderr call -----------------------------\nINFO:pac0.shared.test.service.base:Starting service peppol on port 8142 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO:pac0.shared.test.service.base:Service  peppol started on localhost:8142\nINFO:pac0.shared.test.world:WorldContext: enter context ...\nINFO:pac0.shared.test.service.base:Stopping service...\nINFO:pac0.shared.test.world:WorldContext: exit context ...\n\n------------------------------ Captured log call -------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service peppol on port 8142 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO     pac0.shared.test.service.base:base.py:161 Service  peppol started on localhost:8142\nINFO     pac0.shared.test.world:world.py:84 WorldContext: enter context ...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nINFO     pac0.shared.test.world:world.py:92 WorldContext: exit context ...\n\n&#34;}], &#34;tests/test_world.py::test_world_with_1pa&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world.py::test_world_with_1pa&#34;, &#34;duration&#34;: &#34;00:00:41&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world.py::test_world_with_1pa&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:41&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;async def test_world_with_1pa():\n        &amp;quot;&amp;quot;&amp;quot;WorldContext with 1 PA instance.&amp;quot;&amp;quot;&amp;quot;\n        async with WorldContext() as world:\n&amp;gt;           await world.pa_new() # default is 1\n            ^^^^^^^^^^^^^^^^^^^^\n\ntests/test_world.py:51: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc/pac0/shared/test/world.py:71: in pa_new\n    await asyncio.gather(*tasks)\nsrc/pac0/shared/test/service/pac.py:58: in __aenter__\n    await asyncio.gather(*[s.__aenter__() for s in self._services()])\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = &amp;lt;pac0.shared.test.service.fastapi.FastApiServiceContext object at 0x7583622cdfd0&amp;gt;\n\n    async def __aenter__(self) -&amp;gt; Self:\n        &amp;quot;&amp;quot;&amp;quot;Start the service subprocess.&amp;quot;&amp;quot;&amp;quot;\n        if self.config.port == 0:\n            self.config.port = find_available_port(start_port=8000)\n        logger.info(\n            f&amp;quot;Starting service {self.config.name} on port {self.config.port} : {&amp;#x27; &amp;#x27;.join(self.config.command)}&amp;quot;\n        )\n        env = os.environ.copy()\n        env[&amp;quot;PORT&amp;quot;] = str(self.config.port)\n        if self.config.env_var_extra:\n            env.update(self.config.env_var_extra)\n        command = [c.format(**env) for c in self.config.command]\n    \n        self._process = subprocess.Popen(\n            command,\n            # stdout=subprocess.PIPE,  # self.config.stdout,\n            # stderr=subprocess.PIPE,  # self.config.stderr,\n            text=True,\n            env=env,\n            cwd=PACKAGE_BASE_FOLDER,\n        )\n    \n        # Wait for service to be ready\n        self.is_ready = await self.wait_for_ready(self.config.startup_timeout)\n        if not self.is_ready:\n            await self._terminate()\n&amp;gt;           raise TimeoutError(\n                f&amp;quot;Service {self.config.name} failed to start within {self.config.startup_timeout}s&amp;quot;\n            )\nE           TimeoutError: Service api_gateway failed to start within 30.0s\n\nsrc/pac0/shared/test/service/base.py:157: TimeoutError\n\n----------------------------- Captured stdout call -----------------------------\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8099\n    server   Documentation at http://0.0.0.0:8099/docs\n \n             Logs:\n \n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\nsetup pac0 service ...\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n_check_http_health http://localhost:8099/healthcheck\ncccccc All connection attempts failed\n\n----------------------------- Captured stderr call -----------------------------\nINFO:pac0.shared.test.service.base:Starting service peppol on port 8015 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO:pac0.shared.test.service.base:Service  peppol started on localhost:8015\nINFO:pac0.shared.test.world:WorldContext: enter context ...\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8099 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8023 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8023\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8166 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8166\n[80131] 2026/01/13 17:51:11.717447 [INF] Starting nats-server\n[80131] 2026/01/13 17:51:11.717510 [INF]   Version:  2.12.3\n[80131] 2026/01/13 17:51:11.717517 [INF]   Git:      [450a519]\n[80131] 2026/01/13 17:51:11.717523 [INF]   Name:     NBZX6WOMMRXOMTDJXS4IN4RDZGDQ2JYHNXY3YKTTALYWL65FXKWDJM6R\n[80131] 2026/01/13 17:51:11.717528 [INF]   ID:       NBZX6WOMMRXOMTDJXS4IN4RDZGDQ2JYHNXY3YKTTALYWL65FXKWDJM6R\n[80131] 2026/01/13 17:51:11.718227 [INF] Listening for client connections on 0.0.0.0:8023\n[80131] 2026/01/13 17:51:11.718708 [INF] Server is ready\n2026-01-13 17:51:12,218 INFO     - FastStream app starting...\n      INFO   Started server process [80145]\n      INFO   Waiting for application startup.\n     ERROR   Traceback (most recent call last):                                 \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/starlette/routing.py&amp;quot;, line 694, in lifespan    \n                 async with self.lifespan_context(app) as maybe_state:          \n                            ~~~~~~~~~~~~~~~~~~~~~^^^^^                          \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 200, in               \n             merged_lifespan                                                    \n                 async with original_context(app) as maybe_original_state:      \n                            ~~~~~~~~~~~~~~~~^^^^^                               \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 201, in               \n             merged_lifespan                                                    \n                 async with nested_context(app) as maybe_nested_state:          \n                            ~~~~~~~~~~~~~~^^^^^                                 \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/fastapi/router.py&amp;quot;, line   \n             290, in start_broker_lifespan                                      \n                 await self._start_broker()                                     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/application.py&amp;quot;, line 98,  \n             in _start_broker                                                   \n                 await b.start()                                                \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 462, in \n             start                                                              \n                 await self.connect()                                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/broker/broker.py&amp;quot;, line    \n             111, in connect                                                    \n                 self._connection = await self._connect()                       \n                                    ^^^^^^^^^^^^^^^^^^^^^                       \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 427, in \n             _connect                                                           \n                 connection = await nats.connect(**self._connection_kwargs)     \n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/__init__.py&amp;quot;, line 46, in connect          \n                 await nc.connect(servers, **options)                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 547, in connect       \n                 raise e                                                        \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 535, in connect       \n                 await self._select_next_server()                               \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 1365, in              \n             _select_next_server                                                \n                 raise errors.NoServersError                                    \n             nats.errors.NoServersError: nats: no servers available for         \n             connection\n     ERROR   Application startup failed. Exiting.\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:213 in run                         \u2502\n\u2502                                                                              \u2502\n\u2502   210 \u2502   \u2502   \u2502   raise typer.BadParameter(msg)                              \u2502\n\u2502   211 \u2502                                                                      \u2502\n\u2502   212 \u2502   else:                                                              \u2502\n\u2502 \u2771 213 \u2502   \u2502   _run_imported_app(app_obj, args=run_args)                      \u2502\n\u2502   214                                                                        \u2502\n\u2502   215                                                                        \u2502\n\u2502   216 def _run(args: RunArgs) -&amp;gt; None:                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502              app = &amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;         \u2502 \u2502\n\u2502 \u2502          app_dir = &amp;#x27;.&amp;#x27;                                                   \u2502 \u2502\n\u2502 \u2502          app_obj = &amp;lt;faststream.app.FastStream object at 0x71ea95602120&amp;gt;  \u2502 \u2502\n\u2502 \u2502 casted_log_level = 0                                                     \u2502 \u2502\n\u2502 \u2502              ctx = &amp;lt;click.core.Context object at 0x71ea958d9950&amp;gt;         \u2502 \u2502\n\u2502 \u2502            extra = {&amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;}                                      \u2502 \u2502\n\u2502 \u2502       is_factory = False                                                 \u2502 \u2502\n\u2502 \u2502       log_config = None                                                  \u2502 \u2502\n\u2502 \u2502        log_level = &amp;lt;LogLevels.notset: &amp;#x27;notset&amp;#x27;&amp;gt;                          \u2502 \u2502\n\u2502 \u2502             loop = &amp;#x27;auto&amp;#x27;                                                \u2502 \u2502\n\u2502 \u2502      module_path = PosixPath(&amp;#x27;/home/philippe/src/PA_Communautaire/packa\u2026 \u2502 \u2502\n\u2502 \u2502           reload = False                                                 \u2502 \u2502\n\u2502 \u2502         run_args = RunArgs(                                              \u2502 \u2502\n\u2502 \u2502                    \u2502                                                     \u2502 \u2502\n\u2502 \u2502                    app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;,    \u2502 \u2502\n\u2502 \u2502                    \u2502   extra_options={                                   \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                            \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;                                \u2502 \u2502\n\u2502 \u2502                    \u2502   },                                                \u2502 \u2502\n\u2502 \u2502                    \u2502   is_factory=False,                                 \u2502 \u2502\n\u2502 \u2502                    \u2502   log_config=None,                                  \u2502 \u2502\n\u2502 \u2502                    \u2502   log_level=0,                                      \u2502 \u2502\n\u2502 \u2502                    \u2502   app_level=20,                                     \u2502 \u2502\n\u2502 \u2502                    \u2502   loop=&amp;#x27;auto&amp;#x27;                                       \u2502 \u2502\n\u2502 \u2502                    )                                                     \u2502 \u2502\n\u2502 \u2502 watch_extensions = []                                                    \u2502 \u2502\n\u2502 \u2502          workers = 1                                                     \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:248 in _run_imported_app           \u2502\n\u2502                                                                              \u2502\n\u2502   245 \u2502   \u2502   \u2502   backend_options[&amp;quot;loop_factory&amp;quot;] = uvloop.new_event_loop    \u2502\n\u2502   246 \u2502                                                                      \u2502\n\u2502   247 \u2502   try:                                                               \u2502\n\u2502 \u2771 248 \u2502   \u2502   anyio.run(                                                     \u2502\n\u2502   249 \u2502   \u2502   \u2502   app_obj.run,                                               \u2502\n\u2502   250 \u2502   \u2502   \u2502   args.app_level,                                            \u2502\n\u2502   251 \u2502   \u2502   \u2502   args.extra_options,                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         app_obj = &amp;lt;faststream.app.FastStream object at 0x71ea95602120&amp;gt;   \u2502 \u2502\n\u2502 \u2502            args = RunArgs(                                               \u2502 \u2502\n\u2502 \u2502                   \u2502   app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;, \u2502 \u2502\n\u2502 \u2502                   \u2502   extra_options={                                    \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                             \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   },                                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   is_factory=False,                                  \u2502 \u2502\n\u2502 \u2502                   \u2502   log_config=None,                                   \u2502 \u2502\n\u2502 \u2502                   \u2502   log_level=0,                                       \u2502 \u2502\n\u2502 \u2502                   \u2502   app_level=20,                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   loop=&amp;#x27;auto&amp;#x27;                                        \u2502 \u2502\n\u2502 \u2502                   )                                                      \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x71ea95776520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502          uvloop = &amp;lt;module &amp;#x27;uvloop&amp;#x27; from                                  \u2502 \u2502\n\u2502 \u2502                   &amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/.v\u2026 \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_core/_eventloop.py:75 in run                                 \u2502\n\u2502                                                                              \u2502\n\u2502    72 \u2502                                                                      \u2502\n\u2502    73 \u2502   try:                                                               \u2502\n\u2502    74 \u2502   \u2502   backend_options = backend_options or {}                        \u2502\n\u2502 \u2771  75 \u2502   \u2502   return async_backend.run(func, args, {}, backend_options)      \u2502\n\u2502    76 \u2502   finally:                                                           \u2502\n\u2502    77 \u2502   \u2502   reset_current_async_library(token)                             \u2502\n\u2502    78                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502            args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;})              \u2502 \u2502\n\u2502 \u2502   asynclib_name = None                                                   \u2502 \u2502\n\u2502 \u2502         backend = &amp;#x27;asyncio&amp;#x27;                                              \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x71ea95776520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502            func = &amp;lt;bound method FastStream.run of                        \u2502 \u2502\n\u2502 \u2502                   &amp;lt;faststream.app.FastStream object at 0x71ea95602120&amp;gt;&amp;gt;  \u2502 \u2502\n\u2502 \u2502           token = None                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2365 in run                             \u2502\n\u2502                                                                              \u2502\n\u2502   2362 \u2502   \u2502   \u2502   \u2502   loop_factory = winloop.new_event_loop                 \u2502\n\u2502   2363 \u2502   \u2502                                                                 \u2502\n\u2502   2364 \u2502   \u2502   with Runner(debug=debug, loop_factory=loop_factory) as runner \u2502\n\u2502 \u2771 2365 \u2502   \u2502   \u2502   return runner.run(wrapper())                              \u2502\n\u2502   2366 \u2502                                                                     \u2502\n\u2502   2367 \u2502   @classmethod                                                      \u2502\n\u2502   2368 \u2502   def current_token(cls) -&amp;gt; object:                                 \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;})                      \u2502 \u2502\n\u2502 \u2502   debug = None                                                           \u2502 \u2502\n\u2502 \u2502    func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream     \u2502 \u2502\n\u2502 \u2502           object at 0x71ea95602120&amp;gt;&amp;gt;                                     \u2502 \u2502\n\u2502 \u2502  kwargs = {}                                                             \u2502 \u2502\n\u2502 \u2502 options = {&amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at 0x71ea95776520&amp;gt;}  \u2502 \u2502\n\u2502 \u2502  runner = &amp;lt;asyncio.runners.Runner object at 0x71ea95602a50&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/py \u2502\n\u2502 thon3.13/asyncio/runners.py:118 in run                                       \u2502\n\u2502                                                                              \u2502\n\u2502   115 \u2502   \u2502                                                                  \u2502\n\u2502   116 \u2502   \u2502   self._interrupt_count = 0                                      \u2502\n\u2502   117 \u2502   \u2502   try:                                                           \u2502\n\u2502 \u2771 118 \u2502   \u2502   \u2502   return self._loop.run_until_complete(task)                 \u2502\n\u2502   119 \u2502   \u2502   except exceptions.CancelledError:                              \u2502\n\u2502   120 \u2502   \u2502   \u2502   if self._interrupt_count &amp;gt; 0:                              \u2502\n\u2502   121 \u2502   \u2502   \u2502   \u2502   uncancel = getattr(task, &amp;quot;uncancel&amp;quot;, None)             \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502        context = &amp;lt;_contextvars.Context object at 0x71ea952a13c0&amp;gt;         \u2502 \u2502\n\u2502 \u2502           coro = &amp;lt;coroutine object FastStream.run at 0x71ea9528f4c0&amp;gt;     \u2502 \u2502\n\u2502 \u2502           self = &amp;lt;asyncio.runners.Runner object at 0x71ea95602a50&amp;gt;       \u2502 \u2502\n\u2502 \u2502 sigint_handler = functools.partial(&amp;lt;bound method Runner._on_sigint of    \u2502 \u2502\n\u2502 \u2502                  &amp;lt;asyncio.runners.Runner object at 0x71ea95602a50&amp;gt;&amp;gt;,     \u2502 \u2502\n\u2502 \u2502                  main_task=&amp;lt;Task finished                                \u2502 \u2502\n\u2502 \u2502                  name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;                    \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;)                            \u2502 \u2502\n\u2502 \u2502           task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;     \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;                             \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 in uvloop.loop.Loop.run_until_complete:1518                                  \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2348 in wrapper                         \u2502\n\u2502                                                                              \u2502\n\u2502   2345 \u2502   \u2502   \u2502   _task_states[task] = TaskState(None, None)                \u2502\n\u2502   2346 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   2347 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771 2348 \u2502   \u2502   \u2502   \u2502   return await func(*args)                              \u2502\n\u2502   2349 \u2502   \u2502   \u2502   finally:                                                  \u2502\n\u2502   2350 \u2502   \u2502   \u2502   \u2502   del _task_states[task]                                \u2502\n\u2502   2351                                                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;})                         \u2502 \u2502\n\u2502 \u2502 func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream object \u2502 \u2502\n\u2502 \u2502        at 0x71ea95602120&amp;gt;&amp;gt;                                               \u2502 \u2502\n\u2502 \u2502 task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;               \u2502 \u2502\n\u2502 \u2502        coro=&amp;lt;FastStream.run() done, defined at                           \u2502 \u2502\n\u2502 \u2502        /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/pyth\u2026 \u2502 \u2502\n\u2502 \u2502        exception=NoServersError()&amp;gt;                                       \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/app.py:100 in run                                        \u2502\n\u2502                                                                              \u2502\n\u2502    97 \u2502   \u2502   \u2502   \u2502   \u2502   tg.cancel_scope.cancel()                           \u2502\n\u2502    98 \u2502   \u2502   \u2502   except ExceptionGroup as e:                                \u2502\n\u2502    99 \u2502   \u2502   \u2502   \u2502   for ex in e.exceptions:                                \u2502\n\u2502 \u2771 100 \u2502   \u2502   \u2502   \u2502   \u2502   raise ex from None                                 \u2502\n\u2502   101 \u2502                                                                      \u2502\n\u2502   102 \u2502   def exit(self) -&amp;gt; None:                                            \u2502\n\u2502   103 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Stop application manually.&amp;quot;&amp;quot;&amp;quot;                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502                ex = NoServersError()                                     \u2502 \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x71ea95602120&amp;gt; \u2502 \u2502\n\u2502 \u2502        sleep_time = 0.1                                                  \u2502 \u2502\n\u2502 \u2502                tg = &amp;lt;anyio._backends._asyncio.TaskGroup object at        \u2502 \u2502\n\u2502 \u2502                     0x71ea956034d0&amp;gt;                                      \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:205 in _startup                 \u2502\n\u2502                                                                              \u2502\n\u2502   202 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   203 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Private method calls `start` with logging.&amp;quot;&amp;quot;&amp;quot;               \u2502\n\u2502   204 \u2502   \u2502   async with self._startup_logging(log_level=log_level):         \u2502\n\u2502 \u2771 205 \u2502   \u2502   \u2502   await self.start(**(run_extra_options or {}))              \u2502\n\u2502   206 \u2502   \u2502                                                                  \u2502\n\u2502   207 \u2502   \u2502   self.running = True                                            \u2502\n\u2502   208                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x71ea95602120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:215 in start                    \u2502\n\u2502                                                                              \u2502\n\u2502   212 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   213 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Executes startup hooks and start broker.&amp;quot;&amp;quot;&amp;quot;                 \u2502\n\u2502   214 \u2502   \u2502   async with self._start_hooks_context(**run_extra_options):     \u2502\n\u2502 \u2771 215 \u2502   \u2502   \u2502   await self._start_broker()                                 \u2502\n\u2502   216 \u2502                                                                      \u2502\n\u2502   217 \u2502   @asynccontextmanager                                               \u2502\n\u2502   218 \u2502   async def _start_hooks_context(                                    \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8144&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x71ea95602120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:98 in _start_broker             \u2502\n\u2502                                                                              \u2502\n\u2502    95 \u2502   async def _start_broker(self) -&amp;gt; None:                             \u2502\n\u2502    96 \u2502   \u2502   assert self.brokers, &amp;quot;You should setup a broker&amp;quot;               \u2502\n\u2502    97 \u2502   \u2502   for b in self.brokers:                                         \u2502\n\u2502 \u2771  98 \u2502   \u2502   \u2502   await b.start()                                            \u2502\n\u2502    99 \u2502                                                                      \u2502\n\u2502   100 \u2502   @property                                                          \u2502\n\u2502   101 \u2502   def broker(self) -&amp;gt; Optional[&amp;quot;BrokerUsecase[Any, Any]&amp;quot;]:           \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    b = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x71ea95601940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2502 self = &amp;lt;faststream.app.FastStream object at 0x71ea95602120&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:462 in start                       \u2502\n\u2502                                                                              \u2502\n\u2502   459 \u2502                                                                      \u2502\n\u2502   460 \u2502   async def start(self) -&amp;gt; None:                                     \u2502\n\u2502   461 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect broker to NATS cluster and startup all subscribers. \u2502\n\u2502 \u2771 462 \u2502   \u2502   await self.connect()                                           \u2502\n\u2502   463 \u2502   \u2502                                                                  \u2502\n\u2502   464 \u2502   \u2502   stream_context = self.config.connection_state.stream           \u2502\n\u2502   465                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x71ea95601940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/broker/broker.py:111 in connect                \u2502\n\u2502                                                                              \u2502\n\u2502   108 \u2502   async def connect(self) -&amp;gt; ConnectionType:                         \u2502\n\u2502   109 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect to a remote server.&amp;quot;&amp;quot;&amp;quot;                              \u2502\n\u2502   110 \u2502   \u2502   if self._connection is None:                                   \u2502\n\u2502 \u2771 111 \u2502   \u2502   \u2502   self._connection = await self._connect()                   \u2502\n\u2502   112 \u2502   \u2502   \u2502   self._setup_logger()                                       \u2502\n\u2502   113 \u2502   \u2502                                                                  \u2502\n\u2502   114 \u2502   \u2502   return self._connection                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x71ea95601940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:427 in _connect                    \u2502\n\u2502                                                                              \u2502\n\u2502   424 \u2502   \u2502   )                                                              \u2502\n\u2502   425 \u2502                                                                      \u2502\n\u2502   426 \u2502   async def _connect(self) -&amp;gt; &amp;quot;Client&amp;quot;:                              \u2502\n\u2502 \u2771 427 \u2502   \u2502   connection = await nats.connect(**self._connection_kwargs)     \u2502\n\u2502   428 \u2502   \u2502   self.config.connect(connection)                                \u2502\n\u2502   429 \u2502   \u2502   return connection                                              \u2502\n\u2502   430                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x71ea95601940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/__init__.py:46 in connect                                      \u2502\n\u2502                                                                              \u2502\n\u2502   43 \u2502                                                                       \u2502\n\u2502   44 \u2502   &amp;quot;&amp;quot;&amp;quot;                                                                 \u2502\n\u2502   45 \u2502   nc = NATS()                                                         \u2502\n\u2502 \u2771 46 \u2502   await nc.connect(servers, **options)                                \u2502\n\u2502   47 \u2502   return nc                                                           \u2502\n\u2502   48                                                                         \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                              \u2502\n\u2502 \u2502      nc = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                              \u2502\n\u2502 \u2502 options = {                                 \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;name&amp;#x27;: &amp;#x27;faststream-0.6.4&amp;#x27;,   \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;verbose&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;allow_reconnect&amp;#x27;: True,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;reconnect_time_wait&amp;#x27;: 2,     \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;max_reconnect_attempts&amp;#x27;: 60, \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;no_echo&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pedantic&amp;#x27;: False,            \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;inbox_prefix&amp;#x27;: b&amp;#x27;_INBOX&amp;#x27;,    \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pending_size&amp;#x27;: 2097152,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;connect_timeout&amp;#x27;: 2,         \u2502                              \u2502\n\u2502 \u2502           \u2502   ... +18                       \u2502                              \u2502\n\u2502 \u2502           }                                 \u2502                              \u2502\n\u2502 \u2502 servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502                              \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                              \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:547 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    544 \u2502   \u2502   \u2502   \u2502   \u2502   # Never stop reconnecting                         \u2502\n\u2502    545 \u2502   \u2502   \u2502   \u2502   \u2502   continue                                          \u2502\n\u2502    546 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502 \u2771  547 \u2502   \u2502   \u2502   \u2502   raise e                                               \u2502\n\u2502    548 \u2502   \u2502   \u2502   except (OSError, errors.Error, asyncio.TimeoutError) as e \u2502\n\u2502    549 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502    550 \u2502   \u2502   \u2502   \u2502   await self._error_cb(e)                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32235.709554858, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:535 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    532 \u2502   \u2502                                                                 \u2502\n\u2502    533 \u2502   \u2502   while True:                                                   \u2502\n\u2502    534 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771  535 \u2502   \u2502   \u2502   \u2502   await self._select_next_server()                      \u2502\n\u2502    536 \u2502   \u2502   \u2502   \u2502   await self._process_connect_init()                    \u2502\n\u2502    537 \u2502   \u2502   \u2502   \u2502   assert (                                              \u2502\n\u2502    538 \u2502   \u2502   \u2502   \u2502   \u2502   self._current_server                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32235.709554858, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:1365 in _select_next_server                      \u2502\n\u2502                                                                              \u2502\n\u2502   1362 \u2502   \u2502   while True:                                                   \u2502\n\u2502   1363 \u2502   \u2502   \u2502   if len(self._server_pool) == 0:                           \u2502\n\u2502   1364 \u2502   \u2502   \u2502   \u2502   self._current_server = None                           \u2502\n\u2502 \u2771 1365 \u2502   \u2502   \u2502   \u2502   raise errors.NoServersError                           \u2502\n\u2502   1366 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   1367 \u2502   \u2502   \u2502   now = time.monotonic()                                    \u2502\n\u2502   1368 \u2502   \u2502   \u2502   s = self._server_pool.pop(0)                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                                 \u2502\n\u2502 \u2502  now = 32235.709572531                   \u2502                                 \u2502\n\u2502 \u2502    s = Srv(                              \u2502                                 \u2502\n\u2502 \u2502        \u2502   uri=ParseResult(              \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502                                 \u2502\n\u2502 \u2502        \u2502   ),                            \u2502                                 \u2502\n\u2502 \u2502        \u2502   reconnects=61,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   last_attempt=32235.709554858, \u2502                                 \u2502\n\u2502 \u2502        \u2502   did_connect=False,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   discovered=False,             \u2502                                 \u2502\n\u2502 \u2502        \u2502   tls_name=None,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   server_version=None           \u2502                                 \u2502\n\u2502 \u2502        )                                 \u2502                                 \u2502\n\u2502 \u2502 self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                                 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                                 \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\nNoServersError: nats: no servers available for connection\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nINFO:pac0.shared.test.world:WorldContext: exit context ...\n\n------------------------------ Captured log call -------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service peppol on port 8015 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO     pac0.shared.test.service.base:base.py:161 Service  peppol started on localhost:8015\nINFO     pac0.shared.test.world:world.py:84 WorldContext: enter context ...\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8099 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8023 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8023\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8166 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8166\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nINFO     pac0.shared.test.world:world.py:92 WorldContext: exit context ...\n\n&#34;}], &#34;tests/test_world.py::test_world_with_4pa&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world.py::test_world_with_4pa&#34;, &#34;duration&#34;: &#34;00:01:10&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world.py::test_world_with_4pa&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:01:10&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;async def test_world_with_4pa():\n        &amp;quot;&amp;quot;&amp;quot;WorldContext with 4 PA instances.&amp;quot;&amp;quot;&amp;quot;\n        async with WorldContext() as world:\n&amp;gt;           await world.pa_new(4)\n\ntests/test_world.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc/pac0/shared/test/world.py:71: in pa_new\n    await asyncio.gather(*tasks)\nsrc/pac0/shared/test/service/pac.py:58: in __aenter__\n    await asyncio.gather(*[s.__aenter__() for s in self._services()])\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = &amp;lt;pac0.shared.test.service.fastapi.FastApiServiceContext object at 0x758353ed7ac0&amp;gt;\n\n    async def __aenter__(self) -&amp;gt; Self:\n        &amp;quot;&amp;quot;&amp;quot;Start the service subprocess.&amp;quot;&amp;quot;&amp;quot;\n        if self.config.port == 0:\n            self.config.port = find_available_port(start_port=8000)\n        logger.info(\n            f&amp;quot;Starting service {self.config.name} on port {self.config.port} : {&amp;#x27; &amp;#x27;.join(self.config.command)}&amp;quot;\n        )\n        env = os.environ.copy()\n        env[&amp;quot;PORT&amp;quot;] = str(self.config.port)\n        if self.config.env_var_extra:\n            env.update(self.config.env_var_extra)\n        command = [c.format(**env) for c in self.config.command]\n    \n        self._process = subprocess.Popen(\n            command,\n            # stdout=subprocess.PIPE,  # self.config.stdout,\n            # stderr=subprocess.PIPE,  # self.config.stderr,\n            text=True,\n            env=env,\n            cwd=PACKAGE_BASE_FOLDER,\n        )\n    \n        # Wait for service to be ready\n        self.is_ready = await self.wait_for_ready(self.config.startup_timeout)\n        if not self.is_ready:\n            await self._terminate()\n&amp;gt;           raise TimeoutError(\n                f&amp;quot;Service {self.config.name} failed to start within {self.config.startup_timeout}s&amp;quot;\n            )\nE           TimeoutError: Service api_gateway failed to start within 30.0s\n\nsrc/pac0/shared/test/service/base.py:157: TimeoutError\n\n----------------------------- Captured stdout call -----------------------------\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \n\n   FastAPI   Starting production server \ud83d\ude80\n \n             Searching for package file structure from directories with         \n             __init__.py files                                                  \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8021\n    server   Documentation at http://0.0.0.0:8021/docs\n \n             Logs:\n \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8193\n    server   Documentation at http://0.0.0.0:8193/docs\n \n             Logs:\n \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8048\n    server   Documentation at http://0.0.0.0:8048/docs\n \n             Logs:\n \nConnecting to NATS nats://localhost:4222 ...\n             Importing from                                                     \n             /home/philippe/src/PA_Communautaire/packages/pac0/src/pac0/service/\n             api_gateway                                                        \n \n    module   \ud83d\udc0d main.py\n \n      code   Importing the FastAPI app object from the module with the following\n             code:                                                              \n \n             from main import app\n \n       app   Using import string: main:app\n \n    server   Server started at http://0.0.0.0:8190\n    server   Documentation at http://0.0.0.0:8190/docs\n \n             Logs:\n \n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\nsetup pac0 service ...\nsetup pac0 service ...\nsetup pac0 service ...\nsetup pac0 service ...\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n_check_http_health http://localhost:8021/healthcheck\n_check_http_health http://localhost:8048/healthcheck\n_check_http_health http://localhost:8193/healthcheck\n_check_http_health http://localhost:8190/healthcheck\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc All connection attempts failed\ncccccc Server disconnected without sending a response.\n\n----------------------------- Captured stderr call -----------------------------\nINFO:pac0.shared.test.service.base:Starting service peppol on port 8008 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO:pac0.shared.test.service.base:Service  peppol started on localhost:8008\nINFO:pac0.shared.test.world:WorldContext: enter context ...\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8021 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8112 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8112\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8151 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8151\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8193 : uv run fastapi run src/pac0/service/api_gateway/main.py\n[80202] 2026/01/13 17:51:52.792792 [INF] Starting nats-server\n[80202] 2026/01/13 17:51:52.792878 [INF]   Version:  2.12.3\n[80202] 2026/01/13 17:51:52.792885 [INF]   Git:      [450a519]\n[80202] 2026/01/13 17:51:52.792889 [INF]   Name:     ND2E6LFUV7FXIMWX7QIPUNFTMV5HJRCLOV55TIAV5IDT5XSBEAVJIUI4\n[80202] 2026/01/13 17:51:52.792896 [INF]   ID:       ND2E6LFUV7FXIMWX7QIPUNFTMV5HJRCLOV55TIAV5IDT5XSBEAVJIUI4\n[80202] 2026/01/13 17:51:52.793667 [INF] Listening for client connections on 0.0.0.0:8112\n[80202] 2026/01/13 17:51:52.794143 [INF] Server is ready\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8065 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8065\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8075 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8075\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8048 : uv run fastapi run src/pac0/service/api_gateway/main.py\n[80219] 2026/01/13 17:51:52.820909 [INF] Starting nats-server\n[80219] 2026/01/13 17:51:52.820999 [INF]   Version:  2.12.3\n[80219] 2026/01/13 17:51:52.821006 [INF]   Git:      [450a519]\n[80219] 2026/01/13 17:51:52.821010 [INF]   Name:     NDFL3AM6BODGAPJRPZKDVY2OWTB7PYZJNEJ64VTNPS5ORCOMLVTMBQKE\n[80219] 2026/01/13 17:51:52.821021 [INF]   ID:       NDFL3AM6BODGAPJRPZKDVY2OWTB7PYZJNEJ64VTNPS5ORCOMLVTMBQKE\n[80219] 2026/01/13 17:51:52.821963 [INF] Listening for client connections on 0.0.0.0:8065\n[80219] 2026/01/13 17:51:52.822486 [INF] Server is ready\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8000 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8000\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8173 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8173\nINFO:pac0.shared.test.service.base:Starting service api_gateway on port 8190 : uv run fastapi run src/pac0/service/api_gateway/main.py\n[80236] 2026/01/13 17:51:52.850327 [INF] Starting nats-server\n[80236] 2026/01/13 17:51:52.850442 [INF]   Version:  2.12.3\n[80236] 2026/01/13 17:51:52.850449 [INF]   Git:      [450a519]\n[80236] 2026/01/13 17:51:52.850455 [INF]   Name:     ND3GCUZ25VNU3AZBPEWYYQLFJMJPRPMTEO7PV3ZPPH5A5D2ALRR4EHO4\n[80236] 2026/01/13 17:51:52.850461 [INF]   ID:       ND3GCUZ25VNU3AZBPEWYYQLFJMJPRPMTEO7PV3ZPPH5A5D2ALRR4EHO4\n[80236] 2026/01/13 17:51:52.851501 [INF] Listening for client connections on 0.0.0.0:8000\n[80236] 2026/01/13 17:51:52.852091 [INF] Server is ready\nINFO:pac0.shared.test.service.base:Starting service esb_central on port 8190 : nats-server --port={PORT}\nINFO:pac0.shared.test.service.base:Service  esb_central started on localhost:8190\nINFO:pac0.shared.test.service.base:Starting service controle_formats on port 8140 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO:pac0.shared.test.service.base:Service  controle_formats started on localhost:8140\n[80254] 2026/01/13 17:51:52.885958 [INF] Starting nats-server\n[80254] 2026/01/13 17:51:52.886045 [INF]   Version:  2.12.3\n[80254] 2026/01/13 17:51:52.886054 [INF]   Git:      [450a519]\n[80254] 2026/01/13 17:51:52.886061 [INF]   Name:     NCMLFEX2LUV6NCKSV2Y3DSU236F5B2LAM6I2LHWA4JUWVMZA6DDW5XL6\n[80254] 2026/01/13 17:51:52.886068 [INF]   ID:       NCMLFEX2LUV6NCKSV2Y3DSU236F5B2LAM6I2LHWA4JUWVMZA6DDW5XL6\n[80254] 2026/01/13 17:51:52.887048 [INF] Listening for client connections on 0.0.0.0:8190\n[80254] 2026/01/13 17:51:52.887647 [INF] Server is ready\n2026-01-13 17:51:53,306 INFO     - FastStream app starting...\n2026-01-13 17:51:53,322 INFO     - FastStream app starting...\n2026-01-13 17:51:53,369 INFO     - FastStream app starting...\n2026-01-13 17:51:53,388 INFO     - FastStream app starting...\n      INFO   Started server process [80215]\n      INFO   Waiting for application startup.\n      INFO   Started server process [80234]\n      INFO   Waiting for application startup.\n      INFO   Started server process [80252]\n      INFO   Waiting for application startup.\n      INFO   Started server process [80253]\n      INFO   Waiting for application startup.\n[80254] 2026/01/13 17:51:54.041982 [ERR] 127.0.0.1:44734 - cid:6 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:51:55.152848 [ERR] 127.0.0.1:44756 - cid:8 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:51:56.288503 [ERR] 127.0.0.1:33242 - cid:10 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:51:57.384282 [ERR] 127.0.0.1:33248 - cid:12 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:51:58.526860 [ERR] 127.0.0.1:33262 - cid:14 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n     ERROR   Traceback (most recent call last):                                 \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/starlette/routing.py&amp;quot;, line 694, in lifespan    \n                 async with self.lifespan_context(app) as maybe_state:          \n                            ~~~~~~~~~~~~~~~~~~~~~^^^^^                          \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 200, in               \n             merged_lifespan                                                    \n                 async with original_context(app) as maybe_original_state:      \n                            ~~~~~~~~~~~~~~~~^^^^^                               \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 201, in               \n             merged_lifespan                                                    \n                 async with nested_context(app) as maybe_nested_state:          \n                            ~~~~~~~~~~~~~~^^^^^                                 \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/fastapi/router.py&amp;quot;, line   \n             290, in start_broker_lifespan                                      \n                 await self._start_broker()                                     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/application.py&amp;quot;, line 98,  \n             in _start_broker                                                   \n                 await b.start()                                                \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 462, in \n             start                                                              \n                 await self.connect()                                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/broker/broker.py&amp;quot;, line    \n             111, in connect                                                    \n                 self._connection = await self._connect()                       \n                                    ^^^^^^^^^^^^^^^^^^^^^                       \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 427, in \n             _connect                                                           \n                 connection = await nats.connect(**self._connection_kwargs)     \n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/__init__.py&amp;quot;, line 46, in connect          \n                 await nc.connect(servers, **options)                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 547, in connect       \n                 raise e                                                        \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 535, in connect       \n                 await self._select_next_server()                               \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 1365, in              \n             _select_next_server                                                \n                 raise errors.NoServersError                                    \n             nats.errors.NoServersError: nats: no servers available for         \n             connection\n     ERROR   Application startup failed. Exiting.\n     ERROR   Traceback (most recent call last):                                 \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/starlette/routing.py&amp;quot;, line 694, in lifespan    \n                 async with self.lifespan_context(app) as maybe_state:          \n                            ~~~~~~~~~~~~~~~~~~~~~^^^^^                          \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 200, in               \n             merged_lifespan                                                    \n                 async with original_context(app) as maybe_original_state:      \n                            ~~~~~~~~~~~~~~~~^^^^^                               \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 201, in               \n             merged_lifespan                                                    \n                 async with nested_context(app) as maybe_nested_state:          \n                            ~~~~~~~~~~~~~~^^^^^                                 \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/fastapi/router.py&amp;quot;, line   \n             290, in start_broker_lifespan                                      \n                 await self._start_broker()                                     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/application.py&amp;quot;, line 98,  \n             in _start_broker                                                   \n                 await b.start()                                                \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 462, in \n             start                                                              \n                 await self.connect()                                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/broker/broker.py&amp;quot;, line    \n             111, in connect                                                    \n                 self._connection = await self._connect()                       \n                                    ^^^^^^^^^^^^^^^^^^^^^                       \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 427, in \n             _connect                                                           \n                 connection = await nats.connect(**self._connection_kwargs)     \n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/__init__.py&amp;quot;, line 46, in connect          \n                 await nc.connect(servers, **options)                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 547, in connect       \n                 raise e                                                        \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 535, in connect       \n                 await self._select_next_server()                               \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 1365, in              \n             _select_next_server                                                \n                 raise errors.NoServersError                                    \n             nats.errors.NoServersError: nats: no servers available for         \n             connection\n     ERROR   Application startup failed. Exiting.\n     ERROR   Traceback (most recent call last):                                 \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/starlette/routing.py&amp;quot;, line 694, in lifespan    \n                 async with self.lifespan_context(app) as maybe_state:          \n                            ~~~~~~~~~~~~~~~~~~~~~^^^^^                          \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 200, in               \n             merged_lifespan                                                    \n                 async with original_context(app) as maybe_original_state:      \n                            ~~~~~~~~~~~~~~~~^^^^^                               \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 201, in               \n             merged_lifespan                                                    \n                 async with nested_context(app) as maybe_nested_state:          \n                            ~~~~~~~~~~~~~~^^^^^                                 \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/fastapi/router.py&amp;quot;, line   \n             290, in start_broker_lifespan                                      \n                 await self._start_broker()                                     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/application.py&amp;quot;, line 98,  \n             in _start_broker                                                   \n                 await b.start()                                                \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 462, in \n             start                                                              \n                 await self.connect()                                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/broker/broker.py&amp;quot;, line    \n             111, in connect                                                    \n                 self._connection = await self._connect()                       \n                                    ^^^^^^^^^^^^^^^^^^^^^                       \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 427, in \n             _connect                                                           \n                 connection = await nats.connect(**self._connection_kwargs)     \n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/__init__.py&amp;quot;, line 46, in connect          \n                 await nc.connect(servers, **options)                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 547, in connect       \n                 raise e                                                        \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 535, in connect       \n                 await self._select_next_server()                               \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 1365, in              \n             _select_next_server                                                \n                 raise errors.NoServersError                                    \n             nats.errors.NoServersError: nats: no servers available for         \n             connection\n     ERROR   Application startup failed. Exiting.\n     ERROR   Traceback (most recent call last):                                 \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/starlette/routing.py&amp;quot;, line 694, in lifespan    \n                 async with self.lifespan_context(app) as maybe_state:          \n                            ~~~~~~~~~~~~~~~~~~~~~^^^^^                          \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 200, in               \n             merged_lifespan                                                    \n                 async with original_context(app) as maybe_original_state:      \n                            ~~~~~~~~~~~~~~~~^^^^^                               \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/fastapi/routing.py&amp;quot;, line 201, in               \n             merged_lifespan                                                    \n                 async with nested_context(app) as maybe_nested_state:          \n                            ~~~~~~~~~~~~~~^^^^^                                 \n               File                                                             \n             &amp;quot;/home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-\n             gnu/lib/python3.13/contextlib.py&amp;quot;, line 214, in __aenter__         \n                 return await anext(self.gen)                                   \n                        ^^^^^^^^^^^^^^^^^^^^^                                   \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/fastapi/router.py&amp;quot;, line   \n             290, in start_broker_lifespan                                      \n                 await self._start_broker()                                     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/application.py&amp;quot;, line 98,  \n             in _start_broker                                                   \n                 await b.start()                                                \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 462, in \n             start                                                              \n                 await self.connect()                                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/_internal/broker/broker.py&amp;quot;, line    \n             111, in connect                                                    \n                 self._connection = await self._connect()                       \n                                    ^^^^^^^^^^^^^^^^^^^^^                       \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/faststream/nats/broker/broker.py&amp;quot;, line 427, in \n             _connect                                                           \n                 connection = await nats.connect(**self._connection_kwargs)     \n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^     \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/__init__.py&amp;quot;, line 46, in connect          \n                 await nc.connect(servers, **options)                           \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 547, in connect       \n                 raise e                                                        \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 535, in connect       \n                 await self._select_next_server()                               \n               File                                                             \n             &amp;quot;/home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python\n             3.13/site-packages/nats/aio/client.py&amp;quot;, line 1365, in              \n             _select_next_server                                                \n                 raise errors.NoServersError                                    \n             nats.errors.NoServersError: nats: no servers available for         \n             connection\n     ERROR   Application startup failed. Exiting.\n[80254] 2026/01/13 17:51:59.620621 [ERR] 127.0.0.1:33284 - cid:16 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:213 in run                         \u2502\n\u2502                                                                              \u2502\n\u2502   210 \u2502   \u2502   \u2502   raise typer.BadParameter(msg)                              \u2502\n\u2502   211 \u2502                                                                      \u2502\n\u2502   212 \u2502   else:                                                              \u2502\n\u2502 \u2771 213 \u2502   \u2502   _run_imported_app(app_obj, args=run_args)                      \u2502\n\u2502   214                                                                        \u2502\n\u2502   215                                                                        \u2502\n\u2502   216 def _run(args: RunArgs) -&amp;gt; None:                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502              app = &amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;         \u2502 \u2502\n\u2502 \u2502          app_dir = &amp;#x27;.&amp;#x27;                                                   \u2502 \u2502\n\u2502 \u2502          app_obj = &amp;lt;faststream.app.FastStream object at 0x729edd11a120&amp;gt;  \u2502 \u2502\n\u2502 \u2502 casted_log_level = 0                                                     \u2502 \u2502\n\u2502 \u2502              ctx = &amp;lt;click.core.Context object at 0x729edd3f1950&amp;gt;         \u2502 \u2502\n\u2502 \u2502            extra = {&amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;}                                      \u2502 \u2502\n\u2502 \u2502       is_factory = False                                                 \u2502 \u2502\n\u2502 \u2502       log_config = None                                                  \u2502 \u2502\n\u2502 \u2502        log_level = &amp;lt;LogLevels.notset: &amp;#x27;notset&amp;#x27;&amp;gt;                          \u2502 \u2502\n\u2502 \u2502             loop = &amp;#x27;auto&amp;#x27;                                                \u2502 \u2502\n\u2502 \u2502      module_path = PosixPath(&amp;#x27;/home/philippe/src/PA_Communautaire/packa\u2026 \u2502 \u2502\n\u2502 \u2502           reload = False                                                 \u2502 \u2502\n\u2502 \u2502         run_args = RunArgs(                                              \u2502 \u2502\n\u2502 \u2502                    \u2502                                                     \u2502 \u2502\n\u2502 \u2502                    app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;,    \u2502 \u2502\n\u2502 \u2502                    \u2502   extra_options={                                   \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                            \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;                                \u2502 \u2502\n\u2502 \u2502                    \u2502   },                                                \u2502 \u2502\n\u2502 \u2502                    \u2502   is_factory=False,                                 \u2502 \u2502\n\u2502 \u2502                    \u2502   log_config=None,                                  \u2502 \u2502\n\u2502 \u2502                    \u2502   log_level=0,                                      \u2502 \u2502\n\u2502 \u2502                    \u2502   app_level=20,                                     \u2502 \u2502\n\u2502 \u2502                    \u2502   loop=&amp;#x27;auto&amp;#x27;                                       \u2502 \u2502\n\u2502 \u2502                    )                                                     \u2502 \u2502\n\u2502 \u2502 watch_extensions = []                                                    \u2502 \u2502\n\u2502 \u2502          workers = 1                                                     \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:248 in _run_imported_app           \u2502\n\u2502                                                                              \u2502\n\u2502   245 \u2502   \u2502   \u2502   backend_options[&amp;quot;loop_factory&amp;quot;] = uvloop.new_event_loop    \u2502\n\u2502   246 \u2502                                                                      \u2502\n\u2502   247 \u2502   try:                                                               \u2502\n\u2502 \u2771 248 \u2502   \u2502   anyio.run(                                                     \u2502\n\u2502   249 \u2502   \u2502   \u2502   app_obj.run,                                               \u2502\n\u2502   250 \u2502   \u2502   \u2502   args.app_level,                                            \u2502\n\u2502   251 \u2502   \u2502   \u2502   args.extra_options,                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         app_obj = &amp;lt;faststream.app.FastStream object at 0x729edd11a120&amp;gt;   \u2502 \u2502\n\u2502 \u2502            args = RunArgs(                                               \u2502 \u2502\n\u2502 \u2502                   \u2502   app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;, \u2502 \u2502\n\u2502 \u2502                   \u2502   extra_options={                                    \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                             \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   },                                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   is_factory=False,                                  \u2502 \u2502\n\u2502 \u2502                   \u2502   log_config=None,                                   \u2502 \u2502\n\u2502 \u2502                   \u2502   log_level=0,                                       \u2502 \u2502\n\u2502 \u2502                   \u2502   app_level=20,                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   loop=&amp;#x27;auto&amp;#x27;                                        \u2502 \u2502\n\u2502 \u2502                   )                                                      \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x729edd28e520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502          uvloop = &amp;lt;module &amp;#x27;uvloop&amp;#x27; from                                  \u2502 \u2502\n\u2502 \u2502                   &amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/.v\u2026 \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_core/_eventloop.py:75 in run                                 \u2502\n\u2502                                                                              \u2502\n\u2502    72 \u2502                                                                      \u2502\n\u2502    73 \u2502   try:                                                               \u2502\n\u2502    74 \u2502   \u2502   backend_options = backend_options or {}                        \u2502\n\u2502 \u2771  75 \u2502   \u2502   return async_backend.run(func, args, {}, backend_options)      \u2502\n\u2502    76 \u2502   finally:                                                           \u2502\n\u2502    77 \u2502   \u2502   reset_current_async_library(token)                             \u2502\n\u2502    78                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502            args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;})              \u2502 \u2502\n\u2502 \u2502   asynclib_name = None                                                   \u2502 \u2502\n\u2502 \u2502         backend = &amp;#x27;asyncio&amp;#x27;                                              \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x729edd28e520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502            func = &amp;lt;bound method FastStream.run of                        \u2502 \u2502\n\u2502 \u2502                   &amp;lt;faststream.app.FastStream object at 0x729edd11a120&amp;gt;&amp;gt;  \u2502 \u2502\n\u2502 \u2502           token = None                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2365 in run                             \u2502\n\u2502                                                                              \u2502\n\u2502   2362 \u2502   \u2502   \u2502   \u2502   loop_factory = winloop.new_event_loop                 \u2502\n\u2502   2363 \u2502   \u2502                                                                 \u2502\n\u2502   2364 \u2502   \u2502   with Runner(debug=debug, loop_factory=loop_factory) as runner \u2502\n\u2502 \u2771 2365 \u2502   \u2502   \u2502   return runner.run(wrapper())                              \u2502\n\u2502   2366 \u2502                                                                     \u2502\n\u2502   2367 \u2502   @classmethod                                                      \u2502\n\u2502   2368 \u2502   def current_token(cls) -&amp;gt; object:                                 \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;})                      \u2502 \u2502\n\u2502 \u2502   debug = None                                                           \u2502 \u2502\n\u2502 \u2502    func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream     \u2502 \u2502\n\u2502 \u2502           object at 0x729edd11a120&amp;gt;&amp;gt;                                     \u2502 \u2502\n\u2502 \u2502  kwargs = {}                                                             \u2502 \u2502\n\u2502 \u2502 options = {&amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at 0x729edd28e520&amp;gt;}  \u2502 \u2502\n\u2502 \u2502  runner = &amp;lt;asyncio.runners.Runner object at 0x729edd11aa50&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/py \u2502\n\u2502 thon3.13/asyncio/runners.py:118 in run                                       \u2502\n\u2502                                                                              \u2502\n\u2502   115 \u2502   \u2502                                                                  \u2502\n\u2502   116 \u2502   \u2502   self._interrupt_count = 0                                      \u2502\n\u2502   117 \u2502   \u2502   try:                                                           \u2502\n\u2502 \u2771 118 \u2502   \u2502   \u2502   return self._loop.run_until_complete(task)                 \u2502\n\u2502   119 \u2502   \u2502   except exceptions.CancelledError:                              \u2502\n\u2502   120 \u2502   \u2502   \u2502   if self._interrupt_count &amp;gt; 0:                              \u2502\n\u2502   121 \u2502   \u2502   \u2502   \u2502   uncancel = getattr(task, &amp;quot;uncancel&amp;quot;, None)             \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502        context = &amp;lt;_contextvars.Context object at 0x729edcdbe500&amp;gt;         \u2502 \u2502\n\u2502 \u2502           coro = &amp;lt;coroutine object FastStream.run at 0x729edcda74c0&amp;gt;     \u2502 \u2502\n\u2502 \u2502           self = &amp;lt;asyncio.runners.Runner object at 0x729edd11aa50&amp;gt;       \u2502 \u2502\n\u2502 \u2502 sigint_handler = functools.partial(&amp;lt;bound method Runner._on_sigint of    \u2502 \u2502\n\u2502 \u2502                  &amp;lt;asyncio.runners.Runner object at 0x729edd11aa50&amp;gt;&amp;gt;,     \u2502 \u2502\n\u2502 \u2502                  main_task=&amp;lt;Task finished                                \u2502 \u2502\n\u2502 \u2502                  name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;                    \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;)                            \u2502 \u2502\n\u2502 \u2502           task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;     \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;                             \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 in uvloop.loop.Loop.run_until_complete:1518                                  \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2348 in wrapper                         \u2502\n\u2502                                                                              \u2502\n\u2502   2345 \u2502   \u2502   \u2502   _task_states[task] = TaskState(None, None)                \u2502\n\u2502   2346 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   2347 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771 2348 \u2502   \u2502   \u2502   \u2502   return await func(*args)                              \u2502\n\u2502   2349 \u2502   \u2502   \u2502   finally:                                                  \u2502\n\u2502   2350 \u2502   \u2502   \u2502   \u2502   del _task_states[task]                                \u2502\n\u2502   2351                                                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;})                         \u2502 \u2502\n\u2502 \u2502 func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream object \u2502 \u2502\n\u2502 \u2502        at 0x729edd11a120&amp;gt;&amp;gt;                                               \u2502 \u2502\n\u2502 \u2502 task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;               \u2502 \u2502\n\u2502 \u2502        coro=&amp;lt;FastStream.run() done, defined at                           \u2502 \u2502\n\u2502 \u2502        /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/pyth\u2026 \u2502 \u2502\n\u2502 \u2502        exception=NoServersError()&amp;gt;                                       \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/app.py:100 in run                                        \u2502\n\u2502                                                                              \u2502\n\u2502    97 \u2502   \u2502   \u2502   \u2502   \u2502   tg.cancel_scope.cancel()                           \u2502\n\u2502    98 \u2502   \u2502   \u2502   except ExceptionGroup as e:                                \u2502\n\u2502    99 \u2502   \u2502   \u2502   \u2502   for ex in e.exceptions:                                \u2502\n\u2502 \u2771 100 \u2502   \u2502   \u2502   \u2502   \u2502   raise ex from None                                 \u2502\n\u2502   101 \u2502                                                                      \u2502\n\u2502   102 \u2502   def exit(self) -&amp;gt; None:                                            \u2502\n\u2502   103 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Stop application manually.&amp;quot;&amp;quot;&amp;quot;                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502                ex = NoServersError()                                     \u2502 \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x729edd11a120&amp;gt; \u2502 \u2502\n\u2502 \u2502        sleep_time = 0.1                                                  \u2502 \u2502\n\u2502 \u2502                tg = &amp;lt;anyio._backends._asyncio.TaskGroup object at        \u2502 \u2502\n\u2502 \u2502                     0x729edd11b4d0&amp;gt;                                      \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:205 in _startup                 \u2502\n\u2502                                                                              \u2502\n\u2502   202 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   203 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Private method calls `start` with logging.&amp;quot;&amp;quot;&amp;quot;               \u2502\n\u2502   204 \u2502   \u2502   async with self._startup_logging(log_level=log_level):         \u2502\n\u2502 \u2771 205 \u2502   \u2502   \u2502   await self.start(**(run_extra_options or {}))              \u2502\n\u2502   206 \u2502   \u2502                                                                  \u2502\n\u2502   207 \u2502   \u2502   self.running = True                                            \u2502\n\u2502   208                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x729edd11a120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:215 in start                    \u2502\n\u2502                                                                              \u2502\n\u2502   212 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   213 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Executes startup hooks and start broker.&amp;quot;&amp;quot;&amp;quot;                 \u2502\n\u2502   214 \u2502   \u2502   async with self._start_hooks_context(**run_extra_options):     \u2502\n\u2502 \u2771 215 \u2502   \u2502   \u2502   await self._start_broker()                                 \u2502\n\u2502   216 \u2502                                                                      \u2502\n\u2502   217 \u2502   @asynccontextmanager                                               \u2502\n\u2502   218 \u2502   async def _start_hooks_context(                                    \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8032&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x729edd11a120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:98 in _start_broker             \u2502\n\u2502                                                                              \u2502\n\u2502    95 \u2502   async def _start_broker(self) -&amp;gt; None:                             \u2502\n\u2502    96 \u2502   \u2502   assert self.brokers, &amp;quot;You should setup a broker&amp;quot;               \u2502\n\u2502    97 \u2502   \u2502   for b in self.brokers:                                         \u2502\n\u2502 \u2771  98 \u2502   \u2502   \u2502   await b.start()                                            \u2502\n\u2502    99 \u2502                                                                      \u2502\n\u2502   100 \u2502   @property                                                          \u2502\n\u2502   101 \u2502   def broker(self) -&amp;gt; Optional[&amp;quot;BrokerUsecase[Any, Any]&amp;quot;]:           \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    b = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x729edd119940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2502 self = &amp;lt;faststream.app.FastStream object at 0x729edd11a120&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:462 in start                       \u2502\n\u2502                                                                              \u2502\n\u2502   459 \u2502                                                                      \u2502\n\u2502   460 \u2502   async def start(self) -&amp;gt; None:                                     \u2502\n\u2502   461 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect broker to NATS cluster and startup all subscribers. \u2502\n\u2502 \u2771 462 \u2502   \u2502   await self.connect()                                           \u2502\n\u2502   463 \u2502   \u2502                                                                  \u2502\n\u2502   464 \u2502   \u2502   stream_context = self.config.connection_state.stream           \u2502\n\u2502   465                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x729edd119940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/broker/broker.py:111 in connect                \u2502\n\u2502                                                                              \u2502\n\u2502   108 \u2502   async def connect(self) -&amp;gt; ConnectionType:                         \u2502\n\u2502   109 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect to a remote server.&amp;quot;&amp;quot;&amp;quot;                              \u2502\n\u2502   110 \u2502   \u2502   if self._connection is None:                                   \u2502\n\u2502 \u2771 111 \u2502   \u2502   \u2502   self._connection = await self._connect()                   \u2502\n\u2502   112 \u2502   \u2502   \u2502   self._setup_logger()                                       \u2502\n\u2502   113 \u2502   \u2502                                                                  \u2502\n\u2502   114 \u2502   \u2502   return self._connection                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x729edd119940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:427 in _connect                    \u2502\n\u2502                                                                              \u2502\n\u2502   424 \u2502   \u2502   )                                                              \u2502\n\u2502   425 \u2502                                                                      \u2502\n\u2502   426 \u2502   async def _connect(self) -&amp;gt; &amp;quot;Client&amp;quot;:                              \u2502\n\u2502 \u2771 427 \u2502   \u2502   connection = await nats.connect(**self._connection_kwargs)     \u2502\n\u2502   428 \u2502   \u2502   self.config.connect(connection)                                \u2502\n\u2502   429 \u2502   \u2502   return connection                                              \u2502\n\u2502   430                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x729edd119940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/__init__.py:46 in connect                                      \u2502\n\u2502                                                                              \u2502\n\u2502   43 \u2502                                                                       \u2502\n\u2502   44 \u2502   &amp;quot;&amp;quot;&amp;quot;                                                                 \u2502\n\u2502   45 \u2502   nc = NATS()                                                         \u2502\n\u2502 \u2771 46 \u2502   await nc.connect(servers, **options)                                \u2502\n\u2502   47 \u2502   return nc                                                           \u2502\n\u2502   48                                                                         \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                              \u2502\n\u2502 \u2502      nc = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                              \u2502\n\u2502 \u2502 options = {                                 \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;name&amp;#x27;: &amp;#x27;faststream-0.6.4&amp;#x27;,   \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;verbose&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;allow_reconnect&amp;#x27;: True,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;reconnect_time_wait&amp;#x27;: 2,     \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;max_reconnect_attempts&amp;#x27;: 60, \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;no_echo&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pedantic&amp;#x27;: False,            \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;inbox_prefix&amp;#x27;: b&amp;#x27;_INBOX&amp;#x27;,    \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pending_size&amp;#x27;: 2097152,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;connect_timeout&amp;#x27;: 2,         \u2502                              \u2502\n\u2502 \u2502           \u2502   ... +18                       \u2502                              \u2502\n\u2502 \u2502           }                                 \u2502                              \u2502\n\u2502 \u2502 servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502                              \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                              \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:547 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    544 \u2502   \u2502   \u2502   \u2502   \u2502   # Never stop reconnecting                         \u2502\n\u2502    545 \u2502   \u2502   \u2502   \u2502   \u2502   continue                                          \u2502\n\u2502    546 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502 \u2771  547 \u2502   \u2502   \u2502   \u2502   raise e                                               \u2502\n\u2502    548 \u2502   \u2502   \u2502   except (OSError, errors.Error, asyncio.TimeoutError) as e \u2502\n\u2502    549 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502    550 \u2502   \u2502   \u2502   \u2502   await self._error_cb(e)                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.050817507, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:535 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    532 \u2502   \u2502                                                                 \u2502\n\u2502    533 \u2502   \u2502   while True:                                                   \u2502\n\u2502    534 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771  535 \u2502   \u2502   \u2502   \u2502   await self._select_next_server()                      \u2502\n\u2502    536 \u2502   \u2502   \u2502   \u2502   await self._process_connect_init()                    \u2502\n\u2502    537 \u2502   \u2502   \u2502   \u2502   assert (                                              \u2502\n\u2502    538 \u2502   \u2502   \u2502   \u2502   \u2502   self._current_server                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.050817507, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:1365 in _select_next_server                      \u2502\n\u2502                                                                              \u2502\n\u2502   1362 \u2502   \u2502   while True:                                                   \u2502\n\u2502   1363 \u2502   \u2502   \u2502   if len(self._server_pool) == 0:                           \u2502\n\u2502   1364 \u2502   \u2502   \u2502   \u2502   self._current_server = None                           \u2502\n\u2502 \u2771 1365 \u2502   \u2502   \u2502   \u2502   raise errors.NoServersError                           \u2502\n\u2502   1366 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   1367 \u2502   \u2502   \u2502   now = time.monotonic()                                    \u2502\n\u2502   1368 \u2502   \u2502   \u2502   s = self._server_pool.pop(0)                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                                 \u2502\n\u2502 \u2502  now = 32276.050837173                   \u2502                                 \u2502\n\u2502 \u2502    s = Srv(                              \u2502                                 \u2502\n\u2502 \u2502        \u2502   uri=ParseResult(              \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502                                 \u2502\n\u2502 \u2502        \u2502   ),                            \u2502                                 \u2502\n\u2502 \u2502        \u2502   reconnects=61,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   last_attempt=32276.050817507, \u2502                                 \u2502\n\u2502 \u2502        \u2502   did_connect=False,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   discovered=False,             \u2502                                 \u2502\n\u2502 \u2502        \u2502   tls_name=None,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   server_version=None           \u2502                                 \u2502\n\u2502 \u2502        )                                 \u2502                                 \u2502\n\u2502 \u2502 self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                                 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                                 \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\nNoServersError: nats: no servers available for connection\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:213 in run                         \u2502\n\u2502                                                                              \u2502\n\u2502   210 \u2502   \u2502   \u2502   raise typer.BadParameter(msg)                              \u2502\n\u2502   211 \u2502                                                                      \u2502\n\u2502   212 \u2502   else:                                                              \u2502\n\u2502 \u2771 213 \u2502   \u2502   _run_imported_app(app_obj, args=run_args)                      \u2502\n\u2502   214                                                                        \u2502\n\u2502   215                                                                        \u2502\n\u2502   216 def _run(args: RunArgs) -&amp;gt; None:                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502              app = &amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;         \u2502 \u2502\n\u2502 \u2502          app_dir = &amp;#x27;.&amp;#x27;                                                   \u2502 \u2502\n\u2502 \u2502          app_obj = &amp;lt;faststream.app.FastStream object at 0x7a0f174fa120&amp;gt;  \u2502 \u2502\n\u2502 \u2502 casted_log_level = 0                                                     \u2502 \u2502\n\u2502 \u2502              ctx = &amp;lt;click.core.Context object at 0x7a0f177d1950&amp;gt;         \u2502 \u2502\n\u2502 \u2502            extra = {&amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;}                                      \u2502 \u2502\n\u2502 \u2502       is_factory = False                                                 \u2502 \u2502\n\u2502 \u2502       log_config = None                                                  \u2502 \u2502\n\u2502 \u2502        log_level = &amp;lt;LogLevels.notset: &amp;#x27;notset&amp;#x27;&amp;gt;                          \u2502 \u2502\n\u2502 \u2502             loop = &amp;#x27;auto&amp;#x27;                                                \u2502 \u2502\n\u2502 \u2502      module_path = PosixPath(&amp;#x27;/home/philippe/src/PA_Communautaire/packa\u2026 \u2502 \u2502\n\u2502 \u2502           reload = False                                                 \u2502 \u2502\n\u2502 \u2502         run_args = RunArgs(                                              \u2502 \u2502\n\u2502 \u2502                    \u2502                                                     \u2502 \u2502\n\u2502 \u2502                    app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;,    \u2502 \u2502\n\u2502 \u2502                    \u2502   extra_options={                                   \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                            \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;                                \u2502 \u2502\n\u2502 \u2502                    \u2502   },                                                \u2502 \u2502\n\u2502 \u2502                    \u2502   is_factory=False,                                 \u2502 \u2502\n\u2502 \u2502                    \u2502   log_config=None,                                  \u2502 \u2502\n\u2502 \u2502                    \u2502   log_level=0,                                      \u2502 \u2502\n\u2502 \u2502                    \u2502   app_level=20,                                     \u2502 \u2502\n\u2502 \u2502                    \u2502   loop=&amp;#x27;auto&amp;#x27;                                       \u2502 \u2502\n\u2502 \u2502                    )                                                     \u2502 \u2502\n\u2502 \u2502 watch_extensions = []                                                    \u2502 \u2502\n\u2502 \u2502          workers = 1                                                     \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:248 in _run_imported_app           \u2502\n\u2502                                                                              \u2502\n\u2502   245 \u2502   \u2502   \u2502   backend_options[&amp;quot;loop_factory&amp;quot;] = uvloop.new_event_loop    \u2502\n\u2502   246 \u2502                                                                      \u2502\n\u2502   247 \u2502   try:                                                               \u2502\n\u2502 \u2771 248 \u2502   \u2502   anyio.run(                                                     \u2502\n\u2502   249 \u2502   \u2502   \u2502   app_obj.run,                                               \u2502\n\u2502   250 \u2502   \u2502   \u2502   args.app_level,                                            \u2502\n\u2502   251 \u2502   \u2502   \u2502   args.extra_options,                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         app_obj = &amp;lt;faststream.app.FastStream object at 0x7a0f174fa120&amp;gt;   \u2502 \u2502\n\u2502 \u2502            args = RunArgs(                                               \u2502 \u2502\n\u2502 \u2502                   \u2502   app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;, \u2502 \u2502\n\u2502 \u2502                   \u2502   extra_options={                                    \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                             \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   },                                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   is_factory=False,                                  \u2502 \u2502\n\u2502 \u2502                   \u2502   log_config=None,                                   \u2502 \u2502\n\u2502 \u2502                   \u2502   log_level=0,                                       \u2502 \u2502\n\u2502 \u2502                   \u2502   app_level=20,                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   loop=&amp;#x27;auto&amp;#x27;                                        \u2502 \u2502\n\u2502 \u2502                   )                                                      \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x7a0f1766e520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502          uvloop = &amp;lt;module &amp;#x27;uvloop&amp;#x27; from                                  \u2502 \u2502\n\u2502 \u2502                   &amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/.v\u2026 \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_core/_eventloop.py:75 in run                                 \u2502\n\u2502                                                                              \u2502\n\u2502    72 \u2502                                                                      \u2502\n\u2502    73 \u2502   try:                                                               \u2502\n\u2502    74 \u2502   \u2502   backend_options = backend_options or {}                        \u2502\n\u2502 \u2771  75 \u2502   \u2502   return async_backend.run(func, args, {}, backend_options)      \u2502\n\u2502    76 \u2502   finally:                                                           \u2502\n\u2502    77 \u2502   \u2502   reset_current_async_library(token)                             \u2502\n\u2502    78                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502            args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;})              \u2502 \u2502\n\u2502 \u2502   asynclib_name = None                                                   \u2502 \u2502\n\u2502 \u2502         backend = &amp;#x27;asyncio&amp;#x27;                                              \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x7a0f1766e520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502            func = &amp;lt;bound method FastStream.run of                        \u2502 \u2502\n\u2502 \u2502                   &amp;lt;faststream.app.FastStream object at 0x7a0f174fa120&amp;gt;&amp;gt;  \u2502 \u2502\n\u2502 \u2502           token = None                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2365 in run                             \u2502\n\u2502                                                                              \u2502\n\u2502   2362 \u2502   \u2502   \u2502   \u2502   loop_factory = winloop.new_event_loop                 \u2502\n\u2502   2363 \u2502   \u2502                                                                 \u2502\n\u2502   2364 \u2502   \u2502   with Runner(debug=debug, loop_factory=loop_factory) as runner \u2502\n\u2502 \u2771 2365 \u2502   \u2502   \u2502   return runner.run(wrapper())                              \u2502\n\u2502   2366 \u2502                                                                     \u2502\n\u2502   2367 \u2502   @classmethod                                                      \u2502\n\u2502   2368 \u2502   def current_token(cls) -&amp;gt; object:                                 \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;})                      \u2502 \u2502\n\u2502 \u2502   debug = None                                                           \u2502 \u2502\n\u2502 \u2502    func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream     \u2502 \u2502\n\u2502 \u2502           object at 0x7a0f174fa120&amp;gt;&amp;gt;                                     \u2502 \u2502\n\u2502 \u2502  kwargs = {}                                                             \u2502 \u2502\n\u2502 \u2502 options = {&amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at 0x7a0f1766e520&amp;gt;}  \u2502 \u2502\n\u2502 \u2502  runner = &amp;lt;asyncio.runners.Runner object at 0x7a0f174faa50&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/py \u2502\n\u2502 thon3.13/asyncio/runners.py:118 in run                                       \u2502\n\u2502                                                                              \u2502\n\u2502   115 \u2502   \u2502                                                                  \u2502\n\u2502   116 \u2502   \u2502   self._interrupt_count = 0                                      \u2502\n\u2502   117 \u2502   \u2502   try:                                                           \u2502\n\u2502 \u2771 118 \u2502   \u2502   \u2502   return self._loop.run_until_complete(task)                 \u2502\n\u2502   119 \u2502   \u2502   except exceptions.CancelledError:                              \u2502\n\u2502   120 \u2502   \u2502   \u2502   if self._interrupt_count &amp;gt; 0:                              \u2502\n\u2502   121 \u2502   \u2502   \u2502   \u2502   uncancel = getattr(task, &amp;quot;uncancel&amp;quot;, None)             \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502        context = &amp;lt;_contextvars.Context object at 0x7a0f1719ce00&amp;gt;         \u2502 \u2502\n\u2502 \u2502           coro = &amp;lt;coroutine object FastStream.run at 0x7a0f171874c0&amp;gt;     \u2502 \u2502\n\u2502 \u2502           self = &amp;lt;asyncio.runners.Runner object at 0x7a0f174faa50&amp;gt;       \u2502 \u2502\n\u2502 \u2502 sigint_handler = functools.partial(&amp;lt;bound method Runner._on_sigint of    \u2502 \u2502\n\u2502 \u2502                  &amp;lt;asyncio.runners.Runner object at 0x7a0f174faa50&amp;gt;&amp;gt;,     \u2502 \u2502\n\u2502 \u2502                  main_task=&amp;lt;Task finished                                \u2502 \u2502\n\u2502 \u2502                  name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;                    \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;)                            \u2502 \u2502\n\u2502 \u2502           task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;     \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;                             \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 in uvloop.loop.Loop.run_until_complete:1518                                  \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2348 in wrapper                         \u2502\n\u2502                                                                              \u2502\n\u2502   2345 \u2502   \u2502   \u2502   _task_states[task] = TaskState(None, None)                \u2502\n\u2502   2346 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   2347 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771 2348 \u2502   \u2502   \u2502   \u2502   return await func(*args)                              \u2502\n\u2502   2349 \u2502   \u2502   \u2502   finally:                                                  \u2502\n\u2502   2350 \u2502   \u2502   \u2502   \u2502   del _task_states[task]                                \u2502\n\u2502   2351                                                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;})                         \u2502 \u2502\n\u2502 \u2502 func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream object \u2502 \u2502\n\u2502 \u2502        at 0x7a0f174fa120&amp;gt;&amp;gt;                                               \u2502 \u2502\n\u2502 \u2502 task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;               \u2502 \u2502\n\u2502 \u2502        coro=&amp;lt;FastStream.run() done, defined at                           \u2502 \u2502\n\u2502 \u2502        /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/pyth\u2026 \u2502 \u2502\n\u2502 \u2502        exception=NoServersError()&amp;gt;                                       \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/app.py:100 in run                                        \u2502\n\u2502                                                                              \u2502\n\u2502    97 \u2502   \u2502   \u2502   \u2502   \u2502   tg.cancel_scope.cancel()                           \u2502\n\u2502    98 \u2502   \u2502   \u2502   except ExceptionGroup as e:                                \u2502\n\u2502    99 \u2502   \u2502   \u2502   \u2502   for ex in e.exceptions:                                \u2502\n\u2502 \u2771 100 \u2502   \u2502   \u2502   \u2502   \u2502   raise ex from None                                 \u2502\n\u2502   101 \u2502                                                                      \u2502\n\u2502   102 \u2502   def exit(self) -&amp;gt; None:                                            \u2502\n\u2502   103 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Stop application manually.&amp;quot;&amp;quot;&amp;quot;                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502                ex = NoServersError()                                     \u2502 \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x7a0f174fa120&amp;gt; \u2502 \u2502\n\u2502 \u2502        sleep_time = 0.1                                                  \u2502 \u2502\n\u2502 \u2502                tg = &amp;lt;anyio._backends._asyncio.TaskGroup object at        \u2502 \u2502\n\u2502 \u2502                     0x7a0f174fb4d0&amp;gt;                                      \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:205 in _startup                 \u2502\n\u2502                                                                              \u2502\n\u2502   202 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   203 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Private method calls `start` with logging.&amp;quot;&amp;quot;&amp;quot;               \u2502\n\u2502   204 \u2502   \u2502   async with self._startup_logging(log_level=log_level):         \u2502\n\u2502 \u2771 205 \u2502   \u2502   \u2502   await self.start(**(run_extra_options or {}))              \u2502\n\u2502   206 \u2502   \u2502                                                                  \u2502\n\u2502   207 \u2502   \u2502   self.running = True                                            \u2502\n\u2502   208                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x7a0f174fa120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:215 in start                    \u2502\n\u2502                                                                              \u2502\n\u2502   212 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   213 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Executes startup hooks and start broker.&amp;quot;&amp;quot;&amp;quot;                 \u2502\n\u2502   214 \u2502   \u2502   async with self._start_hooks_context(**run_extra_options):     \u2502\n\u2502 \u2771 215 \u2502   \u2502   \u2502   await self._start_broker()                                 \u2502\n\u2502   216 \u2502                                                                      \u2502\n\u2502   217 \u2502   @asynccontextmanager                                               \u2502\n\u2502   218 \u2502   async def _start_hooks_context(                                    \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8174&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x7a0f174fa120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:98 in _start_broker             \u2502\n\u2502                                                                              \u2502\n\u2502    95 \u2502   async def _start_broker(self) -&amp;gt; None:                             \u2502\n\u2502    96 \u2502   \u2502   assert self.brokers, &amp;quot;You should setup a broker&amp;quot;               \u2502\n\u2502    97 \u2502   \u2502   for b in self.brokers:                                         \u2502\n\u2502 \u2771  98 \u2502   \u2502   \u2502   await b.start()                                            \u2502\n\u2502    99 \u2502                                                                      \u2502\n\u2502   100 \u2502   @property                                                          \u2502\n\u2502   101 \u2502   def broker(self) -&amp;gt; Optional[&amp;quot;BrokerUsecase[Any, Any]&amp;quot;]:           \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    b = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7a0f174f9940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2502 self = &amp;lt;faststream.app.FastStream object at 0x7a0f174fa120&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:462 in start                       \u2502\n\u2502                                                                              \u2502\n\u2502   459 \u2502                                                                      \u2502\n\u2502   460 \u2502   async def start(self) -&amp;gt; None:                                     \u2502\n\u2502   461 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect broker to NATS cluster and startup all subscribers. \u2502\n\u2502 \u2771 462 \u2502   \u2502   await self.connect()                                           \u2502\n\u2502   463 \u2502   \u2502                                                                  \u2502\n\u2502   464 \u2502   \u2502   stream_context = self.config.connection_state.stream           \u2502\n\u2502   465                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7a0f174f9940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/broker/broker.py:111 in connect                \u2502\n\u2502                                                                              \u2502\n\u2502   108 \u2502   async def connect(self) -&amp;gt; ConnectionType:                         \u2502\n\u2502   109 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect to a remote server.&amp;quot;&amp;quot;&amp;quot;                              \u2502\n\u2502   110 \u2502   \u2502   if self._connection is None:                                   \u2502\n\u2502 \u2771 111 \u2502   \u2502   \u2502   self._connection = await self._connect()                   \u2502\n\u2502   112 \u2502   \u2502   \u2502   self._setup_logger()                                       \u2502\n\u2502   113 \u2502   \u2502                                                                  \u2502\n\u2502   114 \u2502   \u2502   return self._connection                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7a0f174f9940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:427 in _connect                    \u2502\n\u2502                                                                              \u2502\n\u2502   424 \u2502   \u2502   )                                                              \u2502\n\u2502   425 \u2502                                                                      \u2502\n\u2502   426 \u2502   async def _connect(self) -&amp;gt; &amp;quot;Client&amp;quot;:                              \u2502\n\u2502 \u2771 427 \u2502   \u2502   connection = await nats.connect(**self._connection_kwargs)     \u2502\n\u2502   428 \u2502   \u2502   self.config.connect(connection)                                \u2502\n\u2502   429 \u2502   \u2502   return connection                                              \u2502\n\u2502   430                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7a0f174f9940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/__init__.py:46 in connect                                      \u2502\n\u2502                                                                              \u2502\n\u2502   43 \u2502                                                                       \u2502\n\u2502   44 \u2502   &amp;quot;&amp;quot;&amp;quot;                                                                 \u2502\n\u2502   45 \u2502   nc = NATS()                                                         \u2502\n\u2502 \u2771 46 \u2502   await nc.connect(servers, **options)                                \u2502\n\u2502   47 \u2502   return nc                                                           \u2502\n\u2502   48                                                                         \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                              \u2502\n\u2502 \u2502      nc = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                              \u2502\n\u2502 \u2502 options = {                                 \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;name&amp;#x27;: &amp;#x27;faststream-0.6.4&amp;#x27;,   \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;verbose&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;allow_reconnect&amp;#x27;: True,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;reconnect_time_wait&amp;#x27;: 2,     \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;max_reconnect_attempts&amp;#x27;: 60, \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;no_echo&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pedantic&amp;#x27;: False,            \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;inbox_prefix&amp;#x27;: b&amp;#x27;_INBOX&amp;#x27;,    \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pending_size&amp;#x27;: 2097152,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;connect_timeout&amp;#x27;: 2,         \u2502                              \u2502\n\u2502 \u2502           \u2502   ... +18                       \u2502                              \u2502\n\u2502 \u2502           }                                 \u2502                              \u2502\n\u2502 \u2502 servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502                              \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                              \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:547 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    544 \u2502   \u2502   \u2502   \u2502   \u2502   # Never stop reconnecting                         \u2502\n\u2502    545 \u2502   \u2502   \u2502   \u2502   \u2502   continue                                          \u2502\n\u2502    546 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502 \u2771  547 \u2502   \u2502   \u2502   \u2502   raise e                                               \u2502\n\u2502    548 \u2502   \u2502   \u2502   except (OSError, errors.Error, asyncio.TimeoutError) as e \u2502\n\u2502    549 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502    550 \u2502   \u2502   \u2502   \u2502   await self._error_cb(e)                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.075654482, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:535 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    532 \u2502   \u2502                                                                 \u2502\n\u2502    533 \u2502   \u2502   while True:                                                   \u2502\n\u2502    534 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771  535 \u2502   \u2502   \u2502   \u2502   await self._select_next_server()                      \u2502\n\u2502    536 \u2502   \u2502   \u2502   \u2502   await self._process_connect_init()                    \u2502\n\u2502    537 \u2502   \u2502   \u2502   \u2502   assert (                                              \u2502\n\u2502    538 \u2502   \u2502   \u2502   \u2502   \u2502   self._current_server                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.075654482, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:1365 in _select_next_server                      \u2502\n\u2502                                                                              \u2502\n\u2502   1362 \u2502   \u2502   while True:                                                   \u2502\n\u2502   1363 \u2502   \u2502   \u2502   if len(self._server_pool) == 0:                           \u2502\n\u2502   1364 \u2502   \u2502   \u2502   \u2502   self._current_server = None                           \u2502\n\u2502 \u2771 1365 \u2502   \u2502   \u2502   \u2502   raise errors.NoServersError                           \u2502\n\u2502   1366 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   1367 \u2502   \u2502   \u2502   now = time.monotonic()                                    \u2502\n\u2502   1368 \u2502   \u2502   \u2502   s = self._server_pool.pop(0)                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                                 \u2502\n\u2502 \u2502  now = 32276.075666804                   \u2502                                 \u2502\n\u2502 \u2502    s = Srv(                              \u2502                                 \u2502\n\u2502 \u2502        \u2502   uri=ParseResult(              \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502                                 \u2502\n\u2502 \u2502        \u2502   ),                            \u2502                                 \u2502\n\u2502 \u2502        \u2502   reconnects=61,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   last_attempt=32276.075654482, \u2502                                 \u2502\n\u2502 \u2502        \u2502   did_connect=False,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   discovered=False,             \u2502                                 \u2502\n\u2502 \u2502        \u2502   tls_name=None,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   server_version=None           \u2502                                 \u2502\n\u2502 \u2502        )                                 \u2502                                 \u2502\n\u2502 \u2502 self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                                 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                                 \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\nNoServersError: nats: no servers available for connection\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:213 in run                         \u2502\n\u2502                                                                              \u2502\n\u2502   210 \u2502   \u2502   \u2502   raise typer.BadParameter(msg)                              \u2502\n\u2502   211 \u2502                                                                      \u2502\n\u2502   212 \u2502   else:                                                              \u2502\n\u2502 \u2771 213 \u2502   \u2502   _run_imported_app(app_obj, args=run_args)                      \u2502\n\u2502   214                                                                        \u2502\n\u2502   215                                                                        \u2502\n\u2502   216 def _run(args: RunArgs) -&amp;gt; None:                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502              app = &amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;         \u2502 \u2502\n\u2502 \u2502          app_dir = &amp;#x27;.&amp;#x27;                                                   \u2502 \u2502\n\u2502 \u2502          app_obj = &amp;lt;faststream.app.FastStream object at 0x79738640e120&amp;gt;  \u2502 \u2502\n\u2502 \u2502 casted_log_level = 0                                                     \u2502 \u2502\n\u2502 \u2502              ctx = &amp;lt;click.core.Context object at 0x7973866e5950&amp;gt;         \u2502 \u2502\n\u2502 \u2502            extra = {&amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;}                                      \u2502 \u2502\n\u2502 \u2502       is_factory = False                                                 \u2502 \u2502\n\u2502 \u2502       log_config = None                                                  \u2502 \u2502\n\u2502 \u2502        log_level = &amp;lt;LogLevels.notset: &amp;#x27;notset&amp;#x27;&amp;gt;                          \u2502 \u2502\n\u2502 \u2502             loop = &amp;#x27;auto&amp;#x27;                                                \u2502 \u2502\n\u2502 \u2502      module_path = PosixPath(&amp;#x27;/home/philippe/src/PA_Communautaire/packa\u2026 \u2502 \u2502\n\u2502 \u2502           reload = False                                                 \u2502 \u2502\n\u2502 \u2502         run_args = RunArgs(                                              \u2502 \u2502\n\u2502 \u2502                    \u2502                                                     \u2502 \u2502\n\u2502 \u2502                    app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;,    \u2502 \u2502\n\u2502 \u2502                    \u2502   extra_options={                                   \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                            \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;                                \u2502 \u2502\n\u2502 \u2502                    \u2502   },                                                \u2502 \u2502\n\u2502 \u2502                    \u2502   is_factory=False,                                 \u2502 \u2502\n\u2502 \u2502                    \u2502   log_config=None,                                  \u2502 \u2502\n\u2502 \u2502                    \u2502   log_level=0,                                      \u2502 \u2502\n\u2502 \u2502                    \u2502   app_level=20,                                     \u2502 \u2502\n\u2502 \u2502                    \u2502   loop=&amp;#x27;auto&amp;#x27;                                       \u2502 \u2502\n\u2502 \u2502                    )                                                     \u2502 \u2502\n\u2502 \u2502 watch_extensions = []                                                    \u2502 \u2502\n\u2502 \u2502          workers = 1                                                     \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:248 in _run_imported_app           \u2502\n\u2502                                                                              \u2502\n\u2502   245 \u2502   \u2502   \u2502   backend_options[&amp;quot;loop_factory&amp;quot;] = uvloop.new_event_loop    \u2502\n\u2502   246 \u2502                                                                      \u2502\n\u2502   247 \u2502   try:                                                               \u2502\n\u2502 \u2771 248 \u2502   \u2502   anyio.run(                                                     \u2502\n\u2502   249 \u2502   \u2502   \u2502   app_obj.run,                                               \u2502\n\u2502   250 \u2502   \u2502   \u2502   args.app_level,                                            \u2502\n\u2502   251 \u2502   \u2502   \u2502   args.extra_options,                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         app_obj = &amp;lt;faststream.app.FastStream object at 0x79738640e120&amp;gt;   \u2502 \u2502\n\u2502 \u2502            args = RunArgs(                                               \u2502 \u2502\n\u2502 \u2502                   \u2502   app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;, \u2502 \u2502\n\u2502 \u2502                   \u2502   extra_options={                                    \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                             \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   },                                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   is_factory=False,                                  \u2502 \u2502\n\u2502 \u2502                   \u2502   log_config=None,                                   \u2502 \u2502\n\u2502 \u2502                   \u2502   log_level=0,                                       \u2502 \u2502\n\u2502 \u2502                   \u2502   app_level=20,                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   loop=&amp;#x27;auto&amp;#x27;                                        \u2502 \u2502\n\u2502 \u2502                   )                                                      \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x797386582520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502          uvloop = &amp;lt;module &amp;#x27;uvloop&amp;#x27; from                                  \u2502 \u2502\n\u2502 \u2502                   &amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/.v\u2026 \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_core/_eventloop.py:75 in run                                 \u2502\n\u2502                                                                              \u2502\n\u2502    72 \u2502                                                                      \u2502\n\u2502    73 \u2502   try:                                                               \u2502\n\u2502    74 \u2502   \u2502   backend_options = backend_options or {}                        \u2502\n\u2502 \u2771  75 \u2502   \u2502   return async_backend.run(func, args, {}, backend_options)      \u2502\n\u2502    76 \u2502   finally:                                                           \u2502\n\u2502    77 \u2502   \u2502   reset_current_async_library(token)                             \u2502\n\u2502    78                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502            args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;})              \u2502 \u2502\n\u2502 \u2502   asynclib_name = None                                                   \u2502 \u2502\n\u2502 \u2502         backend = &amp;#x27;asyncio&amp;#x27;                                              \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x797386582520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502            func = &amp;lt;bound method FastStream.run of                        \u2502 \u2502\n\u2502 \u2502                   &amp;lt;faststream.app.FastStream object at 0x79738640e120&amp;gt;&amp;gt;  \u2502 \u2502\n\u2502 \u2502           token = None                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2365 in run                             \u2502\n\u2502                                                                              \u2502\n\u2502   2362 \u2502   \u2502   \u2502   \u2502   loop_factory = winloop.new_event_loop                 \u2502\n\u2502   2363 \u2502   \u2502                                                                 \u2502\n\u2502   2364 \u2502   \u2502   with Runner(debug=debug, loop_factory=loop_factory) as runner \u2502\n\u2502 \u2771 2365 \u2502   \u2502   \u2502   return runner.run(wrapper())                              \u2502\n\u2502   2366 \u2502                                                                     \u2502\n\u2502   2367 \u2502   @classmethod                                                      \u2502\n\u2502   2368 \u2502   def current_token(cls) -&amp;gt; object:                                 \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;})                      \u2502 \u2502\n\u2502 \u2502   debug = None                                                           \u2502 \u2502\n\u2502 \u2502    func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream     \u2502 \u2502\n\u2502 \u2502           object at 0x79738640e120&amp;gt;&amp;gt;                                     \u2502 \u2502\n\u2502 \u2502  kwargs = {}                                                             \u2502 \u2502\n\u2502 \u2502 options = {&amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at 0x797386582520&amp;gt;}  \u2502 \u2502\n\u2502 \u2502  runner = &amp;lt;asyncio.runners.Runner object at 0x79738640ea50&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/py \u2502\n\u2502 thon3.13/asyncio/runners.py:118 in run                                       \u2502\n\u2502                                                                              \u2502\n\u2502   115 \u2502   \u2502                                                                  \u2502\n\u2502   116 \u2502   \u2502   self._interrupt_count = 0                                      \u2502\n\u2502   117 \u2502   \u2502   try:                                                           \u2502\n\u2502 \u2771 118 \u2502   \u2502   \u2502   return self._loop.run_until_complete(task)                 \u2502\n\u2502   119 \u2502   \u2502   except exceptions.CancelledError:                              \u2502\n\u2502   120 \u2502   \u2502   \u2502   if self._interrupt_count &amp;gt; 0:                              \u2502\n\u2502   121 \u2502   \u2502   \u2502   \u2502   uncancel = getattr(task, &amp;quot;uncancel&amp;quot;, None)             \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502        context = &amp;lt;_contextvars.Context object at 0x7973860b1280&amp;gt;         \u2502 \u2502\n\u2502 \u2502           coro = &amp;lt;coroutine object FastStream.run at 0x79738609b4c0&amp;gt;     \u2502 \u2502\n\u2502 \u2502           self = &amp;lt;asyncio.runners.Runner object at 0x79738640ea50&amp;gt;       \u2502 \u2502\n\u2502 \u2502 sigint_handler = functools.partial(&amp;lt;bound method Runner._on_sigint of    \u2502 \u2502\n\u2502 \u2502                  &amp;lt;asyncio.runners.Runner object at 0x79738640ea50&amp;gt;&amp;gt;,     \u2502 \u2502\n\u2502 \u2502                  main_task=&amp;lt;Task finished                                \u2502 \u2502\n\u2502 \u2502                  name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;                    \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;)                            \u2502 \u2502\n\u2502 \u2502           task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;     \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;                             \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 in uvloop.loop.Loop.run_until_complete:1518                                  \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2348 in wrapper                         \u2502\n\u2502                                                                              \u2502\n\u2502   2345 \u2502   \u2502   \u2502   _task_states[task] = TaskState(None, None)                \u2502\n\u2502   2346 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   2347 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771 2348 \u2502   \u2502   \u2502   \u2502   return await func(*args)                              \u2502\n\u2502   2349 \u2502   \u2502   \u2502   finally:                                                  \u2502\n\u2502   2350 \u2502   \u2502   \u2502   \u2502   del _task_states[task]                                \u2502\n\u2502   2351                                                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;})                         \u2502 \u2502\n\u2502 \u2502 func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream object \u2502 \u2502\n\u2502 \u2502        at 0x79738640e120&amp;gt;&amp;gt;                                               \u2502 \u2502\n\u2502 \u2502 task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;               \u2502 \u2502\n\u2502 \u2502        coro=&amp;lt;FastStream.run() done, defined at                           \u2502 \u2502\n\u2502 \u2502        /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/pyth\u2026 \u2502 \u2502\n\u2502 \u2502        exception=NoServersError()&amp;gt;                                       \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/app.py:100 in run                                        \u2502\n\u2502                                                                              \u2502\n\u2502    97 \u2502   \u2502   \u2502   \u2502   \u2502   tg.cancel_scope.cancel()                           \u2502\n\u2502    98 \u2502   \u2502   \u2502   except ExceptionGroup as e:                                \u2502\n\u2502    99 \u2502   \u2502   \u2502   \u2502   for ex in e.exceptions:                                \u2502\n\u2502 \u2771 100 \u2502   \u2502   \u2502   \u2502   \u2502   raise ex from None                                 \u2502\n\u2502   101 \u2502                                                                      \u2502\n\u2502   102 \u2502   def exit(self) -&amp;gt; None:                                            \u2502\n\u2502   103 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Stop application manually.&amp;quot;&amp;quot;&amp;quot;                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502                ex = NoServersError()                                     \u2502 \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x79738640e120&amp;gt; \u2502 \u2502\n\u2502 \u2502        sleep_time = 0.1                                                  \u2502 \u2502\n\u2502 \u2502                tg = &amp;lt;anyio._backends._asyncio.TaskGroup object at        \u2502 \u2502\n\u2502 \u2502                     0x79738640f4d0&amp;gt;                                      \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:205 in _startup                 \u2502\n\u2502                                                                              \u2502\n\u2502   202 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   203 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Private method calls `start` with logging.&amp;quot;&amp;quot;&amp;quot;               \u2502\n\u2502   204 \u2502   \u2502   async with self._startup_logging(log_level=log_level):         \u2502\n\u2502 \u2771 205 \u2502   \u2502   \u2502   await self.start(**(run_extra_options or {}))              \u2502\n\u2502   206 \u2502   \u2502                                                                  \u2502\n\u2502   207 \u2502   \u2502   self.running = True                                            \u2502\n\u2502   208                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x79738640e120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:215 in start                    \u2502\n\u2502                                                                              \u2502\n\u2502   212 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   213 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Executes startup hooks and start broker.&amp;quot;&amp;quot;&amp;quot;                 \u2502\n\u2502   214 \u2502   \u2502   async with self._start_hooks_context(**run_extra_options):     \u2502\n\u2502 \u2771 215 \u2502   \u2502   \u2502   await self._start_broker()                                 \u2502\n\u2502   216 \u2502                                                                      \u2502\n\u2502   217 \u2502   @asynccontextmanager                                               \u2502\n\u2502   218 \u2502   async def _start_hooks_context(                                    \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8189&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x79738640e120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:98 in _start_broker             \u2502\n\u2502                                                                              \u2502\n\u2502    95 \u2502   async def _start_broker(self) -&amp;gt; None:                             \u2502\n\u2502    96 \u2502   \u2502   assert self.brokers, &amp;quot;You should setup a broker&amp;quot;               \u2502\n\u2502    97 \u2502   \u2502   for b in self.brokers:                                         \u2502\n\u2502 \u2771  98 \u2502   \u2502   \u2502   await b.start()                                            \u2502\n\u2502    99 \u2502                                                                      \u2502\n\u2502   100 \u2502   @property                                                          \u2502\n\u2502   101 \u2502   def broker(self) -&amp;gt; Optional[&amp;quot;BrokerUsecase[Any, Any]&amp;quot;]:           \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    b = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x79738640d940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2502 self = &amp;lt;faststream.app.FastStream object at 0x79738640e120&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:462 in start                       \u2502\n\u2502                                                                              \u2502\n\u2502   459 \u2502                                                                      \u2502\n\u2502   460 \u2502   async def start(self) -&amp;gt; None:                                     \u2502\n\u2502   461 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect broker to NATS cluster and startup all subscribers. \u2502\n\u2502 \u2771 462 \u2502   \u2502   await self.connect()                                           \u2502\n\u2502   463 \u2502   \u2502                                                                  \u2502\n\u2502   464 \u2502   \u2502   stream_context = self.config.connection_state.stream           \u2502\n\u2502   465                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x79738640d940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/broker/broker.py:111 in connect                \u2502\n\u2502                                                                              \u2502\n\u2502   108 \u2502   async def connect(self) -&amp;gt; ConnectionType:                         \u2502\n\u2502   109 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect to a remote server.&amp;quot;&amp;quot;&amp;quot;                              \u2502\n\u2502   110 \u2502   \u2502   if self._connection is None:                                   \u2502\n\u2502 \u2771 111 \u2502   \u2502   \u2502   self._connection = await self._connect()                   \u2502\n\u2502   112 \u2502   \u2502   \u2502   self._setup_logger()                                       \u2502\n\u2502   113 \u2502   \u2502                                                                  \u2502\n\u2502   114 \u2502   \u2502   return self._connection                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x79738640d940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:427 in _connect                    \u2502\n\u2502                                                                              \u2502\n\u2502   424 \u2502   \u2502   )                                                              \u2502\n\u2502   425 \u2502                                                                      \u2502\n\u2502   426 \u2502   async def _connect(self) -&amp;gt; &amp;quot;Client&amp;quot;:                              \u2502\n\u2502 \u2771 427 \u2502   \u2502   connection = await nats.connect(**self._connection_kwargs)     \u2502\n\u2502   428 \u2502   \u2502   self.config.connect(connection)                                \u2502\n\u2502   429 \u2502   \u2502   return connection                                              \u2502\n\u2502   430                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x79738640d940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/__init__.py:46 in connect                                      \u2502\n\u2502                                                                              \u2502\n\u2502   43 \u2502                                                                       \u2502\n\u2502   44 \u2502   &amp;quot;&amp;quot;&amp;quot;                                                                 \u2502\n\u2502   45 \u2502   nc = NATS()                                                         \u2502\n\u2502 \u2771 46 \u2502   await nc.connect(servers, **options)                                \u2502\n\u2502   47 \u2502   return nc                                                           \u2502\n\u2502   48                                                                         \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                              \u2502\n\u2502 \u2502      nc = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                              \u2502\n\u2502 \u2502 options = {                                 \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;name&amp;#x27;: &amp;#x27;faststream-0.6.4&amp;#x27;,   \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;verbose&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;allow_reconnect&amp;#x27;: True,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;reconnect_time_wait&amp;#x27;: 2,     \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;max_reconnect_attempts&amp;#x27;: 60, \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;no_echo&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pedantic&amp;#x27;: False,            \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;inbox_prefix&amp;#x27;: b&amp;#x27;_INBOX&amp;#x27;,    \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pending_size&amp;#x27;: 2097152,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;connect_timeout&amp;#x27;: 2,         \u2502                              \u2502\n\u2502 \u2502           \u2502   ... +18                       \u2502                              \u2502\n\u2502 \u2502           }                                 \u2502                              \u2502\n\u2502 \u2502 servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502                              \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                              \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:547 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    544 \u2502   \u2502   \u2502   \u2502   \u2502   # Never stop reconnecting                         \u2502\n\u2502    545 \u2502   \u2502   \u2502   \u2502   \u2502   continue                                          \u2502\n\u2502    546 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502 \u2771  547 \u2502   \u2502   \u2502   \u2502   raise e                                               \u2502\n\u2502    548 \u2502   \u2502   \u2502   except (OSError, errors.Error, asyncio.TimeoutError) as e \u2502\n\u2502    549 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502    550 \u2502   \u2502   \u2502   \u2502   await self._error_cb(e)                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                \u2502\n\u2502 \u2502        allow_reconnect = True                             \u2502                \u2502\n\u2502 \u2502                     cb = None                             \u2502                \u2502\n\u2502 \u2502              closed_cb = None                             \u2502                \u2502\n\u2502 \u2502        connect_timeout = 2                                \u2502                \u2502\n\u2502 \u2502        disconnected_cb = None                             \u2502                \u2502\n\u2502 \u2502   discovered_server_cb = None                             \u2502                \u2502\n\u2502 \u2502         dont_randomize = False                            \u2502                \u2502\n\u2502 \u2502          drain_timeout = 30                               \u2502                \u2502\n\u2502 \u2502          flush_timeout = None                             \u2502                \u2502\n\u2502 \u2502     flusher_queue_size = 1024                             \u2502                \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                        \u2502                \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                \u2502                \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                               \u2502                \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;               \u2502                \u2502\n\u2502 \u2502             nkeys_seed = None                             \u2502                \u2502\n\u2502 \u2502         nkeys_seed_str = None                             \u2502                \u2502\n\u2502 \u2502                no_echo = False                            \u2502                \u2502\n\u2502 \u2502               password = None                             \u2502                \u2502\n\u2502 \u2502               pedantic = False                            \u2502                \u2502\n\u2502 \u2502           pending_size = 2097152                          \u2502                \u2502\n\u2502 \u2502          ping_interval = 120                              \u2502                \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                \u2502                \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;            \u2502                \u2502\n\u2502 \u2502                 server = Srv(                             \u2502                \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(             \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,           \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;, \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                 \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,               \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;              \u2502                \u2502\n\u2502 \u2502                          \u2502   ),                           \u2502                \u2502\n\u2502 \u2502                          \u2502   reconnects=61,               \u2502                \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.06156688, \u2502                \u2502\n\u2502 \u2502                          \u2502   did_connect=False,           \u2502                \u2502\n\u2502 \u2502                          \u2502   discovered=False,            \u2502                \u2502\n\u2502 \u2502                          \u2502   tls_name=None,               \u2502                \u2502\n\u2502 \u2502                          \u2502   server_version=None          \u2502                \u2502\n\u2502 \u2502                          )                                \u2502                \u2502\n\u2502 \u2502 server_auth_configured = False                            \u2502                \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]        \u2502                \u2502\n\u2502 \u2502           signature_cb = None                             \u2502                \u2502\n\u2502 \u2502                    tls = None                             \u2502                \u2502\n\u2502 \u2502    tls_handshake_first = False                            \u2502                \u2502\n\u2502 \u2502           tls_hostname = None                             \u2502                \u2502\n\u2502 \u2502                  token = None                             \u2502                \u2502\n\u2502 \u2502                   user = None                             \u2502                \u2502\n\u2502 \u2502       user_credentials = None                             \u2502                \u2502\n\u2502 \u2502            user_jwt_cb = None                             \u2502                \u2502\n\u2502 \u2502                verbose = False                            \u2502                \u2502\n\u2502 \u2502  ws_connection_headers = None                             \u2502                \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:535 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    532 \u2502   \u2502                                                                 \u2502\n\u2502    533 \u2502   \u2502   while True:                                                   \u2502\n\u2502    534 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771  535 \u2502   \u2502   \u2502   \u2502   await self._select_next_server()                      \u2502\n\u2502    536 \u2502   \u2502   \u2502   \u2502   await self._process_connect_init()                    \u2502\n\u2502    537 \u2502   \u2502   \u2502   \u2502   assert (                                              \u2502\n\u2502    538 \u2502   \u2502   \u2502   \u2502   \u2502   self._current_server                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                \u2502\n\u2502 \u2502        allow_reconnect = True                             \u2502                \u2502\n\u2502 \u2502                     cb = None                             \u2502                \u2502\n\u2502 \u2502              closed_cb = None                             \u2502                \u2502\n\u2502 \u2502        connect_timeout = 2                                \u2502                \u2502\n\u2502 \u2502        disconnected_cb = None                             \u2502                \u2502\n\u2502 \u2502   discovered_server_cb = None                             \u2502                \u2502\n\u2502 \u2502         dont_randomize = False                            \u2502                \u2502\n\u2502 \u2502          drain_timeout = 30                               \u2502                \u2502\n\u2502 \u2502          flush_timeout = None                             \u2502                \u2502\n\u2502 \u2502     flusher_queue_size = 1024                             \u2502                \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                        \u2502                \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                \u2502                \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                               \u2502                \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;               \u2502                \u2502\n\u2502 \u2502             nkeys_seed = None                             \u2502                \u2502\n\u2502 \u2502         nkeys_seed_str = None                             \u2502                \u2502\n\u2502 \u2502                no_echo = False                            \u2502                \u2502\n\u2502 \u2502               password = None                             \u2502                \u2502\n\u2502 \u2502               pedantic = False                            \u2502                \u2502\n\u2502 \u2502           pending_size = 2097152                          \u2502                \u2502\n\u2502 \u2502          ping_interval = 120                              \u2502                \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                \u2502                \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;            \u2502                \u2502\n\u2502 \u2502                 server = Srv(                             \u2502                \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(             \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,           \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;, \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                 \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,               \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                \u2502                \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;              \u2502                \u2502\n\u2502 \u2502                          \u2502   ),                           \u2502                \u2502\n\u2502 \u2502                          \u2502   reconnects=61,               \u2502                \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.06156688, \u2502                \u2502\n\u2502 \u2502                          \u2502   did_connect=False,           \u2502                \u2502\n\u2502 \u2502                          \u2502   discovered=False,            \u2502                \u2502\n\u2502 \u2502                          \u2502   tls_name=None,               \u2502                \u2502\n\u2502 \u2502                          \u2502   server_version=None          \u2502                \u2502\n\u2502 \u2502                          )                                \u2502                \u2502\n\u2502 \u2502 server_auth_configured = False                            \u2502                \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]        \u2502                \u2502\n\u2502 \u2502           signature_cb = None                             \u2502                \u2502\n\u2502 \u2502                    tls = None                             \u2502                \u2502\n\u2502 \u2502    tls_handshake_first = False                            \u2502                \u2502\n\u2502 \u2502           tls_hostname = None                             \u2502                \u2502\n\u2502 \u2502                  token = None                             \u2502                \u2502\n\u2502 \u2502                   user = None                             \u2502                \u2502\n\u2502 \u2502       user_credentials = None                             \u2502                \u2502\n\u2502 \u2502            user_jwt_cb = None                             \u2502                \u2502\n\u2502 \u2502                verbose = False                            \u2502                \u2502\n\u2502 \u2502  ws_connection_headers = None                             \u2502                \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:1365 in _select_next_server                      \u2502\n\u2502                                                                              \u2502\n\u2502   1362 \u2502   \u2502   while True:                                                   \u2502\n\u2502   1363 \u2502   \u2502   \u2502   if len(self._server_pool) == 0:                           \u2502\n\u2502   1364 \u2502   \u2502   \u2502   \u2502   self._current_server = None                           \u2502\n\u2502 \u2771 1365 \u2502   \u2502   \u2502   \u2502   raise errors.NoServersError                           \u2502\n\u2502   1366 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   1367 \u2502   \u2502   \u2502   now = time.monotonic()                                    \u2502\n\u2502   1368 \u2502   \u2502   \u2502   s = self._server_pool.pop(0)                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                                  \u2502\n\u2502 \u2502  now = 32276.061579283                  \u2502                                  \u2502\n\u2502 \u2502    s = Srv(                             \u2502                                  \u2502\n\u2502 \u2502        \u2502   uri=ParseResult(             \u2502                                  \u2502\n\u2502 \u2502        \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,           \u2502                                  \u2502\n\u2502 \u2502        \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;, \u2502                                  \u2502\n\u2502 \u2502        \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                 \u2502                                  \u2502\n\u2502 \u2502        \u2502   \u2502   params=&amp;#x27;&amp;#x27;,               \u2502                                  \u2502\n\u2502 \u2502        \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                \u2502                                  \u2502\n\u2502 \u2502        \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;              \u2502                                  \u2502\n\u2502 \u2502        \u2502   ),                           \u2502                                  \u2502\n\u2502 \u2502        \u2502   reconnects=61,               \u2502                                  \u2502\n\u2502 \u2502        \u2502   last_attempt=32276.06156688, \u2502                                  \u2502\n\u2502 \u2502        \u2502   did_connect=False,           \u2502                                  \u2502\n\u2502 \u2502        \u2502   discovered=False,            \u2502                                  \u2502\n\u2502 \u2502        \u2502   tls_name=None,               \u2502                                  \u2502\n\u2502 \u2502        \u2502   server_version=None          \u2502                                  \u2502\n\u2502 \u2502        )                                \u2502                                  \u2502\n\u2502 \u2502 self = &amp;lt;nats client v2.12.0&amp;gt;            \u2502                                  \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                                  \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\nNoServersError: nats: no servers available for connection\n\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Traceback (most recent call last) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:213 in run                         \u2502\n\u2502                                                                              \u2502\n\u2502   210 \u2502   \u2502   \u2502   raise typer.BadParameter(msg)                              \u2502\n\u2502   211 \u2502                                                                      \u2502\n\u2502   212 \u2502   else:                                                              \u2502\n\u2502 \u2771 213 \u2502   \u2502   _run_imported_app(app_obj, args=run_args)                      \u2502\n\u2502   214                                                                        \u2502\n\u2502   215                                                                        \u2502\n\u2502   216 def _run(args: RunArgs) -&amp;gt; None:                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502              app = &amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;         \u2502 \u2502\n\u2502 \u2502          app_dir = &amp;#x27;.&amp;#x27;                                                   \u2502 \u2502\n\u2502 \u2502          app_obj = &amp;lt;faststream.app.FastStream object at 0x7c587d212120&amp;gt;  \u2502 \u2502\n\u2502 \u2502 casted_log_level = 0                                                     \u2502 \u2502\n\u2502 \u2502              ctx = &amp;lt;click.core.Context object at 0x7c587d4e9950&amp;gt;         \u2502 \u2502\n\u2502 \u2502            extra = {&amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;}                                      \u2502 \u2502\n\u2502 \u2502       is_factory = False                                                 \u2502 \u2502\n\u2502 \u2502       log_config = None                                                  \u2502 \u2502\n\u2502 \u2502        log_level = &amp;lt;LogLevels.notset: &amp;#x27;notset&amp;#x27;&amp;gt;                          \u2502 \u2502\n\u2502 \u2502             loop = &amp;#x27;auto&amp;#x27;                                                \u2502 \u2502\n\u2502 \u2502      module_path = PosixPath(&amp;#x27;/home/philippe/src/PA_Communautaire/packa\u2026 \u2502 \u2502\n\u2502 \u2502           reload = False                                                 \u2502 \u2502\n\u2502 \u2502         run_args = RunArgs(                                              \u2502 \u2502\n\u2502 \u2502                    \u2502                                                     \u2502 \u2502\n\u2502 \u2502                    app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;,    \u2502 \u2502\n\u2502 \u2502                    \u2502   extra_options={                                   \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                            \u2502 \u2502\n\u2502 \u2502                    \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;                                \u2502 \u2502\n\u2502 \u2502                    \u2502   },                                                \u2502 \u2502\n\u2502 \u2502                    \u2502   is_factory=False,                                 \u2502 \u2502\n\u2502 \u2502                    \u2502   log_config=None,                                  \u2502 \u2502\n\u2502 \u2502                    \u2502   log_level=0,                                      \u2502 \u2502\n\u2502 \u2502                    \u2502   app_level=20,                                     \u2502 \u2502\n\u2502 \u2502                    \u2502   loop=&amp;#x27;auto&amp;#x27;                                       \u2502 \u2502\n\u2502 \u2502                    )                                                     \u2502 \u2502\n\u2502 \u2502 watch_extensions = []                                                    \u2502 \u2502\n\u2502 \u2502          workers = 1                                                     \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/cli/main.py:248 in _run_imported_app           \u2502\n\u2502                                                                              \u2502\n\u2502   245 \u2502   \u2502   \u2502   backend_options[&amp;quot;loop_factory&amp;quot;] = uvloop.new_event_loop    \u2502\n\u2502   246 \u2502                                                                      \u2502\n\u2502   247 \u2502   try:                                                               \u2502\n\u2502 \u2771 248 \u2502   \u2502   anyio.run(                                                     \u2502\n\u2502   249 \u2502   \u2502   \u2502   app_obj.run,                                               \u2502\n\u2502   250 \u2502   \u2502   \u2502   args.app_level,                                            \u2502\n\u2502   251 \u2502   \u2502   \u2502   args.extra_options,                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         app_obj = &amp;lt;faststream.app.FastStream object at 0x7c587d212120&amp;gt;   \u2502 \u2502\n\u2502 \u2502            args = RunArgs(                                               \u2502 \u2502\n\u2502 \u2502                   \u2502   app=&amp;#x27;src/pac0/service/validation_metier/main:app&amp;#x27;, \u2502 \u2502\n\u2502 \u2502                   \u2502   extra_options={                                    \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;worker_id&amp;#x27;: None,                             \u2502 \u2502\n\u2502 \u2502                   \u2502   \u2502   &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   },                                                 \u2502 \u2502\n\u2502 \u2502                   \u2502   is_factory=False,                                  \u2502 \u2502\n\u2502 \u2502                   \u2502   log_config=None,                                   \u2502 \u2502\n\u2502 \u2502                   \u2502   log_level=0,                                       \u2502 \u2502\n\u2502 \u2502                   \u2502   app_level=20,                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   loop=&amp;#x27;auto&amp;#x27;                                        \u2502 \u2502\n\u2502 \u2502                   )                                                      \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x7c587d386520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502          uvloop = &amp;lt;module &amp;#x27;uvloop&amp;#x27; from                                  \u2502 \u2502\n\u2502 \u2502                   &amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/.v\u2026 \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_core/_eventloop.py:75 in run                                 \u2502\n\u2502                                                                              \u2502\n\u2502    72 \u2502                                                                      \u2502\n\u2502    73 \u2502   try:                                                               \u2502\n\u2502    74 \u2502   \u2502   backend_options = backend_options or {}                        \u2502\n\u2502 \u2771  75 \u2502   \u2502   return async_backend.run(func, args, {}, backend_options)      \u2502\n\u2502    76 \u2502   finally:                                                           \u2502\n\u2502    77 \u2502   \u2502   reset_current_async_library(token)                             \u2502\n\u2502    78                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502            args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;})              \u2502 \u2502\n\u2502 \u2502   asynclib_name = None                                                   \u2502 \u2502\n\u2502 \u2502         backend = &amp;#x27;asyncio&amp;#x27;                                              \u2502 \u2502\n\u2502 \u2502 backend_options = {                                                      \u2502 \u2502\n\u2502 \u2502                   \u2502   &amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at        \u2502 \u2502\n\u2502 \u2502                   0x7c587d386520&amp;gt;                                        \u2502 \u2502\n\u2502 \u2502                   }                                                      \u2502 \u2502\n\u2502 \u2502            func = &amp;lt;bound method FastStream.run of                        \u2502 \u2502\n\u2502 \u2502                   &amp;lt;faststream.app.FastStream object at 0x7c587d212120&amp;gt;&amp;gt;  \u2502 \u2502\n\u2502 \u2502           token = None                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2365 in run                             \u2502\n\u2502                                                                              \u2502\n\u2502   2362 \u2502   \u2502   \u2502   \u2502   loop_factory = winloop.new_event_loop                 \u2502\n\u2502   2363 \u2502   \u2502                                                                 \u2502\n\u2502   2364 \u2502   \u2502   with Runner(debug=debug, loop_factory=loop_factory) as runner \u2502\n\u2502 \u2771 2365 \u2502   \u2502   \u2502   return runner.run(wrapper())                              \u2502\n\u2502   2366 \u2502                                                                     \u2502\n\u2502   2367 \u2502   @classmethod                                                      \u2502\n\u2502   2368 \u2502   def current_token(cls) -&amp;gt; object:                                 \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;})                      \u2502 \u2502\n\u2502 \u2502   debug = None                                                           \u2502 \u2502\n\u2502 \u2502    func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream     \u2502 \u2502\n\u2502 \u2502           object at 0x7c587d212120&amp;gt;&amp;gt;                                     \u2502 \u2502\n\u2502 \u2502  kwargs = {}                                                             \u2502 \u2502\n\u2502 \u2502 options = {&amp;#x27;loop_factory&amp;#x27;: &amp;lt;function new_event_loop at 0x7c587d386520&amp;gt;}  \u2502 \u2502\n\u2502 \u2502  runner = &amp;lt;asyncio.runners.Runner object at 0x7c587d212a50&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/.local/share/uv/python/cpython-3.13.2-linux-x86_64-gnu/lib/py \u2502\n\u2502 thon3.13/asyncio/runners.py:118 in run                                       \u2502\n\u2502                                                                              \u2502\n\u2502   115 \u2502   \u2502                                                                  \u2502\n\u2502   116 \u2502   \u2502   self._interrupt_count = 0                                      \u2502\n\u2502   117 \u2502   \u2502   try:                                                           \u2502\n\u2502 \u2771 118 \u2502   \u2502   \u2502   return self._loop.run_until_complete(task)                 \u2502\n\u2502   119 \u2502   \u2502   except exceptions.CancelledError:                              \u2502\n\u2502   120 \u2502   \u2502   \u2502   if self._interrupt_count &amp;gt; 0:                              \u2502\n\u2502   121 \u2502   \u2502   \u2502   \u2502   uncancel = getattr(task, &amp;quot;uncancel&amp;quot;, None)             \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502        context = &amp;lt;_contextvars.Context object at 0x7c587ceb4e00&amp;gt;         \u2502 \u2502\n\u2502 \u2502           coro = &amp;lt;coroutine object FastStream.run at 0x7c587ce9f4c0&amp;gt;     \u2502 \u2502\n\u2502 \u2502           self = &amp;lt;asyncio.runners.Runner object at 0x7c587d212a50&amp;gt;       \u2502 \u2502\n\u2502 \u2502 sigint_handler = functools.partial(&amp;lt;bound method Runner._on_sigint of    \u2502 \u2502\n\u2502 \u2502                  &amp;lt;asyncio.runners.Runner object at 0x7c587d212a50&amp;gt;&amp;gt;,     \u2502 \u2502\n\u2502 \u2502                  main_task=&amp;lt;Task finished                                \u2502 \u2502\n\u2502 \u2502                  name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;                    \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;)                            \u2502 \u2502\n\u2502 \u2502           task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;     \u2502 \u2502\n\u2502 \u2502                  coro=&amp;lt;FastStream.run() done, defined at                 \u2502 \u2502\n\u2502 \u2502                  /home/philippe/src/PA_Communautaire/packages/pac0/.ven\u2026 \u2502 \u2502\n\u2502 \u2502                  exception=NoServersError()&amp;gt;                             \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 in uvloop.loop.Loop.run_until_complete:1518                                  \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/anyio/_backends/_asyncio.py:2348 in wrapper                         \u2502\n\u2502                                                                              \u2502\n\u2502   2345 \u2502   \u2502   \u2502   _task_states[task] = TaskState(None, None)                \u2502\n\u2502   2346 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   2347 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771 2348 \u2502   \u2502   \u2502   \u2502   return await func(*args)                              \u2502\n\u2502   2349 \u2502   \u2502   \u2502   finally:                                                  \u2502\n\u2502   2350 \u2502   \u2502   \u2502   \u2502   del _task_states[task]                                \u2502\n\u2502   2351                                                                       \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 args = (20, {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;})                         \u2502 \u2502\n\u2502 \u2502 func = &amp;lt;bound method FastStream.run of &amp;lt;faststream.app.FastStream object \u2502 \u2502\n\u2502 \u2502        at 0x7c587d212120&amp;gt;&amp;gt;                                               \u2502 \u2502\n\u2502 \u2502 task = &amp;lt;Task finished name=&amp;#x27;faststream.app.FastStream.run&amp;#x27;               \u2502 \u2502\n\u2502 \u2502        coro=&amp;lt;FastStream.run() done, defined at                           \u2502 \u2502\n\u2502 \u2502        /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/pyth\u2026 \u2502 \u2502\n\u2502 \u2502        exception=NoServersError()&amp;gt;                                       \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/app.py:100 in run                                        \u2502\n\u2502                                                                              \u2502\n\u2502    97 \u2502   \u2502   \u2502   \u2502   \u2502   tg.cancel_scope.cancel()                           \u2502\n\u2502    98 \u2502   \u2502   \u2502   except ExceptionGroup as e:                                \u2502\n\u2502    99 \u2502   \u2502   \u2502   \u2502   for ex in e.exceptions:                                \u2502\n\u2502 \u2771 100 \u2502   \u2502   \u2502   \u2502   \u2502   raise ex from None                                 \u2502\n\u2502   101 \u2502                                                                      \u2502\n\u2502   102 \u2502   def exit(self) -&amp;gt; None:                                            \u2502\n\u2502   103 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Stop application manually.&amp;quot;&amp;quot;&amp;quot;                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502                ex = NoServersError()                                     \u2502 \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x7c587d212120&amp;gt; \u2502 \u2502\n\u2502 \u2502        sleep_time = 0.1                                                  \u2502 \u2502\n\u2502 \u2502                tg = &amp;lt;anyio._backends._asyncio.TaskGroup object at        \u2502 \u2502\n\u2502 \u2502                     0x7c587d2134d0&amp;gt;                                      \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:205 in _startup                 \u2502\n\u2502                                                                              \u2502\n\u2502   202 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   203 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Private method calls `start` with logging.&amp;quot;&amp;quot;&amp;quot;               \u2502\n\u2502   204 \u2502   \u2502   async with self._startup_logging(log_level=log_level):         \u2502\n\u2502 \u2771 205 \u2502   \u2502   \u2502   await self.start(**(run_extra_options or {}))              \u2502\n\u2502   206 \u2502   \u2502                                                                  \u2502\n\u2502   207 \u2502   \u2502   self.running = True                                            \u2502\n\u2502   208                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502         log_level = 20                                                   \u2502 \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x7c587d212120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:215 in start                    \u2502\n\u2502                                                                              \u2502\n\u2502   212 \u2502   ) -&amp;gt; None:                                                         \u2502\n\u2502   213 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Executes startup hooks and start broker.&amp;quot;&amp;quot;&amp;quot;                 \u2502\n\u2502   214 \u2502   \u2502   async with self._start_hooks_context(**run_extra_options):     \u2502\n\u2502 \u2771 215 \u2502   \u2502   \u2502   await self._start_broker()                                 \u2502\n\u2502   216 \u2502                                                                      \u2502\n\u2502   217 \u2502   @asynccontextmanager                                               \u2502\n\u2502   218 \u2502   async def _start_hooks_context(                                    \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 run_extra_options = {&amp;#x27;worker_id&amp;#x27;: None, &amp;#x27;port&amp;#x27;: &amp;#x27;8090&amp;#x27;}                  \u2502 \u2502\n\u2502 \u2502              self = &amp;lt;faststream.app.FastStream object at 0x7c587d212120&amp;gt; \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/application.py:98 in _start_broker             \u2502\n\u2502                                                                              \u2502\n\u2502    95 \u2502   async def _start_broker(self) -&amp;gt; None:                             \u2502\n\u2502    96 \u2502   \u2502   assert self.brokers, &amp;quot;You should setup a broker&amp;quot;               \u2502\n\u2502    97 \u2502   \u2502   for b in self.brokers:                                         \u2502\n\u2502 \u2771  98 \u2502   \u2502   \u2502   await b.start()                                            \u2502\n\u2502    99 \u2502                                                                      \u2502\n\u2502   100 \u2502   @property                                                          \u2502\n\u2502   101 \u2502   def broker(self) -&amp;gt; Optional[&amp;quot;BrokerUsecase[Any, Any]&amp;quot;]:           \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502    b = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7c587d211940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2502 self = &amp;lt;faststream.app.FastStream object at 0x7c587d212120&amp;gt;              \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:462 in start                       \u2502\n\u2502                                                                              \u2502\n\u2502   459 \u2502                                                                      \u2502\n\u2502   460 \u2502   async def start(self) -&amp;gt; None:                                     \u2502\n\u2502   461 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect broker to NATS cluster and startup all subscribers. \u2502\n\u2502 \u2771 462 \u2502   \u2502   await self.connect()                                           \u2502\n\u2502   463 \u2502   \u2502                                                                  \u2502\n\u2502   464 \u2502   \u2502   stream_context = self.config.connection_state.stream           \u2502\n\u2502   465                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7c587d211940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/_internal/broker/broker.py:111 in connect                \u2502\n\u2502                                                                              \u2502\n\u2502   108 \u2502   async def connect(self) -&amp;gt; ConnectionType:                         \u2502\n\u2502   109 \u2502   \u2502   &amp;quot;&amp;quot;&amp;quot;Connect to a remote server.&amp;quot;&amp;quot;&amp;quot;                              \u2502\n\u2502   110 \u2502   \u2502   if self._connection is None:                                   \u2502\n\u2502 \u2771 111 \u2502   \u2502   \u2502   self._connection = await self._connect()                   \u2502\n\u2502   112 \u2502   \u2502   \u2502   self._setup_logger()                                       \u2502\n\u2502   113 \u2502   \u2502                                                                  \u2502\n\u2502   114 \u2502   \u2502   return self._connection                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7c587d211940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/faststream/nats/broker/broker.py:427 in _connect                    \u2502\n\u2502                                                                              \u2502\n\u2502   424 \u2502   \u2502   )                                                              \u2502\n\u2502   425 \u2502                                                                      \u2502\n\u2502   426 \u2502   async def _connect(self) -&amp;gt; &amp;quot;Client&amp;quot;:                              \u2502\n\u2502 \u2771 427 \u2502   \u2502   connection = await nats.connect(**self._connection_kwargs)     \u2502\n\u2502   428 \u2502   \u2502   self.config.connect(connection)                                \u2502\n\u2502   429 \u2502   \u2502   return connection                                              \u2502\n\u2502   430                                                                        \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e \u2502\n\u2502 \u2502 self = &amp;lt;faststream.nats.broker.broker.NatsBroker object at               \u2502 \u2502\n\u2502 \u2502        0x7c587d211940&amp;gt;                                                   \u2502 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/__init__.py:46 in connect                                      \u2502\n\u2502                                                                              \u2502\n\u2502   43 \u2502                                                                       \u2502\n\u2502   44 \u2502   &amp;quot;&amp;quot;&amp;quot;                                                                 \u2502\n\u2502   45 \u2502   nc = NATS()                                                         \u2502\n\u2502 \u2771 46 \u2502   await nc.connect(servers, **options)                                \u2502\n\u2502   47 \u2502   return nc                                                           \u2502\n\u2502   48                                                                         \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                              \u2502\n\u2502 \u2502      nc = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                              \u2502\n\u2502 \u2502 options = {                                 \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;name&amp;#x27;: &amp;#x27;faststream-0.6.4&amp;#x27;,   \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;verbose&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;allow_reconnect&amp;#x27;: True,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;reconnect_time_wait&amp;#x27;: 2,     \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;max_reconnect_attempts&amp;#x27;: 60, \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;no_echo&amp;#x27;: False,             \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pedantic&amp;#x27;: False,            \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;inbox_prefix&amp;#x27;: b&amp;#x27;_INBOX&amp;#x27;,    \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;pending_size&amp;#x27;: 2097152,      \u2502                              \u2502\n\u2502 \u2502           \u2502   &amp;#x27;connect_timeout&amp;#x27;: 2,         \u2502                              \u2502\n\u2502 \u2502           \u2502   ... +18                       \u2502                              \u2502\n\u2502 \u2502           }                                 \u2502                              \u2502\n\u2502 \u2502 servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502                              \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                              \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:547 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    544 \u2502   \u2502   \u2502   \u2502   \u2502   # Never stop reconnecting                         \u2502\n\u2502    545 \u2502   \u2502   \u2502   \u2502   \u2502   continue                                          \u2502\n\u2502    546 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502 \u2771  547 \u2502   \u2502   \u2502   \u2502   raise e                                               \u2502\n\u2502    548 \u2502   \u2502   \u2502   except (OSError, errors.Error, asyncio.TimeoutError) as e \u2502\n\u2502    549 \u2502   \u2502   \u2502   \u2502   self._err = e                                         \u2502\n\u2502    550 \u2502   \u2502   \u2502   \u2502   await self._error_cb(e)                               \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.114203357, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:535 in connect                                   \u2502\n\u2502                                                                              \u2502\n\u2502    532 \u2502   \u2502                                                                 \u2502\n\u2502    533 \u2502   \u2502   while True:                                                   \u2502\n\u2502    534 \u2502   \u2502   \u2502   try:                                                      \u2502\n\u2502 \u2771  535 \u2502   \u2502   \u2502   \u2502   await self._select_next_server()                      \u2502\n\u2502    536 \u2502   \u2502   \u2502   \u2502   await self._process_connect_init()                    \u2502\n\u2502    537 \u2502   \u2502   \u2502   \u2502   assert (                                              \u2502\n\u2502    538 \u2502   \u2502   \u2502   \u2502   \u2502   self._current_server                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e               \u2502\n\u2502 \u2502        allow_reconnect = True                              \u2502               \u2502\n\u2502 \u2502                     cb = None                              \u2502               \u2502\n\u2502 \u2502              closed_cb = None                              \u2502               \u2502\n\u2502 \u2502        connect_timeout = 2                                 \u2502               \u2502\n\u2502 \u2502        disconnected_cb = None                              \u2502               \u2502\n\u2502 \u2502   discovered_server_cb = None                              \u2502               \u2502\n\u2502 \u2502         dont_randomize = False                             \u2502               \u2502\n\u2502 \u2502          drain_timeout = 30                                \u2502               \u2502\n\u2502 \u2502          flush_timeout = None                              \u2502               \u2502\n\u2502 \u2502     flusher_queue_size = 1024                              \u2502               \u2502\n\u2502 \u2502           inbox_prefix = b&amp;#x27;_INBOX&amp;#x27;                         \u2502               \u2502\n\u2502 \u2502  max_outstanding_pings = 2                                 \u2502               \u2502\n\u2502 \u2502 max_reconnect_attempts = 60                                \u2502               \u2502\n\u2502 \u2502                   name = &amp;#x27;faststream-0.6.4&amp;#x27;                \u2502               \u2502\n\u2502 \u2502             nkeys_seed = None                              \u2502               \u2502\n\u2502 \u2502         nkeys_seed_str = None                              \u2502               \u2502\n\u2502 \u2502                no_echo = False                             \u2502               \u2502\n\u2502 \u2502               password = None                              \u2502               \u2502\n\u2502 \u2502               pedantic = False                             \u2502               \u2502\n\u2502 \u2502           pending_size = 2097152                           \u2502               \u2502\n\u2502 \u2502          ping_interval = 120                               \u2502               \u2502\n\u2502 \u2502    reconnect_time_wait = 2                                 \u2502               \u2502\n\u2502 \u2502                   self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502               \u2502\n\u2502 \u2502                 server = Srv(                              \u2502               \u2502\n\u2502 \u2502                          \u2502   uri=ParseResult(              \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502               \u2502\n\u2502 \u2502                          \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502               \u2502\n\u2502 \u2502                          \u2502   ),                            \u2502               \u2502\n\u2502 \u2502                          \u2502   reconnects=61,                \u2502               \u2502\n\u2502 \u2502                          \u2502   last_attempt=32276.114203357, \u2502               \u2502\n\u2502 \u2502                          \u2502   did_connect=False,            \u2502               \u2502\n\u2502 \u2502                          \u2502   discovered=False,             \u2502               \u2502\n\u2502 \u2502                          \u2502   tls_name=None,                \u2502               \u2502\n\u2502 \u2502                          \u2502   server_version=None           \u2502               \u2502\n\u2502 \u2502                          )                                 \u2502               \u2502\n\u2502 \u2502 server_auth_configured = False                             \u2502               \u2502\n\u2502 \u2502                servers = [&amp;#x27;nats://localhost:4222&amp;#x27;]         \u2502               \u2502\n\u2502 \u2502           signature_cb = None                              \u2502               \u2502\n\u2502 \u2502                    tls = None                              \u2502               \u2502\n\u2502 \u2502    tls_handshake_first = False                             \u2502               \u2502\n\u2502 \u2502           tls_hostname = None                              \u2502               \u2502\n\u2502 \u2502                  token = None                              \u2502               \u2502\n\u2502 \u2502                   user = None                              \u2502               \u2502\n\u2502 \u2502       user_credentials = None                              \u2502               \u2502\n\u2502 \u2502            user_jwt_cb = None                              \u2502               \u2502\n\u2502 \u2502                verbose = False                             \u2502               \u2502\n\u2502 \u2502  ws_connection_headers = None                              \u2502               \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f               \u2502\n\u2502                                                                              \u2502\n\u2502 /home/philippe/src/PA_Communautaire/packages/pac0/.venv/lib/python3.13/site- \u2502\n\u2502 packages/nats/aio/client.py:1365 in _select_next_server                      \u2502\n\u2502                                                                              \u2502\n\u2502   1362 \u2502   \u2502   while True:                                                   \u2502\n\u2502   1363 \u2502   \u2502   \u2502   if len(self._server_pool) == 0:                           \u2502\n\u2502   1364 \u2502   \u2502   \u2502   \u2502   self._current_server = None                           \u2502\n\u2502 \u2771 1365 \u2502   \u2502   \u2502   \u2502   raise errors.NoServersError                           \u2502\n\u2502   1366 \u2502   \u2502   \u2502                                                             \u2502\n\u2502   1367 \u2502   \u2502   \u2502   now = time.monotonic()                                    \u2502\n\u2502   1368 \u2502   \u2502   \u2502   s = self._server_pool.pop(0)                              \u2502\n\u2502                                                                              \u2502\n\u2502 \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 locals \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e                                 \u2502\n\u2502 \u2502  now = 32276.11423205                    \u2502                                 \u2502\n\u2502 \u2502    s = Srv(                              \u2502                                 \u2502\n\u2502 \u2502        \u2502   uri=ParseResult(              \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   scheme=&amp;#x27;nats&amp;#x27;,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   netloc=&amp;#x27;localhost:4222&amp;#x27;,  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   path=&amp;#x27;&amp;#x27;,                  \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   params=&amp;#x27;&amp;#x27;,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   query=&amp;#x27;&amp;#x27;,                 \u2502                                 \u2502\n\u2502 \u2502        \u2502   \u2502   fragment=&amp;#x27;&amp;#x27;               \u2502                                 \u2502\n\u2502 \u2502        \u2502   ),                            \u2502                                 \u2502\n\u2502 \u2502        \u2502   reconnects=61,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   last_attempt=32276.114203357, \u2502                                 \u2502\n\u2502 \u2502        \u2502   did_connect=False,            \u2502                                 \u2502\n\u2502 \u2502        \u2502   discovered=False,             \u2502                                 \u2502\n\u2502 \u2502        \u2502   tls_name=None,                \u2502                                 \u2502\n\u2502 \u2502        \u2502   server_version=None           \u2502                                 \u2502\n\u2502 \u2502        )                                 \u2502                                 \u2502\n\u2502 \u2502 self = &amp;lt;nats client v2.12.0&amp;gt;             \u2502                                 \u2502\n\u2502 \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f                                 \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\nNoServersError: nats: no servers available for connection\n[80254] 2026/01/13 17:52:00.770853 [ERR] 127.0.0.1:33310 - cid:18 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:01.933944 [ERR] 127.0.0.1:33328 - cid:20 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:03.039563 [ERR] 127.0.0.1:33342 - cid:22 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:04.163811 [ERR] 127.0.0.1:33364 - cid:24 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:05.277734 [ERR] 127.0.0.1:33378 - cid:26 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:06.411071 [ERR] 127.0.0.1:56406 - cid:28 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:07.541448 [ERR] 127.0.0.1:56426 - cid:30 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:08.658511 [ERR] 127.0.0.1:56438 - cid:32 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:09.745873 [ERR] 127.0.0.1:56446 - cid:34 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:10.877166 [ERR] 127.0.0.1:56458 - cid:36 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:12.031883 [ERR] 127.0.0.1:56466 - cid:38 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:13.125851 [ERR] 127.0.0.1:56488 - cid:40 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:14.235610 [ERR] 127.0.0.1:56498 - cid:42 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:15.342775 [ERR] 127.0.0.1:56516 - cid:44 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:16.448974 [ERR] 127.0.0.1:38086 - cid:46 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:17.581844 [ERR] 127.0.0.1:38094 - cid:48 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:18.682804 [ERR] 127.0.0.1:38102 - cid:50 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:19.734117 [ERR] 127.0.0.1:38122 - cid:52 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:20.813886 [ERR] 127.0.0.1:38138 - cid:54 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\n[80254] 2026/01/13 17:52:21.990301 [ERR] 127.0.0.1:38156 - cid:56 - Client parser ERROR, state=0, i=0: proto=&amp;#x27;&amp;quot;GET /healthcheck HTTP/1.1\\r\\nHost:&amp;quot;...&amp;#x27;\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nWARNING:pac0.shared.test.service.base:Service didn&amp;#x27;t terminate gracefully, killing...\nINFO:pac0.shared.test.service.base:Stopping service...\nINFO:pac0.shared.test.world:WorldContext: exit context ...\n\n------------------------------ Captured log call -------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service peppol on port 8008 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO     pac0.shared.test.service.base:base.py:161 Service  peppol started on localhost:8008\nINFO     pac0.shared.test.world:world.py:84 WorldContext: enter context ...\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8021 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8112 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8112\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8151 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8151\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8193 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8065 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8065\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8075 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8075\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8048 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8000 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8000\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8173 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8173\nINFO     pac0.shared.test.service.base:base.py:135 Starting service api_gateway on port 8190 : uv run fastapi run src/pac0/service/api_gateway/main.py\nINFO     pac0.shared.test.service.base:base.py:135 Starting service esb_central on port 8190 : nats-server --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  esb_central started on localhost:8190\nINFO     pac0.shared.test.service.base:base.py:135 Starting service controle_formats on port 8140 : uv run faststream run src/pac0/service/validation_metier/main:app --port={PORT}\nINFO     pac0.shared.test.service.base:base.py:161 Service  controle_formats started on localhost:8140\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nWARNING  pac0.shared.test.service.base:base.py:179 Service didn&amp;#x27;t terminate gracefully, killing...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nINFO     pac0.shared.test.world:world.py:92 WorldContext: exit context ...\n\n&#34;}], &#34;tests/test_world_old.py::TestServiceProtocol::test_nats_service_is_protocol&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestServiceProtocol::test_nats_service_is_protocol&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestServiceProtocol::test_nats_service_is_protocol&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestServiceProtocol::test_peppol_service_is_protocol&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestServiceProtocol::test_peppol_service_is_protocol&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestServiceProtocol::test_peppol_service_is_protocol&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestServiceProtocol::test_pa_service_is_protocol&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestServiceProtocol::test_pa_service_is_protocol&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestServiceProtocol::test_pa_service_is_protocol&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestServiceProtocol::test_protocol_properties_exist&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestServiceProtocol::test_protocol_properties_exist&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestServiceProtocol::test_protocol_properties_exist&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_embedded_nats_default&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_embedded_nats_default&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestNatsServiceLifecycle::test_embedded_nats_default&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_remote_nats_endpoint&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_remote_nats_endpoint&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestNatsServiceLifecycle::test_remote_nats_endpoint&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_nats_service_properties&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_nats_service_properties&#34;, &#34;duration&#34;: &#34;9 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestNatsServiceLifecycle::test_nats_service_properties&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;9 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_nats_wait_ready_timeout&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestNatsServiceLifecycle::test_nats_wait_ready_timeout&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestNatsServiceLifecycle::test_nats_wait_ready_timeout&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_world_old.py&amp;#x27;, 118, &amp;#x27;Skipped: Timeout test skipped for CI performance&amp;#x27;)\n&#34;}], &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_default&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_default&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_default&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_responses&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_responses&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_responses&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_not_found&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_not_found&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_mock_not_found&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestPeppolServiceLifecycle object at 0x7583625aab10&amp;gt;\n\n    async def test_peppol_mock_not_found(self):\n        &amp;quot;&amp;quot;&amp;quot;PeppolService returns not found for unknown participants.&amp;quot;&amp;quot;&amp;quot;\n        async with PeppolService(mock=True) as svc:\n&amp;gt;           result = await svc.lookup_by_siren(&amp;quot;999999999&amp;quot;)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/test_world_old.py:163: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc/pac0/shared/test/services.py:285: in lookup_by_siren\n    return await self._lookup_service.lookup_by_siren(siren, document_type)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/pac0/service/routage/peppol.py:401: in lookup_by_siren\n    return await self.lookup(PeppolScheme.SIREN.value, siren, document_type)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = &amp;lt;pac0.service.routage.peppol.PeppolLookupService object at 0x7583622ded50&amp;gt;, scheme_id = &amp;#x27;0009&amp;#x27;, participant_id = &amp;#x27;999999999&amp;#x27;, document_type = &amp;#x27;invoice_ubl&amp;#x27;\n\n    async def lookup(\n        self,\n        scheme_id: str,\n        participant_id: str,\n        document_type: str = &amp;quot;invoice_ubl&amp;quot;,\n    ) -&amp;gt; PeppolLookupResult:\n        &amp;quot;&amp;quot;&amp;quot;\n        Recherche l&amp;#x27;endpoint PEPPOL pour un participant.\n    \n        Args:\n            scheme_id: Scheme ID (&amp;quot;0009&amp;quot; pour SIREN, &amp;quot;0002&amp;quot; pour SIRET)\n            participant_id: Identifiant (SIREN ou SIRET)\n            document_type: Type de document (cl\u00e9 ou identifiant complet)\n    \n        Returns:\n            PeppolLookupResult avec l&amp;#x27;endpoint ou l&amp;#x27;erreur\n        &amp;quot;&amp;quot;&amp;quot;\n        # R\u00e9soudre le document type si c&amp;#x27;est une cl\u00e9\n        doc_type_id = PEPPOL_DOCUMENT_TYPES.get(document_type, document_type)\n    \n        # V\u00e9rifier si une r\u00e9ponse mock\u00e9e existe\n        key = f&amp;quot;{scheme_id}::{participant_id}&amp;quot;.lower()\n        if key in self._mock_smp_responses:\n            mock = self._mock_smp_responses[key]\n            # V\u00e9rifier si une erreur est configur\u00e9e\n            if mock.get(&amp;quot;error_code&amp;quot;):\n                error_messages = {\n                    &amp;quot;SMP_UNAVAILABLE&amp;quot;: &amp;quot;SMP temporairement indisponible&amp;quot;,\n                    &amp;quot;SMP_TIMEOUT&amp;quot;: &amp;quot;Timeout lors de la requ\u00eate SMP&amp;quot;,\n                    &amp;quot;PARTICIPANT_NOT_FOUND&amp;quot;: &amp;quot;Participant non trouv\u00e9 dans le SML&amp;quot;,\n                }\n                return PeppolLookupResult(\n                    success=False,\n                    error_code=mock[&amp;quot;error_code&amp;quot;],\n                    error_message=error_messages.get(\n                        mock[&amp;quot;error_code&amp;quot;], f&amp;quot;Erreur: {mock[&amp;#x27;error_code&amp;#x27;]}&amp;quot;\n                    ),\n                    smp_url=mock.get(&amp;quot;smp_url&amp;quot;),\n                )\n            if mock[&amp;quot;endpoint&amp;quot;]:\n                return PeppolLookupResult(\n                    success=True,\n                    endpoint=mock[&amp;quot;endpoint&amp;quot;],\n                    smp_url=mock[&amp;quot;smp_url&amp;quot;],\n                )\n            else:\n                return PeppolLookupResult(\n                    success=False,\n                    error_code=&amp;quot;DOCUMENT_TYPE_NOT_SUPPORTED&amp;quot;,\n                    error_message=f&amp;quot;Le participant ne supporte pas le document type {document_type}&amp;quot;,\n                    smp_url=mock[&amp;quot;smp_url&amp;quot;],\n                )\n    \n        # \u00c9tape 1: G\u00e9n\u00e9rer le hostname SML\n&amp;gt;       hostname = compute_sml_hostname(scheme_id, participant_id)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: compute_sml_hostname() missing 1 required positional argument: &amp;#x27;participant_id&amp;#x27;\n\nsrc/pac0/service/routage/peppol.py:223: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_clear_mock_responses&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_clear_mock_responses&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPeppolServiceLifecycle::test_peppol_clear_mock_responses&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestPeppolServiceLifecycle object at 0x7583625aac40&amp;gt;\n\n    async def test_peppol_clear_mock_responses(self):\n        &amp;quot;&amp;quot;&amp;quot;PeppolService can clear mock responses.&amp;quot;&amp;quot;&amp;quot;\n        from pac0.service.routage.peppol import PeppolEndpoint\n    \n        async with PeppolService(mock=True) as svc:\n            endpoint = PeppolEndpoint(\n                address=&amp;quot;https://ap.test.fr/as4&amp;quot;,\n                certificate=&amp;quot;MOCK_CERT&amp;quot;,\n                transport_profile=&amp;quot;peppol-transport-as4-v2_0&amp;quot;,\n            )\n            svc.set_mock_response(&amp;quot;0009&amp;quot;, &amp;quot;123456789&amp;quot;, endpoint=endpoint)\n    \n            # Clear responses\n            svc.clear_mock_responses()\n    \n            # Should no longer find it\n&amp;gt;           result = await svc.lookup_by_siren(&amp;quot;123456789&amp;quot;)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/test_world_old.py:183: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc/pac0/shared/test/services.py:285: in lookup_by_siren\n    return await self._lookup_service.lookup_by_siren(siren, document_type)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsrc/pac0/service/routage/peppol.py:401: in lookup_by_siren\n    return await self.lookup(PeppolScheme.SIREN.value, siren, document_type)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = &amp;lt;pac0.service.routage.peppol.PeppolLookupService object at 0x758362225e00&amp;gt;, scheme_id = &amp;#x27;0009&amp;#x27;, participant_id = &amp;#x27;123456789&amp;#x27;, document_type = &amp;#x27;invoice_ubl&amp;#x27;\n\n    async def lookup(\n        self,\n        scheme_id: str,\n        participant_id: str,\n        document_type: str = &amp;quot;invoice_ubl&amp;quot;,\n    ) -&amp;gt; PeppolLookupResult:\n        &amp;quot;&amp;quot;&amp;quot;\n        Recherche l&amp;#x27;endpoint PEPPOL pour un participant.\n    \n        Args:\n            scheme_id: Scheme ID (&amp;quot;0009&amp;quot; pour SIREN, &amp;quot;0002&amp;quot; pour SIRET)\n            participant_id: Identifiant (SIREN ou SIRET)\n            document_type: Type de document (cl\u00e9 ou identifiant complet)\n    \n        Returns:\n            PeppolLookupResult avec l&amp;#x27;endpoint ou l&amp;#x27;erreur\n        &amp;quot;&amp;quot;&amp;quot;\n        # R\u00e9soudre le document type si c&amp;#x27;est une cl\u00e9\n        doc_type_id = PEPPOL_DOCUMENT_TYPES.get(document_type, document_type)\n    \n        # V\u00e9rifier si une r\u00e9ponse mock\u00e9e existe\n        key = f&amp;quot;{scheme_id}::{participant_id}&amp;quot;.lower()\n        if key in self._mock_smp_responses:\n            mock = self._mock_smp_responses[key]\n            # V\u00e9rifier si une erreur est configur\u00e9e\n            if mock.get(&amp;quot;error_code&amp;quot;):\n                error_messages = {\n                    &amp;quot;SMP_UNAVAILABLE&amp;quot;: &amp;quot;SMP temporairement indisponible&amp;quot;,\n                    &amp;quot;SMP_TIMEOUT&amp;quot;: &amp;quot;Timeout lors de la requ\u00eate SMP&amp;quot;,\n                    &amp;quot;PARTICIPANT_NOT_FOUND&amp;quot;: &amp;quot;Participant non trouv\u00e9 dans le SML&amp;quot;,\n                }\n                return PeppolLookupResult(\n                    success=False,\n                    error_code=mock[&amp;quot;error_code&amp;quot;],\n                    error_message=error_messages.get(\n                        mock[&amp;quot;error_code&amp;quot;], f&amp;quot;Erreur: {mock[&amp;#x27;error_code&amp;#x27;]}&amp;quot;\n                    ),\n                    smp_url=mock.get(&amp;quot;smp_url&amp;quot;),\n                )\n            if mock[&amp;quot;endpoint&amp;quot;]:\n                return PeppolLookupResult(\n                    success=True,\n                    endpoint=mock[&amp;quot;endpoint&amp;quot;],\n                    smp_url=mock[&amp;quot;smp_url&amp;quot;],\n                )\n            else:\n                return PeppolLookupResult(\n                    success=False,\n                    error_code=&amp;quot;DOCUMENT_TYPE_NOT_SUPPORTED&amp;quot;,\n                    error_message=f&amp;quot;Le participant ne supporte pas le document type {document_type}&amp;quot;,\n                    smp_url=mock[&amp;quot;smp_url&amp;quot;],\n                )\n    \n        # \u00c9tape 1: G\u00e9n\u00e9rer le hostname SML\n&amp;gt;       hostname = compute_sml_hostname(scheme_id, participant_id)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: compute_sml_hostname() missing 1 required positional argument: &amp;#x27;participant_id&amp;#x27;\n\nsrc/pac0/service/routage/peppol.py:223: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_default&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_default&#34;, &#34;duration&#34;: &#34;327 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_default&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;327 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:53:03,274 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:03,275 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,276 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:03,277 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:03,278 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:03,279 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:03,280 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,281 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,282 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,283 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,284 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:03,285 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:03,286 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,287 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,288 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,289 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,290 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:03,291 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,293 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:03,294 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,295 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:03,296 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:03,297 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:03,298 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:03,299 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,300 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,301 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,302 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,303 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:03,303 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:03,304 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,305 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,306 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,307 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,308 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:03,309 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,310 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:03,311 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,312 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:03,313 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:03,314 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:03,315 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:03,316 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,317 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,318 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,319 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,320 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:03,320 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:03,321 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,322 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,323 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,324 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,325 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:03,326 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,475 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8315 (Press CTRL+C to quit)\n2026-01-13 17:53:03,272 INFO     - FastStream app starting...\n2026-01-13 17:53:03,292 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:03,292 INFO     - FastStream app starting...\n2026-01-13 17:53:03,309 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:03,309 INFO     - FastStream app starting...\n2026-01-13 17:53:03,326 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_healthcheck&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_healthcheck&#34;, &#34;duration&#34;: &#34;380 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_healthcheck&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;380 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:53:03,598 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:03,599 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,600 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:03,601 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:03,602 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:03,603 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:03,604 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,605 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,606 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,607 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,608 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:03,609 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:03,610 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,611 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,612 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,613 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,614 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:03,615 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,616 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:03,617 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,618 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:03,619 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:03,620 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:03,621 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:03,623 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,624 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,624 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,625 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,626 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:03,627 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:03,628 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,629 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,630 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,631 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,633 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:03,634 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,635 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:03,636 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,637 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:03,638 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:03,639 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:03,640 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:03,641 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,642 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,643 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,644 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,645 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:03,646 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:03,647 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,648 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,649 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,650 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,651 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:03,652 INFO     - routage-IN |            - `Process` waiting for messages\nINFO:     127.0.0.1:52314 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\n2026-01-13 17:53:03,857 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8269 (Press CTRL+C to quit)\n2026-01-13 17:53:03,597 INFO     - FastStream app starting...\n2026-01-13 17:53:03,615 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:03,615 INFO     - FastStream app starting...\n2026-01-13 17:53:03,634 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:03,634 INFO     - FastStream app starting...\n2026-01-13 17:53:03,652 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8269/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8269/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n&#34;}], &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_root_endpoint&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_root_endpoint&#34;, &#34;duration&#34;: &#34;423 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_root_endpoint&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;423 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:53:03,980 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:03,982 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:03,983 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:03,984 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:03,985 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:03,988 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:03,990 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,991 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,992 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,993 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,994 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:03,995 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:03,995 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,996 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,997 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,998 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:03,999 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,000 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,002 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,003 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,004 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,005 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,005 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,006 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,007 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,008 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,009 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,010 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,011 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,012 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,013 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,014 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,015 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,016 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,017 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,018 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,019 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,020 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,021 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,022 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,023 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,024 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,025 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,026 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,026 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,027 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,028 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,029 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,030 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,032 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,033 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,034 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,035 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,037 INFO     - routage-IN |            - `Process` waiting for messages\nINFO:     127.0.0.1:50846 - &amp;quot;GET / HTTP/1.1&amp;quot; 200 OK\n2026-01-13 17:53:04,282 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8332 (Press CTRL+C to quit)\n2026-01-13 17:53:03,979 INFO     - FastStream app starting...\n2026-01-13 17:53:04,001 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:04,001 INFO     - FastStream app starting...\n2026-01-13 17:53:04,018 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:04,018 INFO     - FastStream app starting...\n2026-01-13 17:53:04,037 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8332/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8332/ &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n&#34;}], &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_info&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_info&#34;, &#34;duration&#34;: &#34;324 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_info&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;324 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:53:04,405 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,406 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,408 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,409 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,410 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,411 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,413 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,414 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,415 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,416 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,417 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,418 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,420 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,422 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,424 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,425 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,426 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,429 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,431 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,431 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,432 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,433 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,433 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,434 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,434 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,435 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,435 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,436 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,437 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,437 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,438 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,438 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,439 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,439 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,440 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,441 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,442 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,443 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,445 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,446 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,447 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,447 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,448 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,449 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,451 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,452 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,453 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,454 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,455 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,456 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,457 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,458 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,459 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,460 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,607 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8202 (Press CTRL+C to quit)\n2026-01-13 17:53:04,404 INFO     - FastStream app starting...\n2026-01-13 17:53:04,430 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:04,430 INFO     - FastStream app starting...\n2026-01-13 17:53:04,441 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:04,441 INFO     - FastStream app starting...\n2026-01-13 17:53:04,461 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_shared_nats&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_shared_nats&#34;, &#34;duration&#34;: &#34;570 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_shared_nats&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;570 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:53:04,733 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,734 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,735 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,736 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,737 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,738 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,739 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,740 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,741 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,742 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,743 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,744 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,745 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,746 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,747 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,748 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,749 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,750 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,751 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,752 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,753 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,754 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,755 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,756 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,757 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,758 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,759 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,760 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,761 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,762 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,763 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,764 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,765 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,766 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,767 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,768 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,770 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:04,771 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:04,772 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:04,773 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:04,774 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:04,775 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:04,775 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,777 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,777 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,778 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,779 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:04,780 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:04,781 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,782 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,783 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,784 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:04,785 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:04,786 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,180 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8305 (Press CTRL+C to quit)\n2026-01-13 17:53:04,732 INFO     - FastStream app starting...\n2026-01-13 17:53:04,750 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:04,751 INFO     - FastStream app starting...\n2026-01-13 17:53:04,769 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:04,769 INFO     - FastStream app starting...\n2026-01-13 17:53:04,786 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_external_nats_endpoint&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_external_nats_endpoint&#34;, &#34;duration&#34;: &#34;327 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestPaServiceLifecycle::test_pa_service_external_nats_endpoint&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;327 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:53:05,308 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:05,309 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,310 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:05,311 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:05,312 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:05,315 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:05,317 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,318 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,319 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,320 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,321 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:05,322 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:05,323 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,324 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,325 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,326 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,327 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:05,328 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,330 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:05,331 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,332 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:05,333 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:05,334 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:05,335 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:05,336 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,337 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,338 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,339 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,340 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:05,341 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:05,341 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,342 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,343 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,344 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,345 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:05,346 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,347 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:05,348 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,349 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:05,350 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:05,351 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:05,352 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:05,353 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,354 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,355 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,356 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,357 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:05,358 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:05,359 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,360 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,361 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,362 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,363 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:05,364 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,508 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n----------------------------- Captured stderr call -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8340 (Press CTRL+C to quit)\n2026-01-13 17:53:05,306 INFO     - FastStream app starting...\n2026-01-13 17:53:05,329 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:05,329 INFO     - FastStream app starting...\n2026-01-13 17:53:05,346 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:05,346 INFO     - FastStream app starting...\n2026-01-13 17:53:05,364 INFO     - FastStream app started successfully! To exit, press CTRL+C\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_default_1pa&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_default_1pa&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextBasic::test_world_default_1pa&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextBasic object at 0x7583625c25d0&amp;gt;\n\n    async def test_world_default_1pa(self):\n        &amp;quot;&amp;quot;&amp;quot;Default WorldContext has 1 PA.&amp;quot;&amp;quot;&amp;quot;\n        async with WorldContext() as world:\n&amp;gt;           assert len(world.pas) == 1\nE           assert 0 == 1\nE            +  where 0 = len([])\nE            +    where [] = WorldContext(peppol=&amp;lt;pac0.shared.test.service.dns.DNSServiceContext object at 0x7583621c32f0&amp;gt;, pas=[]).pas\n\ntests/test_world_old.py:264: AssertionError\n\n----------------------------- Captured stderr call -----------------------------\nINFO:pac0.shared.test.service.base:Starting service peppol on port 8159 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO:pac0.shared.test.service.base:Service  peppol started on localhost:8159\nINFO:pac0.shared.test.world:WorldContext: enter context ...\nINFO:pac0.shared.test.service.base:Stopping service...\nINFO:pac0.shared.test.world:WorldContext: exit context ...\n\n------------------------------ Captured log call -------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service peppol on port 8159 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO     pac0.shared.test.service.base:base.py:161 Service  peppol started on localhost:8159\nINFO     pac0.shared.test.world:world.py:84 WorldContext: enter context ...\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nINFO     pac0.shared.test.world:world.py:92 WorldContext: exit context ...\n\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_with_2pa&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_with_2pa&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextBasic::test_world_with_2pa&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextBasic object at 0x7583625c2710&amp;gt;\n\n    async def test_world_with_2pa(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext with 2 PA instances.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=2) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:270: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_services_running&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_services_running&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextBasic::test_world_services_running&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextBasic object at 0x7583625aafd0&amp;gt;\n\n    async def test_world_services_running(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext has all services running.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=2) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:278: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_shared_nats&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_shared_nats&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextBasic::test_world_shared_nats&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextBasic object at 0x7583625ab100&amp;gt;\n\n    async def test_world_shared_nats(self):\n        &amp;quot;&amp;quot;&amp;quot;All PAs share the same NATS service.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=2) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:286: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_info&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextBasic::test_world_info&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextBasic::test_world_info&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextBasic object at 0x758362439130&amp;gt;\n\n    async def test_world_info(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext provides info dict.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=2) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:293: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_pa_isolation_ports&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_pa_isolation_ports&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextMultiPA::test_world_pa_isolation_ports&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextMultiPA object at 0x7583625c2850&amp;gt;\n\n    async def test_world_pa_isolation_ports(self):\n        &amp;quot;&amp;quot;&amp;quot;Each PA has different ports.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=3) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:313: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_each_pa_functional&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_each_pa_functional&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextMultiPA::test_world_each_pa_functional&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextMultiPA object at 0x7583625c2990&amp;gt;\n\n    async def test_world_each_pa_functional(self):\n        &amp;quot;&amp;quot;&amp;quot;Each PA responds to requests.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=3) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:320: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_max_pa_count&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_max_pa_count&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextMultiPA::test_world_max_pa_count&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextMultiPA object at 0x7583625ab230&amp;gt;\n\n    async def test_world_max_pa_count(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext supports up to 10 PAs.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=4) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:328: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_pa_count_validation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextMultiPA::test_world_pa_count_validation&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextMultiPA::test_world_pa_count_validation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextMultiPA object at 0x7583625ab360&amp;gt;\n\n    async def test_world_pa_count_validation(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext validates pa_count bounds.&amp;quot;&amp;quot;&amp;quot;\n        with pytest.raises(AssertionError):\n&amp;gt;           WorldContext(pa_count=0)\nE           TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:335: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_custom_nats_service&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_custom_nats_service&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextConfiguration::test_world_custom_nats_service&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextConfiguration object at 0x7583625c2ad0&amp;gt;\n\n    async def test_world_custom_nats_service(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext accepts pre-configured NATS service.&amp;quot;&amp;quot;&amp;quot;\n        nats = NatsService()\n        async with nats:\n&amp;gt;           async with WorldContext(nats_service=nats, pa_count=1) as world:\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;nats_service&amp;#x27;\n\ntests/test_world_old.py:353: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_custom_peppol_service&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_custom_peppol_service&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextConfiguration::test_world_custom_peppol_service&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextConfiguration object at 0x7583625c2c10&amp;gt;\n\n    async def test_world_custom_peppol_service(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext accepts pre-configured Peppol service.&amp;quot;&amp;quot;&amp;quot;\n        peppol = PeppolService(mock=True)\n        async with peppol:\n&amp;gt;           async with WorldContext(peppol_service=peppol, pa_count=1) as world:\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE           TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;peppol_service&amp;#x27;\n\ntests/test_world_old.py:360: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_peppol_mock_mode&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_peppol_mock_mode&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextConfiguration::test_world_peppol_mock_mode&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextConfiguration object at 0x7583625ab490&amp;gt;\n\n    async def test_world_peppol_mock_mode(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext uses mock Peppol by default.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       async with WorldContext(pa_count=1) as world:\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:365: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_services_stop_on_exit&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldContextConfiguration::test_world_services_stop_on_exit&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldContextConfiguration::test_world_services_stop_on_exit&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldContextConfiguration object at 0x7583625ab5c0&amp;gt;\n\n    async def test_world_services_stop_on_exit(self):\n        &amp;quot;&amp;quot;&amp;quot;WorldContext properly stops all services on exit.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       world = WorldContext(pa_count=2)\n                ^^^^^^^^^^^^^^^^^^^^^^^^\nE       TypeError: WorldContext.__init__() got an unexpected keyword argument &amp;#x27;pa_count&amp;#x27;\n\ntests/test_world_old.py:370: TypeError\n&#34;}], &#34;tests/test_world_old.py::TestWorldFixtures::test_world_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldFixtures::test_world_fixture&#34;, &#34;duration&#34;: &#34;6 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldFixtures::test_world_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;6 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;self = &amp;lt;test_world_old.TestWorldFixtures object at 0x7583625c2d50&amp;gt;, world = WorldContext(peppol=&amp;lt;pac0.shared.test.service.dns.DNSServiceContext object at 0x758362108d10&amp;gt;, pas=[])\n\n    async def test_world_fixture(self, world):\n        &amp;quot;&amp;quot;&amp;quot;world fixture provides 1 PA.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       assert len(world.pas) == 1\nE       assert 0 == 1\nE        +  where 0 = len([])\nE        +    where [] = WorldContext(peppol=&amp;lt;pac0.shared.test.service.dns.DNSServiceContext object at 0x758362108d10&amp;gt;, pas=[]).pas\n\ntests/test_world_old.py:401: AssertionError\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:pac0.shared.test.service.base:Starting service peppol on port 8116 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO:pac0.shared.test.service.base:Service  peppol started on localhost:8116\nINFO:pac0.shared.test.world:WorldContext: enter context ...\n\n------------------------------ Captured log setup ------------------------------\nINFO     pac0.shared.test.service.base:base.py:135 Starting service peppol on port 8116 : uv run src/pac0/service/peppol_dns_fake/main.py\nINFO     pac0.shared.test.service.base:base.py:161 Service  peppol started on localhost:8116\nINFO     pac0.shared.test.world:world.py:84 WorldContext: enter context ...\n--------------------------- Captured stderr teardown ---------------------------\nINFO:pac0.shared.test.service.base:Stopping service...\nINFO:pac0.shared.test.world:WorldContext: exit context ...\n\n---------------------------- Captured log teardown -----------------------------\nINFO     pac0.shared.test.service.base:base.py:173 Stopping service...\nINFO     pac0.shared.test.world:world.py:92 WorldContext: exit context ...&#34;}], &#34;tests/test_world_old.py::TestWorldFixtures::test_world1pa_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldFixtures::test_world1pa_fixture::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldFixtures::test_world1pa_fixture::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;file /home/philippe/src/PA_Communautaire/packages/pac0/tests/test_world_old.py, line 404\n      async def test_world1pa_fixture(self, world1pa):\n          &amp;quot;&amp;quot;&amp;quot;world1pa fixture provides 1 PA.&amp;quot;&amp;quot;&amp;quot;\n          assert len(world1pa.pas) == 1\nE       fixture &amp;#x27;world1pa&amp;#x27; not found\n&amp;gt;       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _pytest_bdd_example, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, broker_context, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, nats_server, nats_service, pa_service, pa_service_legacy, peppol_service, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_trace, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, world\n&amp;gt;       use &amp;#x27;pytest --fixtures [testpath]&amp;#x27; for help on them.\n\n/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_world_old.py:404\n&#34;}], &#34;tests/test_world_old.py::TestWorldFixtures::test_world2pa_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldFixtures::test_world2pa_fixture::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldFixtures::test_world2pa_fixture::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;file /home/philippe/src/PA_Communautaire/packages/pac0/tests/test_world_old.py, line 408\n      async def test_world2pa_fixture(self, world2pa):\n          &amp;quot;&amp;quot;&amp;quot;world2pa fixture provides 2 PAs.&amp;quot;&amp;quot;&amp;quot;\n          assert len(world2pa.pas) == 2\nE       fixture &amp;#x27;world2pa&amp;#x27; not found\n&amp;gt;       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _pytest_bdd_example, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, broker_context, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, nats_server, nats_service, pa_service, pa_service_legacy, peppol_service, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_trace, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, world\n&amp;gt;       use &amp;#x27;pytest --fixtures [testpath]&amp;#x27; for help on them.\n\n/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_world_old.py:408\n&#34;}], &#34;tests/test_world_old.py::TestWorldFixtures::test_world4pa_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldFixtures::test_world4pa_fixture::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldFixtures::test_world4pa_fixture::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;file /home/philippe/src/PA_Communautaire/packages/pac0/tests/test_world_old.py, line 412\n      async def test_world4pa_fixture(self, world4pa):\n          &amp;quot;&amp;quot;&amp;quot;world4pa fixture provides 4 PAs.&amp;quot;&amp;quot;&amp;quot;\n          assert len(world4pa.pas) == 4\nE       fixture &amp;#x27;world4pa&amp;#x27; not found\n&amp;gt;       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _pytest_bdd_example, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, broker_context, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, doctest_namespace, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, metadata, monkeypatch, nats_server, nats_service, pa_service, pa_service_legacy, peppol_service, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_trace, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, world\n&amp;gt;       use &amp;#x27;pytest --fixtures [testpath]&amp;#x27; for help on them.\n\n/home/philippe/src/PA_Communautaire/packages/pac0/tests/test_world_old.py:412\n&#34;}], &#34;tests/test_world_old.py::TestWorldFixtures::test_nats_service_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldFixtures::test_nats_service_fixture&#34;, &#34;duration&#34;: &#34;10 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldFixtures::test_nats_service_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;10 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestWorldFixtures::test_peppol_service_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldFixtures::test_peppol_service_fixture&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldFixtures::test_peppol_service_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_world_old.py::TestWorldFixtures::test_pa_service_fixture&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestWorldFixtures::test_pa_service_fixture&#34;, &#34;duration&#34;: &#34;421 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestWorldFixtures::test_pa_service_fixture&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;421 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stdout setup -----------------------------\n2026-01-13 17:53:05,799 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:05,801 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,802 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:05,803 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:05,804 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:05,805 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:05,806 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,807 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,808 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,810 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,811 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:05,812 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:05,813 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,814 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,815 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,816 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,817 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:05,818 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,819 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:05,820 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,821 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:05,822 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:05,823 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:05,824 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:05,825 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,827 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,828 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,829 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,830 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:05,831 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:05,832 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,833 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,834 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,835 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,836 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:05,837 INFO     - routage-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,838 INFO     - test2 |            - `Handle` waiting for messages\n2026-01-13 17:53:05,839 INFO     - controle-formats-IN |            - `Process` waiting for messages\n2026-01-13 17:53:05,840 INFO     - test |            - `BaseHandler` waiting for messages\n2026-01-13 17:53:05,841 INFO     - conversion-formats-OUT |            - `Process05To06` waiting for messages\n2026-01-13 17:53:05,842 INFO     - validation-metier-OUT |            - `Process04To05` waiting for messages\n2026-01-13 17:53:05,843 INFO     - api-gateway-OUT |            - `Process01To03` waiting for messages\n2026-01-13 17:53:05,844 INFO     - routage-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,845 INFO     - annuaire-local-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,846 INFO     - conversion-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,847 INFO     - api-gateway-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,848 INFO     - annuaire-local-OUT |            - `Process06To07` waiting for messages\n2026-01-13 17:53:05,849 INFO     - controle-formats-OUT |            - `Process03To04` waiting for messages\n2026-01-13 17:53:05,850 INFO     - controle-formats-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,851 INFO     - validation-metier-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,851 INFO     - transmission-fiscale-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,852 INFO     - esb-central-ERR |            - `ProcessErr` waiting for messages\n2026-01-13 17:53:05,853 INFO     - routage-OUT |            - `Process07To08` waiting for messages\n2026-01-13 17:53:05,855 INFO     - routage-IN |            - `Process` waiting for messages\n\n---------------------------- Captured stderr setup -----------------------------\nINFO:     Started server process [79353]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://127.0.0.1:8240 (Press CTRL+C to quit)\n2026-01-13 17:53:05,798 INFO     - FastStream app starting...\n2026-01-13 17:53:05,818 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:05,818 INFO     - FastStream app starting...\n2026-01-13 17:53:05,837 INFO     - FastStream app started successfully! To exit, press CTRL+C\n2026-01-13 17:53:05,837 INFO     - FastStream app starting...\n2026-01-13 17:53:05,855 INFO     - FastStream app started successfully! To exit, press CTRL+C\n\n----------------------------- Captured stdout call -----------------------------\nINFO:     127.0.0.1:35350 - &amp;quot;GET /healthcheck HTTP/1.1&amp;quot; 200 OK\n\n----------------------------- Captured stderr call -----------------------------\nINFO:httpx:HTTP Request: GET http://127.0.0.1:8240/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n------------------------------ Captured log call -------------------------------\nINFO     httpx:_client.py:1740 HTTP Request: GET http://127.0.0.1:8240/healthcheck &amp;quot;HTTP/1.1 200 OK&amp;quot;\n\n--------------------------- Captured stdout teardown ---------------------------\n2026-01-13 17:53:06,101 WARNING  -      |            - Connection broken with UnexpectedEOF()\nnats.errors.UnexpectedEOF: nats: unexpected EOF\n\n--------------------------- Captured stderr teardown ---------------------------\nINFO:     Shutting down\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.\nINFO:     Finished server process [79353]\n&#34;}], &#34;tests/test_world_old.py::TestServiceRunner::test_service_runner_readiness&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestServiceRunner::test_service_runner_readiness&#34;, &#34;duration&#34;: &#34;17 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestServiceRunner::test_service_runner_readiness&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;17 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stdout call -----------------------------\n2026-01-13 17:53:06,119 INFO     - test-subject |            - `Handler` waiting for messages\n\n----------------------------- Captured stderr call -----------------------------\n2026-01-13 17:53:06,119 INFO     - FastStream app starting...\n2026-01-13 17:53:06,120 INFO     - FastStream app started successfully! To exit, press CTRL+C\n&#34;}], &#34;tests/test_world_old.py::TestServiceRunner::test_service_runner_timeout&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_world_old.py::TestServiceRunner::test_service_runner_timeout&#34;, &#34;duration&#34;: &#34;116 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_world_old.py::TestServiceRunner::test_service_runner_timeout&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;116 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}]}, &#34;renderCollapsed&#34;: [&#34;passed&#34;], &#34;initialSort&#34;: &#34;result&#34;, &#34;title&#34;: &#34;report.html&#34;}"></div>
    <script>
      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const { getCollapsedCategory, setCollapsedIds } = require('./storage.js')

class DataManager {
    setManager(data) {
        const collapsedCategories = [...getCollapsedCategory(data.renderCollapsed)]
        const collapsedIds = []
        const tests = Object.values(data.tests).flat().map((test, index) => {
            const collapsed = collapsedCategories.includes(test.result.toLowerCase())
            const id = `test_${index}`
            if (collapsed) {
                collapsedIds.push(id)
            }
            return {
                ...test,
                id,
                collapsed,
            }
        })
        const dataBlob = { ...data, tests }
        this.data = { ...dataBlob }
        this.renderData = { ...dataBlob }
        setCollapsedIds(collapsedIds)
    }

    get allData() {
        return { ...this.data }
    }

    resetRender() {
        this.renderData = { ...this.data }
    }

    setRender(data) {
        this.renderData.tests = [...data]
    }

    toggleCollapsedItem(id) {
        this.renderData.tests = this.renderData.tests.map((test) =>
            test.id === id ? { ...test, collapsed: !test.collapsed } : test,
        )
    }

    set allCollapsed(collapsed) {
        this.renderData = { ...this.renderData, tests: [...this.renderData.tests.map((test) => (
            { ...test, collapsed }
        ))] }
    }

    get testSubset() {
        return [...this.renderData.tests]
    }

    get environment() {
        return this.renderData.environment
    }

    get initialSort() {
        return this.data.initialSort
    }
}

module.exports = {
    manager: new DataManager(),
}

},{"./storage.js":8}],2:[function(require,module,exports){
const mediaViewer = require('./mediaviewer.js')
const templateEnvRow = document.getElementById('template_environment_row')
const templateResult = document.getElementById('template_results-table__tbody')

function htmlToElements(html) {
    const temp = document.createElement('template')
    temp.innerHTML = html
    return temp.content.childNodes
}

const find = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return elem.querySelector(selector)
}

const findAll = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return [...elem.querySelectorAll(selector)]
}

const dom = {
    getStaticRow: (key, value) => {
        const envRow = templateEnvRow.content.cloneNode(true)
        const isObj = typeof value === 'object' && value !== null
        const values = isObj ? Object.keys(value).map((k) => `${k}: ${value[k]}`) : null

        const valuesElement = htmlToElements(
            values ? `<ul>${values.map((val) => `<li>${val}</li>`).join('')}<ul>` : `<div>${value}</div>`)[0]
        const td = findAll('td', envRow)
        td[0].textContent = key
        td[1].appendChild(valuesElement)

        return envRow
    },
    getResultTBody: ({ testId, id, log, extras, resultsTableRow, tableHtml, result, collapsed }) => {
        const resultBody = templateResult.content.cloneNode(true)
        resultBody.querySelector('tbody').classList.add(result.toLowerCase())
        resultBody.querySelector('tbody').id = testId
        resultBody.querySelector('.collapsible').dataset.id = id

        resultsTableRow.forEach((html) => {
            const t = document.createElement('template')
            t.innerHTML = html
            resultBody.querySelector('.collapsible').appendChild(t.content)
        })

        if (log) {
            // Wrap lines starting with "E" with span.error to color those lines red
            const wrappedLog = log.replace(/^E.*$/gm, (match) => `<span class="error">${match}</span>`)
            resultBody.querySelector('.log').innerHTML = wrappedLog
        } else {
            resultBody.querySelector('.log').remove()
        }

        if (collapsed) {
            resultBody.querySelector('.collapsible > td')?.classList.add('collapsed')
            resultBody.querySelector('.extras-row').classList.add('hidden')
        } else {
            resultBody.querySelector('.collapsible > td')?.classList.remove('collapsed')
        }

        const media = []
        extras?.forEach(({ name, format_type, content }) => {
            if (['image', 'video'].includes(format_type)) {
                media.push({ path: content, name, format_type })
            }

            if (format_type === 'html') {
                resultBody.querySelector('.extraHTML').insertAdjacentHTML('beforeend', `<div>${content}</div>`)
            }
        })
        mediaViewer.setup(resultBody, media)

        // Add custom html from the pytest_html_results_table_html hook
        tableHtml?.forEach((item) => {
            resultBody.querySelector('td[class="extra"]').insertAdjacentHTML('beforeend', item)
        })

        return resultBody
    },
}

module.exports = {
    dom,
    htmlToElements,
    find,
    findAll,
}

},{"./mediaviewer.js":6}],3:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const storageModule = require('./storage.js')

const getFilteredSubSet = (filter) =>
    manager.allData.tests.filter(({ result }) => filter.includes(result.toLowerCase()))

const doInitFilter = () => {
    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)
}

const doFilter = (type, show) => {
    if (show) {
        storageModule.showCategory(type)
    } else {
        storageModule.hideCategory(type)
    }

    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)

    const sortColumn = storageModule.getSort()
    doSort(sortColumn, true)
}

module.exports = {
    doFilter,
    doInitFilter,
}

},{"./datamanager.js":1,"./sort.js":7,"./storage.js":8}],4:[function(require,module,exports){
const { redraw, bindEvents, renderStatic } = require('./main.js')
const { doInitFilter } = require('./filter.js')
const { doInitSort } = require('./sort.js')
const { manager } = require('./datamanager.js')
const data = JSON.parse(document.getElementById('data-container').dataset.jsonblob)

function init() {
    manager.setManager(data)
    doInitFilter()
    doInitSort()
    renderStatic()
    redraw()
    bindEvents()
}

init()

},{"./datamanager.js":1,"./filter.js":3,"./main.js":5,"./sort.js":7}],5:[function(require,module,exports){
const { dom, find, findAll } = require('./dom.js')
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const { doFilter } = require('./filter.js')
const {
    getVisible,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    getSortDirection,
    possibleFilters,
} = require('./storage.js')

const removeChildren = (node) => {
    while (node.firstChild) {
        node.removeChild(node.firstChild)
    }
}

const renderStatic = () => {
    const renderEnvironmentTable = () => {
        const environment = manager.environment
        const rows = Object.keys(environment).map((key) => dom.getStaticRow(key, environment[key]))
        const table = document.getElementById('environment')
        removeChildren(table)
        rows.forEach((row) => table.appendChild(row))
    }
    renderEnvironmentTable()
}

const addItemToggleListener = (elem) => {
    elem.addEventListener('click', ({ target }) => {
        const id = target.parentElement.dataset.id
        manager.toggleCollapsedItem(id)

        const collapsedIds = getCollapsedIds()
        if (collapsedIds.includes(id)) {
            const updated = collapsedIds.filter((item) => item !== id)
            setCollapsedIds(updated)
        } else {
            collapsedIds.push(id)
            setCollapsedIds(collapsedIds)
        }
        redraw()
    })
}

const renderContent = (tests) => {
    const sortAttr = getSort(manager.initialSort)
    const sortAsc = JSON.parse(getSortDirection())
    const rows = tests.map(dom.getResultTBody)
    const table = document.getElementById('results-table')
    const tableHeader = document.getElementById('results-table-head')

    const newTable = document.createElement('table')
    newTable.id = 'results-table'

    // remove all sorting classes and set the relevant
    findAll('.sortable', tableHeader).forEach((elem) => elem.classList.remove('asc', 'desc'))
    tableHeader.querySelector(`.sortable[data-column-type="${sortAttr}"]`)?.classList.add(sortAsc ? 'desc' : 'asc')
    newTable.appendChild(tableHeader)

    if (!rows.length) {
        const emptyTable = document.getElementById('template_results-table__body--empty').content.cloneNode(true)
        newTable.appendChild(emptyTable)
    } else {
        rows.forEach((row) => {
            if (!!row) {
                findAll('.collapsible td:not(.col-links', row).forEach(addItemToggleListener)
                find('.logexpander', row).addEventListener('click',
                    (evt) => evt.target.parentNode.classList.toggle('expanded'),
                )
                newTable.appendChild(row)
            }
        })
    }

    table.replaceWith(newTable)
}

const renderDerived = () => {
    const currentFilter = getVisible()
    possibleFilters.forEach((result) => {
        const input = document.querySelector(`input[data-test-result="${result}"]`)
        input.checked = currentFilter.includes(result)
    })
}

const bindEvents = () => {
    const filterColumn = (evt) => {
        const { target: element } = evt
        const { testResult } = element.dataset

        doFilter(testResult, element.checked)
        const collapsedIds = getCollapsedIds()
        const updated = manager.renderData.tests.map((test) => {
            return {
                ...test,
                collapsed: collapsedIds.includes(test.id),
            }
        })
        manager.setRender(updated)
        redraw()
    }

    const header = document.getElementById('environment-header')
    header.addEventListener('click', () => {
        const table = document.getElementById('environment')
        table.classList.toggle('hidden')
        header.classList.toggle('collapsed')
    })

    findAll('input[name="filter_checkbox"]').forEach((elem) => {
        elem.addEventListener('click', filterColumn)
    })

    findAll('.sortable').forEach((elem) => {
        elem.addEventListener('click', (evt) => {
            const { target: element } = evt
            const { columnType } = element.dataset
            doSort(columnType)
            redraw()
        })
    })

    document.getElementById('show_all_details').addEventListener('click', () => {
        manager.allCollapsed = false
        setCollapsedIds([])
        redraw()
    })
    document.getElementById('hide_all_details').addEventListener('click', () => {
        manager.allCollapsed = true
        const allIds = manager.renderData.tests.map((test) => test.id)
        setCollapsedIds(allIds)
        redraw()
    })
}

const redraw = () => {
    const { testSubset } = manager

    renderContent(testSubset)
    renderDerived()
}

module.exports = {
    redraw,
    bindEvents,
    renderStatic,
}

},{"./datamanager.js":1,"./dom.js":2,"./filter.js":3,"./sort.js":7,"./storage.js":8}],6:[function(require,module,exports){
class MediaViewer {
    constructor(assets) {
        this.assets = assets
        this.index = 0
    }

    nextActive() {
        this.index = this.index === this.assets.length - 1 ? 0 : this.index + 1
        return [this.activeFile, this.index]
    }

    prevActive() {
        this.index = this.index === 0 ? this.assets.length - 1 : this.index -1
        return [this.activeFile, this.index]
    }

    get currentIndex() {
        return this.index
    }

    get activeFile() {
        return this.assets[this.index]
    }
}


const setup = (resultBody, assets) => {
    if (!assets.length) {
        resultBody.querySelector('.media').classList.add('hidden')
        return
    }

    const mediaViewer = new MediaViewer(assets)
    const container = resultBody.querySelector('.media-container')
    const leftArrow = resultBody.querySelector('.media-container__nav--left')
    const rightArrow = resultBody.querySelector('.media-container__nav--right')
    const mediaName = resultBody.querySelector('.media__name')
    const counter = resultBody.querySelector('.media__counter')
    const imageEl = resultBody.querySelector('img')
    const sourceEl = resultBody.querySelector('source')
    const videoEl = resultBody.querySelector('video')

    const setImg = (media, index) => {
        if (media?.format_type === 'image') {
            imageEl.src = media.path

            imageEl.classList.remove('hidden')
            videoEl.classList.add('hidden')
        } else if (media?.format_type === 'video') {
            sourceEl.src = media.path

            videoEl.classList.remove('hidden')
            imageEl.classList.add('hidden')
        }

        mediaName.innerText = media?.name
        counter.innerText = `${index + 1} / ${assets.length}`
    }
    setImg(mediaViewer.activeFile, mediaViewer.currentIndex)

    const moveLeft = () => {
        const [media, index] = mediaViewer.prevActive()
        setImg(media, index)
    }
    const doRight = () => {
        const [media, index] = mediaViewer.nextActive()
        setImg(media, index)
    }
    const openImg = () => {
        window.open(mediaViewer.activeFile.path, '_blank')
    }
    if (assets.length === 1) {
        container.classList.add('media-container--fullscreen')
    } else {
        leftArrow.addEventListener('click', moveLeft)
        rightArrow.addEventListener('click', doRight)
    }
    imageEl.addEventListener('click', openImg)
}

module.exports = {
    setup,
}

},{}],7:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const storageModule = require('./storage.js')

const genericSort = (list, key, ascending, customOrder) => {
    let sorted
    if (customOrder) {
        sorted = list.sort((a, b) => {
            const aValue = a.result.toLowerCase()
            const bValue = b.result.toLowerCase()

            const aIndex = customOrder.findIndex((item) => item.toLowerCase() === aValue)
            const bIndex = customOrder.findIndex((item) => item.toLowerCase() === bValue)

            // Compare the indices to determine the sort order
            return aIndex - bIndex
        })
    } else {
        sorted = list.sort((a, b) => a[key] === b[key] ? 0 : a[key] > b[key] ? 1 : -1)
    }

    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const durationSort = (list, ascending) => {
    const parseDuration = (duration) => {
        if (duration.includes(':')) {
            // If it's in the format "HH:mm:ss"
            const [hours, minutes, seconds] = duration.split(':').map(Number)
            return (hours * 3600 + minutes * 60 + seconds) * 1000
        } else {
            // If it's in the format "nnn ms"
            return parseInt(duration)
        }
    }
    const sorted = list.sort((a, b) => parseDuration(a['duration']) - parseDuration(b['duration']))
    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const doInitSort = () => {
    const type = storageModule.getSort(manager.initialSort)
    const ascending = storageModule.getSortDirection()
    const list = manager.testSubset
    const initialOrder = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed', 'Skipped', 'Passed']

    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    if (type?.toLowerCase() === 'original') {
        manager.setRender(list)
    } else {
        let sortedList
        switch (type) {
        case 'duration':
            sortedList = durationSort(list, ascending)
            break
        case 'result':
            sortedList = genericSort(list, type, ascending, initialOrder)
            break
        default:
            sortedList = genericSort(list, type, ascending)
            break
        }
        manager.setRender(sortedList)
    }
}

const doSort = (type, skipDirection) => {
    const newSortType = storageModule.getSort(manager.initialSort) !== type
    const currentAsc = storageModule.getSortDirection()
    let ascending
    if (skipDirection) {
        ascending = currentAsc
    } else {
        ascending = newSortType ? false : !currentAsc
    }
    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    const list = manager.testSubset
    const sortedList = type === 'duration' ? durationSort(list, ascending) : genericSort(list, type, ascending)
    manager.setRender(sortedList)
}

module.exports = {
    doInitSort,
    doSort,
}

},{"./datamanager.js":1,"./storage.js":8}],8:[function(require,module,exports){
const possibleFilters = [
    'passed',
    'skipped',
    'failed',
    'error',
    'xfailed',
    'xpassed',
    'rerun',
]

const getVisible = () => {
    const url = new URL(window.location.href)
    const settings = new URLSearchParams(url.search).get('visible')
    const lower = (item) => {
        const lowerItem = item.toLowerCase()
        if (possibleFilters.includes(lowerItem)) {
            return lowerItem
        }
        return null
    }
    return settings === null ?
        possibleFilters :
        [...new Set(settings?.split(',').map(lower).filter((item) => item))]
}

const hideCategory = (categoryToHide) => {
    const url = new URL(window.location.href)
    const visibleParams = new URLSearchParams(url.search).get('visible')
    const currentVisible = visibleParams ? visibleParams.split(',') : [...possibleFilters]
    const settings = [...new Set(currentVisible)].filter((f) => f !== categoryToHide).join(',')

    url.searchParams.set('visible', settings)
    window.history.pushState({}, null, unescape(url.href))
}

const showCategory = (categoryToShow) => {
    if (typeof window === 'undefined') {
        return
    }
    const url = new URL(window.location.href)
    const currentVisible = new URLSearchParams(url.search).get('visible')?.split(',').filter(Boolean) ||
        [...possibleFilters]
    const settings = [...new Set([categoryToShow, ...currentVisible])]
    const noFilter = possibleFilters.length === settings.length || !settings.length

    noFilter ? url.searchParams.delete('visible') : url.searchParams.set('visible', settings.join(','))
    window.history.pushState({}, null, unescape(url.href))
}

const getSort = (initialSort) => {
    const url = new URL(window.location.href)
    let sort = new URLSearchParams(url.search).get('sort')
    if (!sort) {
        sort = initialSort || 'result'
    }
    return sort
}

const setSort = (type) => {
    const url = new URL(window.location.href)
    url.searchParams.set('sort', type)
    window.history.pushState({}, null, unescape(url.href))
}

const getCollapsedCategory = (renderCollapsed) => {
    let categories
    if (typeof window !== 'undefined') {
        const url = new URL(window.location.href)
        const collapsedItems = new URLSearchParams(url.search).get('collapsed')
        switch (true) {
        case !renderCollapsed && collapsedItems === null:
            categories = ['passed']
            break
        case collapsedItems?.length === 0 || /^["']{2}$/.test(collapsedItems):
            categories = []
            break
        case /^all$/.test(collapsedItems) || collapsedItems === null && /^all$/.test(renderCollapsed):
            categories = [...possibleFilters]
            break
        default:
            categories = collapsedItems?.split(',').map((item) => item.toLowerCase()) || renderCollapsed
            break
        }
    } else {
        categories = []
    }
    return categories
}

const getSortDirection = () => JSON.parse(sessionStorage.getItem('sortAsc')) || false
const setSortDirection = (ascending) => sessionStorage.setItem('sortAsc', ascending)

const getCollapsedIds = () => JSON.parse(sessionStorage.getItem('collapsedIds')) || []
const setCollapsedIds = (list) => sessionStorage.setItem('collapsedIds', JSON.stringify(list))

module.exports = {
    getVisible,
    hideCategory,
    showCategory,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    setSort,
    getSortDirection,
    setSortDirection,
    getCollapsedCategory,
    possibleFilters,
}

},{}]},{},[4]);
    </script>
  </footer>
</html>